var aS=n=>{throw TypeError(n)};var gs=(n,e,o)=>e.has(n)?aS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,o);function uS(n,e){for(var o=0;o<e.length;o++){const s=e[o];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in n)){const u=Object.getOwnPropertyDescriptor(s,l);u&&Object.defineProperty(n,l,u.get?u:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=o(l);fetch(l.href,u)}})();function Z0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zu={exports:{}},ys={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh;function cS(){if(Bh)return ys;Bh=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:n,type:s,key:d,ref:l!==void 0?l:null,props:u}}return ys.Fragment=e,ys.jsx=o,ys.jsxs=o,ys}var qh;function fS(){return qh||(qh=1,zu.exports=cS()),zu.exports}var C=fS(),Hu={exports:{}},vs={},Vu={exports:{}},Bu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fh;function dS(){return Fh||(Fh=1,(function(n){function e(R,q){var Z=R.length;R.push(q);e:for(;0<Z;){var ce=Z-1>>>1,pe=R[ce];if(0<l(pe,q))R[ce]=q,R[Z]=pe,Z=ce;else break e}}function o(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var q=R[0],Z=R.pop();if(Z!==q){R[0]=Z;e:for(var ce=0,pe=R.length,A=pe>>>1;ce<A;){var z=2*(ce+1)-1,M=R[z],Y=z+1,K=R[Y];if(0>l(M,Z))Y<pe&&0>l(K,M)?(R[ce]=K,R[Y]=Z,ce=Y):(R[ce]=M,R[z]=Z,ce=z);else if(Y<pe&&0>l(K,Z))R[ce]=K,R[Y]=Z,ce=Y;else break e}}return q}function l(R,q){var Z=R.sortIndex-q.sortIndex;return Z!==0?Z:R.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var y=[],m=[],v=1,_=null,T=3,E=!1,D=!1,P=!1,L=!1,G=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function W(R){for(var q=o(m);q!==null;){if(q.callback===null)s(m);else if(q.startTime<=R)s(m),q.sortIndex=q.expirationTime,e(y,q);else break;q=o(m)}}function ee(R){if(P=!1,W(R),!D)if(o(y)!==null)D=!0,le||(le=!0,ge());else{var q=o(m);q!==null&&qe(ee,q.startTime-R)}}var le=!1,Q=-1,ve=5,ie=-1;function ne(){return L?!0:!(n.unstable_now()-ie<ve)}function he(){if(L=!1,le){var R=n.unstable_now();ie=R;var q=!0;try{e:{D=!1,P&&(P=!1,j(Q),Q=-1),E=!0;var Z=T;try{t:{for(W(R),_=o(y);_!==null&&!(_.expirationTime>R&&ne());){var ce=_.callback;if(typeof ce=="function"){_.callback=null,T=_.priorityLevel;var pe=ce(_.expirationTime<=R);if(R=n.unstable_now(),typeof pe=="function"){_.callback=pe,W(R),q=!0;break t}_===o(y)&&s(y),W(R)}else s(y);_=o(y)}if(_!==null)q=!0;else{var A=o(m);A!==null&&qe(ee,A.startTime-R),q=!1}}break e}finally{_=null,T=Z,E=!1}q=void 0}}finally{q?ge():le=!1}}}var ge;if(typeof $=="function")ge=function(){$(he)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,be=fe.port2;fe.port1.onmessage=he,ge=function(){be.postMessage(null)}}else ge=function(){G(he,0)};function qe(R,q){Q=G(function(){R(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(R){R.callback=null},n.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<R?Math.floor(1e3/R):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(R){switch(T){case 1:case 2:case 3:var q=3;break;default:q=T}var Z=T;T=q;try{return R()}finally{T=Z}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(R,q){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Z=T;T=R;try{return q()}finally{T=Z}},n.unstable_scheduleCallback=function(R,q,Z){var ce=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ce+Z:ce):Z=ce,R){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Z+pe,R={id:v++,callback:q,priorityLevel:R,startTime:Z,expirationTime:pe,sortIndex:-1},Z>ce?(R.sortIndex=Z,e(m,R),o(y)===null&&R===o(m)&&(P?(j(Q),Q=-1):P=!0,qe(ee,Z-ce))):(R.sortIndex=pe,e(y,R),D||E||(D=!0,le||(le=!0,ge()))),R},n.unstable_shouldYield=ne,n.unstable_wrapCallback=function(R){var q=T;return function(){var Z=T;T=q;try{return R.apply(this,arguments)}finally{T=Z}}}})(Bu)),Bu}var Jh;function pS(){return Jh||(Jh=1,Vu.exports=dS()),Vu.exports}var qu={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh;function hS(){if(Yh)return _e;Yh=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function E(A){return A===null||typeof A!="object"?null:(A=T&&A[T]||A["@@iterator"],typeof A=="function"?A:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,L={};function G(A,z,M){this.props=A,this.context=z,this.refs=L,this.updater=M||D}G.prototype.isReactComponent={},G.prototype.setState=function(A,z){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,z,"setState")},G.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function j(){}j.prototype=G.prototype;function $(A,z,M){this.props=A,this.context=z,this.refs=L,this.updater=M||D}var W=$.prototype=new j;W.constructor=$,P(W,G.prototype),W.isPureReactComponent=!0;var ee=Array.isArray;function le(){}var Q={H:null,A:null,T:null,S:null},ve=Object.prototype.hasOwnProperty;function ie(A,z,M){var Y=M.ref;return{$$typeof:n,type:A,key:z,ref:Y!==void 0?Y:null,props:M}}function ne(A,z){return ie(A.type,z,A.props)}function he(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function ge(A){var z={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(M){return z[M]})}var fe=/\/+/g;function be(A,z){return typeof A=="object"&&A!==null&&A.key!=null?ge(""+A.key):z.toString(36)}function qe(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(le,le):(A.status="pending",A.then(function(z){A.status==="pending"&&(A.status="fulfilled",A.value=z)},function(z){A.status==="pending"&&(A.status="rejected",A.reason=z)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function R(A,z,M,Y,K){var X=typeof A;(X==="undefined"||X==="boolean")&&(A=null);var F=!1;if(A===null)F=!0;else switch(X){case"bigint":case"string":case"number":F=!0;break;case"object":switch(A.$$typeof){case n:case e:F=!0;break;case v:return F=A._init,R(F(A._payload),z,M,Y,K)}}if(F)return K=K(A),F=Y===""?"."+be(A,0):Y,ee(K)?(M="",F!=null&&(M=F.replace(fe,"$&/")+"/"),R(K,z,M,"",function(Je){return Je})):K!=null&&(he(K)&&(K=ne(K,M+(K.key==null||A&&A.key===K.key?"":(""+K.key).replace(fe,"$&/")+"/")+F)),z.push(K)),1;F=0;var J=Y===""?".":Y+":";if(ee(A))for(var se=0;se<A.length;se++)Y=A[se],X=J+be(Y,se),F+=R(Y,z,M,X,K);else if(se=E(A),typeof se=="function")for(A=se.call(A),se=0;!(Y=A.next()).done;)Y=Y.value,X=J+be(Y,se++),F+=R(Y,z,M,X,K);else if(X==="object"){if(typeof A.then=="function")return R(qe(A),z,M,Y,K);throw z=String(A),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return F}function q(A,z,M){if(A==null)return A;var Y=[],K=0;return R(A,Y,"","",function(X){return z.call(M,X,K++)}),Y}function Z(A){if(A._status===-1){var z=A._result;z=z(),z.then(function(M){(A._status===0||A._status===-1)&&(A._status=1,A._result=M)},function(M){(A._status===0||A._status===-1)&&(A._status=2,A._result=M)}),A._status===-1&&(A._status=0,A._result=z)}if(A._status===1)return A._result.default;throw A._result}var ce=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},pe={map:q,forEach:function(A,z,M){q(A,function(){z.apply(this,arguments)},M)},count:function(A){var z=0;return q(A,function(){z++}),z},toArray:function(A){return q(A,function(z){return z})||[]},only:function(A){if(!he(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return _e.Activity=_,_e.Children=pe,_e.Component=G,_e.Fragment=o,_e.Profiler=l,_e.PureComponent=$,_e.StrictMode=s,_e.Suspense=y,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,_e.__COMPILER_RUNTIME={__proto__:null,c:function(A){return Q.H.useMemoCache(A)}},_e.cache=function(A){return function(){return A.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(A,z,M){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var Y=P({},A.props),K=A.key;if(z!=null)for(X in z.key!==void 0&&(K=""+z.key),z)!ve.call(z,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&z.ref===void 0||(Y[X]=z[X]);var X=arguments.length-2;if(X===1)Y.children=M;else if(1<X){for(var F=Array(X),J=0;J<X;J++)F[J]=arguments[J+2];Y.children=F}return ie(A.type,K,Y)},_e.createContext=function(A){return A={$$typeof:d,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},_e.createElement=function(A,z,M){var Y,K={},X=null;if(z!=null)for(Y in z.key!==void 0&&(X=""+z.key),z)ve.call(z,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(K[Y]=z[Y]);var F=arguments.length-2;if(F===1)K.children=M;else if(1<F){for(var J=Array(F),se=0;se<F;se++)J[se]=arguments[se+2];K.children=J}if(A&&A.defaultProps)for(Y in F=A.defaultProps,F)K[Y]===void 0&&(K[Y]=F[Y]);return ie(A,X,K)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(A){return{$$typeof:h,render:A}},_e.isValidElement=he,_e.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:Z}},_e.memo=function(A,z){return{$$typeof:m,type:A,compare:z===void 0?null:z}},_e.startTransition=function(A){var z=Q.T,M={};Q.T=M;try{var Y=A(),K=Q.S;K!==null&&K(M,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(le,ce)}catch(X){ce(X)}finally{z!==null&&M.types!==null&&(z.types=M.types),Q.T=z}},_e.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},_e.use=function(A){return Q.H.use(A)},_e.useActionState=function(A,z,M){return Q.H.useActionState(A,z,M)},_e.useCallback=function(A,z){return Q.H.useCallback(A,z)},_e.useContext=function(A){return Q.H.useContext(A)},_e.useDebugValue=function(){},_e.useDeferredValue=function(A,z){return Q.H.useDeferredValue(A,z)},_e.useEffect=function(A,z){return Q.H.useEffect(A,z)},_e.useEffectEvent=function(A){return Q.H.useEffectEvent(A)},_e.useId=function(){return Q.H.useId()},_e.useImperativeHandle=function(A,z,M){return Q.H.useImperativeHandle(A,z,M)},_e.useInsertionEffect=function(A,z){return Q.H.useInsertionEffect(A,z)},_e.useLayoutEffect=function(A,z){return Q.H.useLayoutEffect(A,z)},_e.useMemo=function(A,z){return Q.H.useMemo(A,z)},_e.useOptimistic=function(A,z){return Q.H.useOptimistic(A,z)},_e.useReducer=function(A,z,M){return Q.H.useReducer(A,z,M)},_e.useRef=function(A){return Q.H.useRef(A)},_e.useState=function(A){return Q.H.useState(A)},_e.useSyncExternalStore=function(A,z,M){return Q.H.useSyncExternalStore(A,z,M)},_e.useTransition=function(){return Q.H.useTransition()},_e.version="19.2.3",_e}var $h;function bc(){return $h||($h=1,qu.exports=hS()),qu.exports}var Fu={exports:{}},ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh;function mS(){if(Kh)return ft;Kh=1;var n=bc();function e(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,m,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:_==null?null:""+_,children:y,containerInfo:m,implementation:v}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ft.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(y,m,null,v)},ft.flushSync=function(y){var m=d.T,v=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=m,s.p=v,s.d.f()}},ft.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(y,m))},ft.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},ft.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,_=h(v,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:E}):v==="script"&&s.d.X(y,{crossOrigin:_,integrity:T,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ft.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=h(m.as,m.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(y)},ft.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,_=h(v,m.crossOrigin);s.d.L(y,v,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ft.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=h(m.as,m.crossOrigin);s.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(y)},ft.requestFormReset=function(y){s.d.r(y)},ft.unstable_batchedUpdates=function(y,m){return y(m)},ft.useFormState=function(y,m,v){return d.H.useFormState(y,m,v)},ft.useFormStatus=function(){return d.H.useHostTransitionStatus()},ft.version="19.2.3",ft}var Qh;function gS(){if(Qh)return Fu.exports;Qh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fu.exports=mS(),Fu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh;function yS(){if(Xh)return vs;Xh=1;var n=pS(),e=bc(),o=gS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(s(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var r=t,a=i;;){var p=r.return;if(p===null)break;var g=p.alternate;if(g===null){if(a=p.return,a!==null){r=a;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===r)return y(p),t;if(g===a)return y(p),i;g=g.sibling}throw Error(s(188))}if(r.return!==a.return)r=p,a=g;else{for(var S=!1,x=p.child;x;){if(x===r){S=!0,r=p,a=g;break}if(x===a){S=!0,a=p,r=g;break}x=x.sibling}if(!S){for(x=g.child;x;){if(x===r){S=!0,r=g,a=p;break}if(x===a){S=!0,a=g,r=p;break}x=x.sibling}if(!S)throw Error(s(189))}}if(r.alternate!==a)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),$=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function ge(t){return t===null||typeof t!="object"?null:(t=he&&t[he]||t["@@iterator"],typeof t=="function"?t:null)}var fe=Symbol.for("react.client.reference");function be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===fe?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case G:return"Profiler";case L:return"StrictMode";case ee:return"Suspense";case le:return"SuspenseList";case ie:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case $:return t.displayName||"Context";case j:return(t._context.displayName||"Context")+".Consumer";case W:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return i=t.displayName||null,i!==null?i:be(t.type)||"Memo";case ve:i=t._payload,t=t._init;try{return be(t(i))}catch{}}return null}var qe=Array.isArray,R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ce=[],pe=-1;function A(t){return{current:t}}function z(t){0>pe||(t.current=ce[pe],ce[pe]=null,pe--)}function M(t,i){pe++,ce[pe]=t.current,t.current=i}var Y=A(null),K=A(null),X=A(null),F=A(null);function J(t,i){switch(M(X,i),M(K,t),M(Y,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?fh(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=fh(i),t=dh(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}z(Y),M(Y,t)}function se(){z(Y),z(K),z(X)}function Je(t){t.memoizedState!==null&&M(F,t);var i=Y.current,r=dh(i,t.type);i!==r&&(M(K,t),M(Y,r))}function st(t){K.current===t&&(z(Y),z(K)),F.current===t&&(z(F),ds._currentValue=Z)}var Mt,ze;function Fe(t){if(Mt===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);Mt=i&&i[1]||"",ze=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mt+t+ze}var In=!1;function St(t,i){if(!t||In)return"";In=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(i){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(O){var U=O}Reflect.construct(t,[],B)}else{try{B.call()}catch(O){U=O}t.call(B.prototype)}}else{try{throw Error()}catch(O){U=O}(B=t())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(O){if(O&&U&&typeof O.stack=="string")return[O.stack,U.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=a.DetermineComponentFrameRoot(),S=g[0],x=g[1];if(S&&x){var b=S.split(`
`),w=x.split(`
`);for(p=a=0;a<b.length&&!b[a].includes("DetermineComponentFrameRoot");)a++;for(;p<w.length&&!w[p].includes("DetermineComponentFrameRoot");)p++;if(a===b.length||p===w.length)for(a=b.length-1,p=w.length-1;1<=a&&0<=p&&b[a]!==w[p];)p--;for(;1<=a&&0<=p;a--,p--)if(b[a]!==w[p]){if(a!==1||p!==1)do if(a--,p--,0>p||b[a]!==w[p]){var H=`
`+b[a].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=a&&0<=p);break}}}finally{In=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Fe(r):""}function Ns(t,i){switch(t.tag){case 26:case 27:case 5:return Fe(t.type);case 16:return Fe("Lazy");case 13:return t.child!==i&&i!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return St(t.type,!1);case 11:return St(t.type.render,!1);case 1:return St(t.type,!0);case 31:return Fe("Activity");default:return""}}function Vc(t){try{var i="",r=null;do i+=Ns(t,r),r=t,t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var El=Object.prototype.hasOwnProperty,bl=n.unstable_scheduleCallback,Al=n.unstable_cancelCallback,Hy=n.unstable_shouldYield,Vy=n.unstable_requestPaint,It=n.unstable_now,By=n.unstable_getCurrentPriorityLevel,Bc=n.unstable_ImmediatePriority,qc=n.unstable_UserBlockingPriority,Ms=n.unstable_NormalPriority,qy=n.unstable_LowPriority,Fc=n.unstable_IdlePriority,Fy=n.log,Jy=n.unstable_setDisableYieldValue,Eo=null,Dt=null;function Dn(t){if(typeof Fy=="function"&&Jy(t),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(Eo,t)}catch{}}var kt=Math.clz32?Math.clz32:Ky,Yy=Math.log,$y=Math.LN2;function Ky(t){return t>>>=0,t===0?32:31-(Yy(t)/$y|0)|0}var Is=256,Ds=262144,ks=4194304;function ri(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ws(t,i,r){var a=t.pendingLanes;if(a===0)return 0;var p=0,g=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var x=a&134217727;return x!==0?(a=x&~g,a!==0?p=ri(a):(S&=x,S!==0?p=ri(S):r||(r=x&~t,r!==0&&(p=ri(r))))):(x=a&~g,x!==0?p=ri(x):S!==0?p=ri(S):r||(r=a&~t,r!==0&&(p=ri(r)))),p===0?0:i!==0&&i!==p&&(i&g)===0&&(g=p&-p,r=i&-i,g>=r||g===32&&(r&4194048)!==0)?i:p}function bo(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Qy(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jc(){var t=ks;return ks<<=1,(ks&62914560)===0&&(ks=4194304),t}function Rl(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function Ao(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Xy(t,i,r,a,p,g){var S=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var x=t.entanglements,b=t.expirationTimes,w=t.hiddenUpdates;for(r=S&~r;0<r;){var H=31-kt(r),B=1<<H;x[H]=0,b[H]=-1;var U=w[H];if(U!==null)for(w[H]=null,H=0;H<U.length;H++){var O=U[H];O!==null&&(O.lane&=-536870913)}r&=~B}a!==0&&Yc(t,a,0),g!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=g&~(S&~i))}function Yc(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var a=31-kt(i);t.entangledLanes|=i,t.entanglements[a]=t.entanglements[a]|1073741824|r&261930}function $c(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var a=31-kt(r),p=1<<a;p&i|t[a]&i&&(t[a]|=i),r&=~p}}function Kc(t,i){var r=i&-i;return r=(r&42)!==0?1:Nl(r),(r&(t.suspendedLanes|i))!==0?0:r}function Nl(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ml(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qc(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:Lh(t.type))}function Xc(t,i){var r=q.p;try{return q.p=t,i()}finally{q.p=r}}var kn=Math.random().toString(36).slice(2),rt="__reactFiber$"+kn,Tt="__reactProps$"+kn,Ii="__reactContainer$"+kn,Il="__reactEvents$"+kn,Zy="__reactListeners$"+kn,Wy="__reactHandles$"+kn,Zc="__reactResources$"+kn,Ro="__reactMarker$"+kn;function Dl(t){delete t[rt],delete t[Tt],delete t[Il],delete t[Zy],delete t[Wy]}function Di(t){var i=t[rt];if(i)return i;for(var r=t.parentNode;r;){if(i=r[Ii]||r[rt]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=_h(t);t!==null;){if(r=t[rt])return r;t=_h(t)}return i}t=r,r=t.parentNode}return null}function ki(t){if(t=t[rt]||t[Ii]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function No(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function wi(t){var i=t[Zc];return i||(i=t[Zc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function nt(t){t[Ro]=!0}var Wc=new Set,jc={};function li(t,i){Ui(t,i),Ui(t+"Capture",i)}function Ui(t,i){for(jc[t]=i,t=0;t<i.length;t++)Wc.add(i[t])}var jy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ef={},tf={};function ev(t){return El.call(tf,t)?!0:El.call(ef,t)?!1:jy.test(t)?tf[t]=!0:(ef[t]=!0,!1)}function Us(t,i,r){if(ev(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var a=i.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function Ls(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function un(t,i,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+a)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nf(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function tv(t,i,r){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,g=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return p.call(this)},set:function(S){r=""+S,g.call(this,S)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(S){r=""+S},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function kl(t){if(!t._valueTracker){var i=nf(t)?"checked":"value";t._valueTracker=tv(t,i,""+t[i])}}function of(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),a="";return t&&(a=nf(t)?t.checked?"true":"false":t.value),t=a,t!==r?(i.setValue(t),!0):!1}function Ps(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var nv=/[\n"\\]/g;function Vt(t){return t.replace(nv,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function wl(t,i,r,a,p,g,S,x){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),i!=null?S==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ht(i)):t.value!==""+Ht(i)&&(t.value=""+Ht(i)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),i!=null?Ul(t,S,Ht(i)):r!=null?Ul(t,S,Ht(r)):a!=null&&t.removeAttribute("value"),p==null&&g!=null&&(t.defaultChecked=!!g),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Ht(x):t.removeAttribute("name")}function sf(t,i,r,a,p,g,S,x){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),i!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){kl(t);return}r=r!=null?""+Ht(r):"",i=i!=null?""+Ht(i):r,x||i===t.value||(t.value=i),t.defaultValue=i}a=a??p,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=x?t.checked:!!a,t.defaultChecked=!!a,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S),kl(t)}function Ul(t,i,r){i==="number"&&Ps(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Li(t,i,r,a){if(t=t.options,i){i={};for(var p=0;p<r.length;p++)i["$"+r[p]]=!0;for(r=0;r<t.length;r++)p=i.hasOwnProperty("$"+t[r].value),t[r].selected!==p&&(t[r].selected=p),p&&a&&(t[r].defaultSelected=!0)}else{for(r=""+Ht(r),i=null,p=0;p<t.length;p++){if(t[p].value===r){t[p].selected=!0,a&&(t[p].defaultSelected=!0);return}i!==null||t[p].disabled||(i=t[p])}i!==null&&(i.selected=!0)}}function rf(t,i,r){if(i!=null&&(i=""+Ht(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+Ht(r):""}function lf(t,i,r,a){if(i==null){if(a!=null){if(r!=null)throw Error(s(92));if(qe(a)){if(1<a.length)throw Error(s(93));a=a[0]}r=a}r==null&&(r=""),i=r}r=Ht(i),t.defaultValue=r,a=t.textContent,a===r&&a!==""&&a!==null&&(t.value=a),kl(t)}function Pi(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var iv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function af(t,i,r){var a=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?a?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":a?t.setProperty(i,r):typeof r!="number"||r===0||iv.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function uf(t,i,r){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,r!=null){for(var a in r)!r.hasOwnProperty(a)||i!=null&&i.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var p in i)a=i[p],i.hasOwnProperty(p)&&r[p]!==a&&af(t,p,a)}else for(var g in i)i.hasOwnProperty(g)&&af(t,g,i[g])}function Ll(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ov=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Os(t){return sv.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function cn(){}var Pl=null;function Ol(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oi=null,Gi=null;function cf(t){var i=ki(t);if(i&&(t=i.stateNode)){var r=t[Tt]||null;e:switch(t=i.stateNode,i.type){case"input":if(wl(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Vt(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var a=r[i];if(a!==t&&a.form===t.form){var p=a[Tt]||null;if(!p)throw Error(s(90));wl(a,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<r.length;i++)a=r[i],a.form===t.form&&of(a)}break e;case"textarea":rf(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&Li(t,!!r.multiple,i,!1)}}}var Gl=!1;function ff(t,i,r){if(Gl)return t(i,r);Gl=!0;try{var a=t(i);return a}finally{if(Gl=!1,(Oi!==null||Gi!==null)&&(Er(),Oi&&(i=Oi,t=Gi,Gi=Oi=null,cf(i),t)))for(i=0;i<t.length;i++)cf(t[i])}}function Mo(t,i){var r=t.stateNode;if(r===null)return null;var a=r[Tt]||null;if(a===null)return null;r=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,i,typeof r));return r}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zl=!1;if(fn)try{var Io={};Object.defineProperty(Io,"passive",{get:function(){zl=!0}}),window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{zl=!1}var wn=null,Hl=null,Gs=null;function df(){if(Gs)return Gs;var t,i=Hl,r=i.length,a,p="value"in wn?wn.value:wn.textContent,g=p.length;for(t=0;t<r&&i[t]===p[t];t++);var S=r-t;for(a=1;a<=S&&i[r-a]===p[g-a];a++);return Gs=p.slice(t,1<a?1-a:void 0)}function zs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Hs(){return!0}function pf(){return!1}function Ct(t){function i(r,a,p,g,S){this._reactName=r,this._targetInst=p,this.type=a,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(r=t[x],this[x]=r?r(g):g[x]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Hs:pf,this.isPropagationStopped=pf,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hs)},persist:function(){},isPersistent:Hs}),i}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vs=Ct(ai),Do=_({},ai,{view:0,detail:0}),rv=Ct(Do),Vl,Bl,ko,Bs=_({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ko&&(ko&&t.type==="mousemove"?(Vl=t.screenX-ko.screenX,Bl=t.screenY-ko.screenY):Bl=Vl=0,ko=t),Vl)},movementY:function(t){return"movementY"in t?t.movementY:Bl}}),hf=Ct(Bs),lv=_({},Bs,{dataTransfer:0}),av=Ct(lv),uv=_({},Do,{relatedTarget:0}),ql=Ct(uv),cv=_({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),fv=Ct(cv),dv=_({},ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pv=Ct(dv),hv=_({},ai,{data:0}),mf=Ct(hv),mv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vv(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=yv[t])?!!i[t]:!1}function Fl(){return vv}var _v=_({},Do,{key:function(t){if(t.key){var i=mv[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=zs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fl,charCode:function(t){return t.type==="keypress"?zs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sv=Ct(_v),Tv=_({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gf=Ct(Tv),Cv=_({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fl}),xv=Ct(Cv),Ev=_({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),bv=Ct(Ev),Av=_({},Bs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rv=Ct(Av),Nv=_({},ai,{newState:0,oldState:0}),Mv=Ct(Nv),Iv=[9,13,27,32],Jl=fn&&"CompositionEvent"in window,wo=null;fn&&"documentMode"in document&&(wo=document.documentMode);var Dv=fn&&"TextEvent"in window&&!wo,yf=fn&&(!Jl||wo&&8<wo&&11>=wo),vf=" ",_f=!1;function Sf(t,i){switch(t){case"keyup":return Iv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zi=!1;function kv(t,i){switch(t){case"compositionend":return Tf(i);case"keypress":return i.which!==32?null:(_f=!0,vf);case"textInput":return t=i.data,t===vf&&_f?null:t;default:return null}}function wv(t,i){if(zi)return t==="compositionend"||!Jl&&Sf(t,i)?(t=df(),Gs=Hl=wn=null,zi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yf&&i.locale!=="ko"?null:i.data;default:return null}}var Uv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Uv[t.type]:i==="textarea"}function xf(t,i,r,a){Oi?Gi?Gi.push(a):Gi=[a]:Oi=a,i=Dr(i,"onChange"),0<i.length&&(r=new Vs("onChange","change",null,r,a),t.push({event:r,listeners:i}))}var Uo=null,Lo=null;function Lv(t){sh(t,0)}function qs(t){var i=No(t);if(of(i))return t}function Ef(t,i){if(t==="change")return i}var bf=!1;if(fn){var Yl;if(fn){var $l="oninput"in document;if(!$l){var Af=document.createElement("div");Af.setAttribute("oninput","return;"),$l=typeof Af.oninput=="function"}Yl=$l}else Yl=!1;bf=Yl&&(!document.documentMode||9<document.documentMode)}function Rf(){Uo&&(Uo.detachEvent("onpropertychange",Nf),Lo=Uo=null)}function Nf(t){if(t.propertyName==="value"&&qs(Lo)){var i=[];xf(i,Lo,t,Ol(t)),ff(Lv,i)}}function Pv(t,i,r){t==="focusin"?(Rf(),Uo=i,Lo=r,Uo.attachEvent("onpropertychange",Nf)):t==="focusout"&&Rf()}function Ov(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qs(Lo)}function Gv(t,i){if(t==="click")return qs(i)}function zv(t,i){if(t==="input"||t==="change")return qs(i)}function Hv(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var wt=typeof Object.is=="function"?Object.is:Hv;function Po(t,i){if(wt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),a=Object.keys(i);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var p=r[a];if(!El.call(i,p)||!wt(t[p],i[p]))return!1}return!0}function Mf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function If(t,i){var r=Mf(t);t=0;for(var a;r;){if(r.nodeType===3){if(a=t+r.textContent.length,t<=i&&a>=i)return{node:r,offset:i-t};t=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mf(r)}}function Df(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Df(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function kf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ps(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=Ps(t.document)}return i}function Kl(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Vv=fn&&"documentMode"in document&&11>=document.documentMode,Hi=null,Ql=null,Oo=null,Xl=!1;function wf(t,i,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xl||Hi==null||Hi!==Ps(a)||(a=Hi,"selectionStart"in a&&Kl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Oo&&Po(Oo,a)||(Oo=a,a=Dr(Ql,"onSelect"),0<a.length&&(i=new Vs("onSelect","select",null,i,r),t.push({event:i,listeners:a}),i.target=Hi)))}function ui(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var Vi={animationend:ui("Animation","AnimationEnd"),animationiteration:ui("Animation","AnimationIteration"),animationstart:ui("Animation","AnimationStart"),transitionrun:ui("Transition","TransitionRun"),transitionstart:ui("Transition","TransitionStart"),transitioncancel:ui("Transition","TransitionCancel"),transitionend:ui("Transition","TransitionEnd")},Zl={},Uf={};fn&&(Uf=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function ci(t){if(Zl[t])return Zl[t];if(!Vi[t])return t;var i=Vi[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in Uf)return Zl[t]=i[r];return t}var Lf=ci("animationend"),Pf=ci("animationiteration"),Of=ci("animationstart"),Bv=ci("transitionrun"),qv=ci("transitionstart"),Fv=ci("transitioncancel"),Gf=ci("transitionend"),zf=new Map,Wl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wl.push("scrollEnd");function Wt(t,i){zf.set(t,i),li(i,[t])}var Fs=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Bt=[],Bi=0,jl=0;function Js(){for(var t=Bi,i=jl=Bi=0;i<t;){var r=Bt[i];Bt[i++]=null;var a=Bt[i];Bt[i++]=null;var p=Bt[i];Bt[i++]=null;var g=Bt[i];if(Bt[i++]=null,a!==null&&p!==null){var S=a.pending;S===null?p.next=p:(p.next=S.next,S.next=p),a.pending=p}g!==0&&Hf(r,p,g)}}function Ys(t,i,r,a){Bt[Bi++]=t,Bt[Bi++]=i,Bt[Bi++]=r,Bt[Bi++]=a,jl|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function ea(t,i,r,a){return Ys(t,i,r,a),$s(t)}function fi(t,i){return Ys(t,null,null,i),$s(t)}function Hf(t,i,r){t.lanes|=r;var a=t.alternate;a!==null&&(a.lanes|=r);for(var p=!1,g=t.return;g!==null;)g.childLanes|=r,a=g.alternate,a!==null&&(a.childLanes|=r),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(p=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,p&&i!==null&&(p=31-kt(r),t=g.hiddenUpdates,a=t[p],a===null?t[p]=[i]:a.push(i),i.lane=r|536870912),g):null}function $s(t){if(50<ss)throw ss=0,uu=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var qi={};function Jv(t,i,r,a){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(t,i,r,a){return new Jv(t,i,r,a)}function ta(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dn(t,i){var r=t.alternate;return r===null?(r=Ut(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Vf(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ks(t,i,r,a,p,g){var S=0;if(a=t,typeof t=="function")ta(t)&&(S=1);else if(typeof t=="string")S=X_(t,r,Y.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ie:return t=Ut(31,r,i,p),t.elementType=ie,t.lanes=g,t;case P:return di(r.children,p,g,i);case L:S=8,p|=24;break;case G:return t=Ut(12,r,i,p|2),t.elementType=G,t.lanes=g,t;case ee:return t=Ut(13,r,i,p),t.elementType=ee,t.lanes=g,t;case le:return t=Ut(19,r,i,p),t.elementType=le,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:S=10;break e;case j:S=9;break e;case W:S=11;break e;case Q:S=14;break e;case ve:S=16,a=null;break e}S=29,r=Error(s(130,t===null?"null":typeof t,"")),a=null}return i=Ut(S,r,i,p),i.elementType=t,i.type=a,i.lanes=g,i}function di(t,i,r,a){return t=Ut(7,t,a,i),t.lanes=r,t}function na(t,i,r){return t=Ut(6,t,null,i),t.lanes=r,t}function Bf(t){var i=Ut(18,null,null,0);return i.stateNode=t,i}function ia(t,i,r){return i=Ut(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var qf=new WeakMap;function qt(t,i){if(typeof t=="object"&&t!==null){var r=qf.get(t);return r!==void 0?r:(i={value:t,source:i,stack:Vc(i)},qf.set(t,i),i)}return{value:t,source:i,stack:Vc(i)}}var Fi=[],Ji=0,Qs=null,Go=0,Ft=[],Jt=0,Un=null,sn=1,rn="";function pn(t,i){Fi[Ji++]=Go,Fi[Ji++]=Qs,Qs=t,Go=i}function Ff(t,i,r){Ft[Jt++]=sn,Ft[Jt++]=rn,Ft[Jt++]=Un,Un=t;var a=sn;t=rn;var p=32-kt(a)-1;a&=~(1<<p),r+=1;var g=32-kt(i)+p;if(30<g){var S=p-p%5;g=(a&(1<<S)-1).toString(32),a>>=S,p-=S,sn=1<<32-kt(i)+p|r<<p|a,rn=g+t}else sn=1<<g|r<<p|a,rn=t}function oa(t){t.return!==null&&(pn(t,1),Ff(t,1,0))}function sa(t){for(;t===Qs;)Qs=Fi[--Ji],Fi[Ji]=null,Go=Fi[--Ji],Fi[Ji]=null;for(;t===Un;)Un=Ft[--Jt],Ft[Jt]=null,rn=Ft[--Jt],Ft[Jt]=null,sn=Ft[--Jt],Ft[Jt]=null}function Jf(t,i){Ft[Jt++]=sn,Ft[Jt++]=rn,Ft[Jt++]=Un,sn=i.id,rn=i.overflow,Un=t}var lt=null,He=null,Ne=!1,Ln=null,Yt=!1,ra=Error(s(519));function Pn(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(qt(i,t)),ra}function Yf(t){var i=t.stateNode,r=t.type,a=t.memoizedProps;switch(i[rt]=t,i[Tt]=a,r){case"dialog":Ee("cancel",i),Ee("close",i);break;case"iframe":case"object":case"embed":Ee("load",i);break;case"video":case"audio":for(r=0;r<ls.length;r++)Ee(ls[r],i);break;case"source":Ee("error",i);break;case"img":case"image":case"link":Ee("error",i),Ee("load",i);break;case"details":Ee("toggle",i);break;case"input":Ee("invalid",i),sf(i,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ee("invalid",i);break;case"textarea":Ee("invalid",i),lf(i,a.value,a.defaultValue,a.children)}r=a.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||a.suppressHydrationWarning===!0||uh(i.textContent,r)?(a.popover!=null&&(Ee("beforetoggle",i),Ee("toggle",i)),a.onScroll!=null&&Ee("scroll",i),a.onScrollEnd!=null&&Ee("scrollend",i),a.onClick!=null&&(i.onclick=cn),i=!0):i=!1,i||Pn(t,!0)}function $f(t){for(lt=t.return;lt;)switch(lt.tag){case 5:case 31:case 13:Yt=!1;return;case 27:case 3:Yt=!0;return;default:lt=lt.return}}function Yi(t){if(t!==lt)return!1;if(!Ne)return $f(t),Ne=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Eu(t.type,t.memoizedProps)),r=!r),r&&He&&Pn(t),$f(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));He=vh(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));He=vh(t)}else i===27?(i=He,Xn(t.type)?(t=Mu,Mu=null,He=t):He=i):He=lt?Kt(t.stateNode.nextSibling):null;return!0}function pi(){He=lt=null,Ne=!1}function la(){var t=Ln;return t!==null&&(At===null?At=t:At.push.apply(At,t),Ln=null),t}function zo(t){Ln===null?Ln=[t]:Ln.push(t)}var aa=A(null),hi=null,hn=null;function On(t,i,r){M(aa,i._currentValue),i._currentValue=r}function mn(t){t._currentValue=aa.current,z(aa)}function ua(t,i,r){for(;t!==null;){var a=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),t===r)break;t=t.return}}function ca(t,i,r,a){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var g=p.dependencies;if(g!==null){var S=p.child;g=g.firstContext;e:for(;g!==null;){var x=g;g=p;for(var b=0;b<i.length;b++)if(x.context===i[b]){g.lanes|=r,x=g.alternate,x!==null&&(x.lanes|=r),ua(g.return,r,t),a||(S=null);break e}g=x.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(s(341));S.lanes|=r,g=S.alternate,g!==null&&(g.lanes|=r),ua(S,r,t),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===t){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function $i(t,i,r,a){t=null;for(var p=i,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var x=p.type;wt(p.pendingProps.value,S.value)||(t!==null?t.push(x):t=[x])}}else if(p===F.current){if(S=p.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(ds):t=[ds])}p=p.return}t!==null&&ca(i,t,r,a),i.flags|=262144}function Xs(t){for(t=t.firstContext;t!==null;){if(!wt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function mi(t){hi=t,hn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function at(t){return Kf(hi,t)}function Zs(t,i){return hi===null&&mi(t),Kf(t,i)}function Kf(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},hn===null){if(t===null)throw Error(s(308));hn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else hn=hn.next=i;return r}var Yv=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,a){t.push(a)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},$v=n.unstable_scheduleCallback,Kv=n.unstable_NormalPriority,Xe={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fa(){return{controller:new Yv,data:new Map,refCount:0}}function Ho(t){t.refCount--,t.refCount===0&&$v(Kv,function(){t.controller.abort()})}var Vo=null,da=0,Ki=0,Qi=null;function Qv(t,i){if(Vo===null){var r=Vo=[];da=0,Ki=mu(),Qi={status:"pending",value:void 0,then:function(a){r.push(a)}}}return da++,i.then(Qf,Qf),i}function Qf(){if(--da===0&&Vo!==null){Qi!==null&&(Qi.status="fulfilled");var t=Vo;Vo=null,Ki=0,Qi=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Xv(t,i){var r=[],a={status:"pending",value:null,reason:null,then:function(p){r.push(p)}};return t.then(function(){a.status="fulfilled",a.value=i;for(var p=0;p<r.length;p++)(0,r[p])(i)},function(p){for(a.status="rejected",a.reason=p,p=0;p<r.length;p++)(0,r[p])(void 0)}),a}var Xf=R.S;R.S=function(t,i){wp=It(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Qv(t,i),Xf!==null&&Xf(t,i)};var gi=A(null);function pa(){var t=gi.current;return t!==null?t:Ge.pooledCache}function Ws(t,i){i===null?M(gi,gi.current):M(gi,i.pool)}function Zf(){var t=pa();return t===null?null:{parent:Xe._currentValue,pool:t}}var Xi=Error(s(460)),ha=Error(s(474)),js=Error(s(542)),er={then:function(){}};function Wf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function jf(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(cn,cn),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,td(t),t;default:if(typeof i.status=="string")i.then(cn,cn);else{if(t=Ge,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(a){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=a}},function(a){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=a}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,td(t),t}throw vi=i,Xi}}function yi(t){try{var i=t._init;return i(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(vi=r,Xi):r}}var vi=null;function ed(){if(vi===null)throw Error(s(459));var t=vi;return vi=null,t}function td(t){if(t===Xi||t===js)throw Error(s(483))}var Zi=null,Bo=0;function tr(t){var i=Bo;return Bo+=1,Zi===null&&(Zi=[]),jf(Zi,t,i)}function qo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function nr(t,i){throw i.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function nd(t){function i(I,N){if(t){var k=I.deletions;k===null?(I.deletions=[N],I.flags|=16):k.push(N)}}function r(I,N){if(!t)return null;for(;N!==null;)i(I,N),N=N.sibling;return null}function a(I){for(var N=new Map;I!==null;)I.key!==null?N.set(I.key,I):N.set(I.index,I),I=I.sibling;return N}function p(I,N){return I=dn(I,N),I.index=0,I.sibling=null,I}function g(I,N,k){return I.index=k,t?(k=I.alternate,k!==null?(k=k.index,k<N?(I.flags|=67108866,N):k):(I.flags|=67108866,N)):(I.flags|=1048576,N)}function S(I){return t&&I.alternate===null&&(I.flags|=67108866),I}function x(I,N,k,V){return N===null||N.tag!==6?(N=na(k,I.mode,V),N.return=I,N):(N=p(N,k),N.return=I,N)}function b(I,N,k,V){var de=k.type;return de===P?H(I,N,k.props.children,V,k.key):N!==null&&(N.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ve&&yi(de)===N.type)?(N=p(N,k.props),qo(N,k),N.return=I,N):(N=Ks(k.type,k.key,k.props,null,I.mode,V),qo(N,k),N.return=I,N)}function w(I,N,k,V){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=ia(k,I.mode,V),N.return=I,N):(N=p(N,k.children||[]),N.return=I,N)}function H(I,N,k,V,de){return N===null||N.tag!==7?(N=di(k,I.mode,V,de),N.return=I,N):(N=p(N,k),N.return=I,N)}function B(I,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=na(""+N,I.mode,k),N.return=I,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case E:return k=Ks(N.type,N.key,N.props,null,I.mode,k),qo(k,N),k.return=I,k;case D:return N=ia(N,I.mode,k),N.return=I,N;case ve:return N=yi(N),B(I,N,k)}if(qe(N)||ge(N))return N=di(N,I.mode,k,null),N.return=I,N;if(typeof N.then=="function")return B(I,tr(N),k);if(N.$$typeof===$)return B(I,Zs(I,N),k);nr(I,N)}return null}function U(I,N,k,V){var de=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return de!==null?null:x(I,N,""+k,V);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case E:return k.key===de?b(I,N,k,V):null;case D:return k.key===de?w(I,N,k,V):null;case ve:return k=yi(k),U(I,N,k,V)}if(qe(k)||ge(k))return de!==null?null:H(I,N,k,V,null);if(typeof k.then=="function")return U(I,N,tr(k),V);if(k.$$typeof===$)return U(I,N,Zs(I,k),V);nr(I,k)}return null}function O(I,N,k,V,de){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return I=I.get(k)||null,x(N,I,""+V,de);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case E:return I=I.get(V.key===null?k:V.key)||null,b(N,I,V,de);case D:return I=I.get(V.key===null?k:V.key)||null,w(N,I,V,de);case ve:return V=yi(V),O(I,N,k,V,de)}if(qe(V)||ge(V))return I=I.get(k)||null,H(N,I,V,de,null);if(typeof V.then=="function")return O(I,N,k,tr(V),de);if(V.$$typeof===$)return O(I,N,k,Zs(N,V),de);nr(N,V)}return null}function re(I,N,k,V){for(var de=null,Me=null,ue=N,Ce=N=0,Re=null;ue!==null&&Ce<k.length;Ce++){ue.index>Ce?(Re=ue,ue=null):Re=ue.sibling;var Ie=U(I,ue,k[Ce],V);if(Ie===null){ue===null&&(ue=Re);break}t&&ue&&Ie.alternate===null&&i(I,ue),N=g(Ie,N,Ce),Me===null?de=Ie:Me.sibling=Ie,Me=Ie,ue=Re}if(Ce===k.length)return r(I,ue),Ne&&pn(I,Ce),de;if(ue===null){for(;Ce<k.length;Ce++)ue=B(I,k[Ce],V),ue!==null&&(N=g(ue,N,Ce),Me===null?de=ue:Me.sibling=ue,Me=ue);return Ne&&pn(I,Ce),de}for(ue=a(ue);Ce<k.length;Ce++)Re=O(ue,I,Ce,k[Ce],V),Re!==null&&(t&&Re.alternate!==null&&ue.delete(Re.key===null?Ce:Re.key),N=g(Re,N,Ce),Me===null?de=Re:Me.sibling=Re,Me=Re);return t&&ue.forEach(function(ti){return i(I,ti)}),Ne&&pn(I,Ce),de}function me(I,N,k,V){if(k==null)throw Error(s(151));for(var de=null,Me=null,ue=N,Ce=N=0,Re=null,Ie=k.next();ue!==null&&!Ie.done;Ce++,Ie=k.next()){ue.index>Ce?(Re=ue,ue=null):Re=ue.sibling;var ti=U(I,ue,Ie.value,V);if(ti===null){ue===null&&(ue=Re);break}t&&ue&&ti.alternate===null&&i(I,ue),N=g(ti,N,Ce),Me===null?de=ti:Me.sibling=ti,Me=ti,ue=Re}if(Ie.done)return r(I,ue),Ne&&pn(I,Ce),de;if(ue===null){for(;!Ie.done;Ce++,Ie=k.next())Ie=B(I,Ie.value,V),Ie!==null&&(N=g(Ie,N,Ce),Me===null?de=Ie:Me.sibling=Ie,Me=Ie);return Ne&&pn(I,Ce),de}for(ue=a(ue);!Ie.done;Ce++,Ie=k.next())Ie=O(ue,I,Ce,Ie.value,V),Ie!==null&&(t&&Ie.alternate!==null&&ue.delete(Ie.key===null?Ce:Ie.key),N=g(Ie,N,Ce),Me===null?de=Ie:Me.sibling=Ie,Me=Ie);return t&&ue.forEach(function(lS){return i(I,lS)}),Ne&&pn(I,Ce),de}function Oe(I,N,k,V){if(typeof k=="object"&&k!==null&&k.type===P&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case E:e:{for(var de=k.key;N!==null;){if(N.key===de){if(de=k.type,de===P){if(N.tag===7){r(I,N.sibling),V=p(N,k.props.children),V.return=I,I=V;break e}}else if(N.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ve&&yi(de)===N.type){r(I,N.sibling),V=p(N,k.props),qo(V,k),V.return=I,I=V;break e}r(I,N);break}else i(I,N);N=N.sibling}k.type===P?(V=di(k.props.children,I.mode,V,k.key),V.return=I,I=V):(V=Ks(k.type,k.key,k.props,null,I.mode,V),qo(V,k),V.return=I,I=V)}return S(I);case D:e:{for(de=k.key;N!==null;){if(N.key===de)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){r(I,N.sibling),V=p(N,k.children||[]),V.return=I,I=V;break e}else{r(I,N);break}else i(I,N);N=N.sibling}V=ia(k,I.mode,V),V.return=I,I=V}return S(I);case ve:return k=yi(k),Oe(I,N,k,V)}if(qe(k))return re(I,N,k,V);if(ge(k)){if(de=ge(k),typeof de!="function")throw Error(s(150));return k=de.call(k),me(I,N,k,V)}if(typeof k.then=="function")return Oe(I,N,tr(k),V);if(k.$$typeof===$)return Oe(I,N,Zs(I,k),V);nr(I,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(r(I,N.sibling),V=p(N,k),V.return=I,I=V):(r(I,N),V=na(k,I.mode,V),V.return=I,I=V),S(I)):r(I,N)}return function(I,N,k,V){try{Bo=0;var de=Oe(I,N,k,V);return Zi=null,de}catch(ue){if(ue===Xi||ue===js)throw ue;var Me=Ut(29,ue,null,I.mode);return Me.lanes=V,Me.return=I,Me}finally{}}}var _i=nd(!0),id=nd(!1),Gn=!1;function ma(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ga(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hn(t,i,r){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(ke&2)!==0){var p=a.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),a.pending=i,i=$s(t),Hf(t,null,r),i}return Ys(t,a,i,r),$s(t)}function Fo(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var a=i.lanes;a&=t.pendingLanes,r|=a,i.lanes=r,$c(t,r)}}function ya(t,i){var r=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var p=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var S={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?p=g=S:g=g.next=S,r=r.next}while(r!==null);g===null?p=g=i:g=g.next=i}else p=g=i;r={baseState:a.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:a.shared,callbacks:a.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var va=!1;function Jo(){if(va){var t=Qi;if(t!==null)throw t}}function Yo(t,i,r,a){va=!1;var p=t.updateQueue;Gn=!1;var g=p.firstBaseUpdate,S=p.lastBaseUpdate,x=p.shared.pending;if(x!==null){p.shared.pending=null;var b=x,w=b.next;b.next=null,S===null?g=w:S.next=w,S=b;var H=t.alternate;H!==null&&(H=H.updateQueue,x=H.lastBaseUpdate,x!==S&&(x===null?H.firstBaseUpdate=w:x.next=w,H.lastBaseUpdate=b))}if(g!==null){var B=p.baseState;S=0,H=w=b=null,x=g;do{var U=x.lane&-536870913,O=U!==x.lane;if(O?(Ae&U)===U:(a&U)===U){U!==0&&U===Ki&&(va=!0),H!==null&&(H=H.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var re=t,me=x;U=i;var Oe=r;switch(me.tag){case 1:if(re=me.payload,typeof re=="function"){B=re.call(Oe,B,U);break e}B=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=me.payload,U=typeof re=="function"?re.call(Oe,B,U):re,U==null)break e;B=_({},B,U);break e;case 2:Gn=!0}}U=x.callback,U!==null&&(t.flags|=64,O&&(t.flags|=8192),O=p.callbacks,O===null?p.callbacks=[U]:O.push(U))}else O={lane:U,tag:x.tag,payload:x.payload,callback:x.callback,next:null},H===null?(w=H=O,b=B):H=H.next=O,S|=U;if(x=x.next,x===null){if(x=p.shared.pending,x===null)break;O=x,x=O.next,O.next=null,p.lastBaseUpdate=O,p.shared.pending=null}}while(!0);H===null&&(b=B),p.baseState=b,p.firstBaseUpdate=w,p.lastBaseUpdate=H,g===null&&(p.shared.lanes=0),Jn|=S,t.lanes=S,t.memoizedState=B}}function od(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function sd(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)od(r[t],i)}var Wi=A(null),ir=A(0);function rd(t,i){t=En,M(ir,t),M(Wi,i),En=t|i.baseLanes}function _a(){M(ir,En),M(Wi,Wi.current)}function Sa(){En=ir.current,z(Wi),z(ir)}var Lt=A(null),$t=null;function Vn(t){var i=t.alternate;M(Ke,Ke.current&1),M(Lt,t),$t===null&&(i===null||Wi.current!==null||i.memoizedState!==null)&&($t=t)}function Ta(t){M(Ke,Ke.current),M(Lt,t),$t===null&&($t=t)}function ld(t){t.tag===22?(M(Ke,Ke.current),M(Lt,t),$t===null&&($t=t)):Bn()}function Bn(){M(Ke,Ke.current),M(Lt,Lt.current)}function Pt(t){z(Lt),$t===t&&($t=null),z(Ke)}var Ke=A(0);function or(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Ru(r)||Nu(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var gn=0,Se=null,Le=null,Ze=null,sr=!1,ji=!1,Si=!1,rr=0,$o=0,eo=null,Zv=0;function Ye(){throw Error(s(321))}function Ca(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!wt(t[r],i[r]))return!1;return!0}function xa(t,i,r,a,p,g){return gn=g,Se=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,R.H=t===null||t.memoizedState===null?Fd:Ga,Si=!1,g=r(a,p),Si=!1,ji&&(g=ud(i,r,a,p)),ad(t),g}function ad(t){R.H=Xo;var i=Le!==null&&Le.next!==null;if(gn=0,Ze=Le=Se=null,sr=!1,$o=0,eo=null,i)throw Error(s(300));t===null||We||(t=t.dependencies,t!==null&&Xs(t)&&(We=!0))}function ud(t,i,r,a){Se=t;var p=0;do{if(ji&&(eo=null),$o=0,ji=!1,25<=p)throw Error(s(301));if(p+=1,Ze=Le=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}R.H=Jd,g=i(r,a)}while(ji);return g}function Wv(){var t=R.H,i=t.useState()[0];return i=typeof i.then=="function"?Ko(i):i,t=t.useState()[0],(Le!==null?Le.memoizedState:null)!==t&&(Se.flags|=1024),i}function Ea(){var t=rr!==0;return rr=0,t}function ba(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function Aa(t){if(sr){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}sr=!1}gn=0,Ze=Le=Se=null,ji=!1,$o=rr=0,eo=null}function mt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Se.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function Qe(){if(Le===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var i=Ze===null?Se.memoizedState:Ze.next;if(i!==null)Ze=i,Le=t;else{if(t===null)throw Se.alternate===null?Error(s(467)):Error(s(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Ze===null?Se.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function lr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(t){var i=$o;return $o+=1,eo===null&&(eo=[]),t=jf(eo,t,i),i=Se,(Ze===null?i.memoizedState:Ze.next)===null&&(i=i.alternate,R.H=i===null||i.memoizedState===null?Fd:Ga),t}function ar(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ko(t);if(t.$$typeof===$)return at(t)}throw Error(s(438,String(t)))}function Ra(t){var i=null,r=Se.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var a=Se.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(i={data:a.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=lr(),Se.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),a=0;a<t;a++)r[a]=ne;return i.index++,r}function yn(t,i){return typeof i=="function"?i(t):i}function ur(t){var i=Qe();return Na(i,Le,t)}function Na(t,i,r){var a=t.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=r;var p=t.baseQueue,g=a.pending;if(g!==null){if(p!==null){var S=p.next;p.next=g.next,g.next=S}i.baseQueue=p=g,a.pending=null}if(g=t.baseState,p===null)t.memoizedState=g;else{i=p.next;var x=S=null,b=null,w=i,H=!1;do{var B=w.lane&-536870913;if(B!==w.lane?(Ae&B)===B:(gn&B)===B){var U=w.revertLane;if(U===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),B===Ki&&(H=!0);else if((gn&U)===U){w=w.next,U===Ki&&(H=!0);continue}else B={lane:0,revertLane:w.revertLane,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},b===null?(x=b=B,S=g):b=b.next=B,Se.lanes|=U,Jn|=U;B=w.action,Si&&r(g,B),g=w.hasEagerState?w.eagerState:r(g,B)}else U={lane:B,revertLane:w.revertLane,gesture:w.gesture,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},b===null?(x=b=U,S=g):b=b.next=U,Se.lanes|=B,Jn|=B;w=w.next}while(w!==null&&w!==i);if(b===null?S=g:b.next=x,!wt(g,t.memoizedState)&&(We=!0,H&&(r=Qi,r!==null)))throw r;t.memoizedState=g,t.baseState=S,t.baseQueue=b,a.lastRenderedState=g}return p===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function Ma(t){var i=Qe(),r=i.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var a=r.dispatch,p=r.pending,g=i.memoizedState;if(p!==null){r.pending=null;var S=p=p.next;do g=t(g,S.action),S=S.next;while(S!==p);wt(g,i.memoizedState)||(We=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),r.lastRenderedState=g}return[g,a]}function cd(t,i,r){var a=Se,p=Qe(),g=Ne;if(g){if(r===void 0)throw Error(s(407));r=r()}else r=i();var S=!wt((Le||p).memoizedState,r);if(S&&(p.memoizedState=r,We=!0),p=p.queue,ka(pd.bind(null,a,p,t),[t]),p.getSnapshot!==i||S||Ze!==null&&Ze.memoizedState.tag&1){if(a.flags|=2048,to(9,{destroy:void 0},dd.bind(null,a,p,r,i),null),Ge===null)throw Error(s(349));g||(gn&127)!==0||fd(a,i,r)}return r}function fd(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=Se.updateQueue,i===null?(i=lr(),Se.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function dd(t,i,r,a){i.value=r,i.getSnapshot=a,hd(i)&&md(t)}function pd(t,i,r){return r(function(){hd(i)&&md(t)})}function hd(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!wt(t,r)}catch{return!0}}function md(t){var i=fi(t,2);i!==null&&Rt(i,t,2)}function Ia(t){var i=mt();if(typeof t=="function"){var r=t;if(t=r(),Si){Dn(!0);try{r()}finally{Dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:t},i}function gd(t,i,r,a){return t.baseState=r,Na(t,Le,typeof a=="function"?a:yn)}function jv(t,i,r,a,p){if(dr(t))throw Error(s(485));if(t=i.action,t!==null){var g={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};R.T!==null?r(!0):g.isTransition=!1,a(g),r=i.pending,r===null?(g.next=i.pending=g,yd(i,g)):(g.next=r.next,i.pending=r.next=g)}}function yd(t,i){var r=i.action,a=i.payload,p=t.state;if(i.isTransition){var g=R.T,S={};R.T=S;try{var x=r(p,a),b=R.S;b!==null&&b(S,x),vd(t,i,x)}catch(w){Da(t,i,w)}finally{g!==null&&S.types!==null&&(g.types=S.types),R.T=g}}else try{g=r(p,a),vd(t,i,g)}catch(w){Da(t,i,w)}}function vd(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(a){_d(t,i,a)},function(a){return Da(t,i,a)}):_d(t,i,r)}function _d(t,i,r){i.status="fulfilled",i.value=r,Sd(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,yd(t,r)))}function Da(t,i,r){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do i.status="rejected",i.reason=r,Sd(i),i=i.next;while(i!==a)}t.action=null}function Sd(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Td(t,i){return i}function Cd(t,i){if(Ne){var r=Ge.formState;if(r!==null){e:{var a=Se;if(Ne){if(He){t:{for(var p=He,g=Yt;p.nodeType!==8;){if(!g){p=null;break t}if(p=Kt(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){He=Kt(p.nextSibling),a=p.data==="F!";break e}}Pn(a)}a=!1}a&&(i=r[0])}}return r=mt(),r.memoizedState=r.baseState=i,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Td,lastRenderedState:i},r.queue=a,r=Vd.bind(null,Se,a),a.dispatch=r,a=Ia(!1),g=Oa.bind(null,Se,!1,a.queue),a=mt(),p={state:i,dispatch:null,action:t,pending:null},a.queue=p,r=jv.bind(null,Se,p,g,r),p.dispatch=r,a.memoizedState=t,[i,r,!1]}function xd(t){var i=Qe();return Ed(i,Le,t)}function Ed(t,i,r){if(i=Na(t,i,Td)[0],t=ur(yn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var a=Ko(i)}catch(S){throw S===Xi?js:S}else a=i;i=Qe();var p=i.queue,g=p.dispatch;return r!==i.memoizedState&&(Se.flags|=2048,to(9,{destroy:void 0},e_.bind(null,p,r),null)),[a,g,t]}function e_(t,i){t.action=i}function bd(t){var i=Qe(),r=Le;if(r!==null)return Ed(i,r,t);Qe(),i=i.memoizedState,r=Qe();var a=r.queue.dispatch;return r.memoizedState=t,[i,a,!1]}function to(t,i,r,a){return t={tag:t,create:r,deps:a,inst:i,next:null},i=Se.updateQueue,i===null&&(i=lr(),Se.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(a=r.next,r.next=t,t.next=a,i.lastEffect=t),t}function Ad(){return Qe().memoizedState}function cr(t,i,r,a){var p=mt();Se.flags|=t,p.memoizedState=to(1|i,{destroy:void 0},r,a===void 0?null:a)}function fr(t,i,r,a){var p=Qe();a=a===void 0?null:a;var g=p.memoizedState.inst;Le!==null&&a!==null&&Ca(a,Le.memoizedState.deps)?p.memoizedState=to(i,g,r,a):(Se.flags|=t,p.memoizedState=to(1|i,g,r,a))}function Rd(t,i){cr(8390656,8,t,i)}function ka(t,i){fr(2048,8,t,i)}function t_(t){Se.flags|=4;var i=Se.updateQueue;if(i===null)i=lr(),Se.updateQueue=i,i.events=[t];else{var r=i.events;r===null?i.events=[t]:r.push(t)}}function Nd(t){var i=Qe().memoizedState;return t_({ref:i,nextImpl:t}),function(){if((ke&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Md(t,i){return fr(4,2,t,i)}function Id(t,i){return fr(4,4,t,i)}function Dd(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function kd(t,i,r){r=r!=null?r.concat([t]):null,fr(4,4,Dd.bind(null,i,t),r)}function wa(){}function wd(t,i){var r=Qe();i=i===void 0?null:i;var a=r.memoizedState;return i!==null&&Ca(i,a[1])?a[0]:(r.memoizedState=[t,i],t)}function Ud(t,i){var r=Qe();i=i===void 0?null:i;var a=r.memoizedState;if(i!==null&&Ca(i,a[1]))return a[0];if(a=t(),Si){Dn(!0);try{t()}finally{Dn(!1)}}return r.memoizedState=[a,i],a}function Ua(t,i,r){return r===void 0||(gn&1073741824)!==0&&(Ae&261930)===0?t.memoizedState=i:(t.memoizedState=r,t=Lp(),Se.lanes|=t,Jn|=t,r)}function Ld(t,i,r,a){return wt(r,i)?r:Wi.current!==null?(t=Ua(t,r,a),wt(t,i)||(We=!0),t):(gn&42)===0||(gn&1073741824)!==0&&(Ae&261930)===0?(We=!0,t.memoizedState=r):(t=Lp(),Se.lanes|=t,Jn|=t,i)}function Pd(t,i,r,a,p){var g=q.p;q.p=g!==0&&8>g?g:8;var S=R.T,x={};R.T=x,Oa(t,!1,i,r);try{var b=p(),w=R.S;if(w!==null&&w(x,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=Xv(b,a);Qo(t,i,H,zt(t))}else Qo(t,i,a,zt(t))}catch(B){Qo(t,i,{then:function(){},status:"rejected",reason:B},zt())}finally{q.p=g,S!==null&&x.types!==null&&(S.types=x.types),R.T=S}}function n_(){}function La(t,i,r,a){if(t.tag!==5)throw Error(s(476));var p=Od(t).queue;Pd(t,p,i,Z,r===null?n_:function(){return Gd(t),r(a)})}function Od(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:Z},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Gd(t){var i=Od(t);i.next===null&&(i=t.alternate.memoizedState),Qo(t,i.next.queue,{},zt())}function Pa(){return at(ds)}function zd(){return Qe().memoizedState}function Hd(){return Qe().memoizedState}function i_(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=zt();t=zn(r);var a=Hn(i,t,r);a!==null&&(Rt(a,i,r),Fo(a,i,r)),i={cache:fa()},t.payload=i;return}i=i.return}}function o_(t,i,r){var a=zt();r={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},dr(t)?Bd(i,r):(r=ea(t,i,r,a),r!==null&&(Rt(r,t,a),qd(r,i,a)))}function Vd(t,i,r){var a=zt();Qo(t,i,r,a)}function Qo(t,i,r,a){var p={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(dr(t))Bd(i,p);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var S=i.lastRenderedState,x=g(S,r);if(p.hasEagerState=!0,p.eagerState=x,wt(x,S))return Ys(t,i,p,0),Ge===null&&Js(),!1}catch{}finally{}if(r=ea(t,i,p,a),r!==null)return Rt(r,t,a),qd(r,i,a),!0}return!1}function Oa(t,i,r,a){if(a={lane:2,revertLane:mu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},dr(t)){if(i)throw Error(s(479))}else i=ea(t,r,a,2),i!==null&&Rt(i,t,2)}function dr(t){var i=t.alternate;return t===Se||i!==null&&i===Se}function Bd(t,i){ji=sr=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function qd(t,i,r){if((r&4194048)!==0){var a=i.lanes;a&=t.pendingLanes,r|=a,i.lanes=r,$c(t,r)}}var Xo={readContext:at,use:ar,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};Xo.useEffectEvent=Ye;var Fd={readContext:at,use:ar,useCallback:function(t,i){return mt().memoizedState=[t,i===void 0?null:i],t},useContext:at,useEffect:Rd,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,cr(4194308,4,Dd.bind(null,i,t),r)},useLayoutEffect:function(t,i){return cr(4194308,4,t,i)},useInsertionEffect:function(t,i){cr(4,2,t,i)},useMemo:function(t,i){var r=mt();i=i===void 0?null:i;var a=t();if(Si){Dn(!0);try{t()}finally{Dn(!1)}}return r.memoizedState=[a,i],a},useReducer:function(t,i,r){var a=mt();if(r!==void 0){var p=r(i);if(Si){Dn(!0);try{r(i)}finally{Dn(!1)}}}else p=i;return a.memoizedState=a.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},a.queue=t,t=t.dispatch=o_.bind(null,Se,t),[a.memoizedState,t]},useRef:function(t){var i=mt();return t={current:t},i.memoizedState=t},useState:function(t){t=Ia(t);var i=t.queue,r=Vd.bind(null,Se,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:wa,useDeferredValue:function(t,i){var r=mt();return Ua(r,t,i)},useTransition:function(){var t=Ia(!1);return t=Pd.bind(null,Se,t.queue,!0,!1),mt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var a=Se,p=mt();if(Ne){if(r===void 0)throw Error(s(407));r=r()}else{if(r=i(),Ge===null)throw Error(s(349));(Ae&127)!==0||fd(a,i,r)}p.memoizedState=r;var g={value:r,getSnapshot:i};return p.queue=g,Rd(pd.bind(null,a,g,t),[t]),a.flags|=2048,to(9,{destroy:void 0},dd.bind(null,a,g,r,i),null),r},useId:function(){var t=mt(),i=Ge.identifierPrefix;if(Ne){var r=rn,a=sn;r=(a&~(1<<32-kt(a)-1)).toString(32)+r,i="_"+i+"R_"+r,r=rr++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=Zv++,i="_"+i+"r_"+r.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Pa,useFormState:Cd,useActionState:Cd,useOptimistic:function(t){var i=mt();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=Oa.bind(null,Se,!0,r),r.dispatch=i,[t,i]},useMemoCache:Ra,useCacheRefresh:function(){return mt().memoizedState=i_.bind(null,Se)},useEffectEvent:function(t){var i=mt(),r={impl:t};return i.memoizedState=r,function(){if((ke&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Ga={readContext:at,use:ar,useCallback:wd,useContext:at,useEffect:ka,useImperativeHandle:kd,useInsertionEffect:Md,useLayoutEffect:Id,useMemo:Ud,useReducer:ur,useRef:Ad,useState:function(){return ur(yn)},useDebugValue:wa,useDeferredValue:function(t,i){var r=Qe();return Ld(r,Le.memoizedState,t,i)},useTransition:function(){var t=ur(yn)[0],i=Qe().memoizedState;return[typeof t=="boolean"?t:Ko(t),i]},useSyncExternalStore:cd,useId:zd,useHostTransitionStatus:Pa,useFormState:xd,useActionState:xd,useOptimistic:function(t,i){var r=Qe();return gd(r,Le,t,i)},useMemoCache:Ra,useCacheRefresh:Hd};Ga.useEffectEvent=Nd;var Jd={readContext:at,use:ar,useCallback:wd,useContext:at,useEffect:ka,useImperativeHandle:kd,useInsertionEffect:Md,useLayoutEffect:Id,useMemo:Ud,useReducer:Ma,useRef:Ad,useState:function(){return Ma(yn)},useDebugValue:wa,useDeferredValue:function(t,i){var r=Qe();return Le===null?Ua(r,t,i):Ld(r,Le.memoizedState,t,i)},useTransition:function(){var t=Ma(yn)[0],i=Qe().memoizedState;return[typeof t=="boolean"?t:Ko(t),i]},useSyncExternalStore:cd,useId:zd,useHostTransitionStatus:Pa,useFormState:bd,useActionState:bd,useOptimistic:function(t,i){var r=Qe();return Le!==null?gd(r,Le,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ra,useCacheRefresh:Hd};Jd.useEffectEvent=Nd;function za(t,i,r,a){i=t.memoizedState,r=r(a,i),r=r==null?i:_({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ha={enqueueSetState:function(t,i,r){t=t._reactInternals;var a=zt(),p=zn(a);p.payload=i,r!=null&&(p.callback=r),i=Hn(t,p,a),i!==null&&(Rt(i,t,a),Fo(i,t,a))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var a=zt(),p=zn(a);p.tag=1,p.payload=i,r!=null&&(p.callback=r),i=Hn(t,p,a),i!==null&&(Rt(i,t,a),Fo(i,t,a))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=zt(),a=zn(r);a.tag=2,i!=null&&(a.callback=i),i=Hn(t,a,r),i!==null&&(Rt(i,t,r),Fo(i,t,r))}};function Yd(t,i,r,a,p,g,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,g,S):i.prototype&&i.prototype.isPureReactComponent?!Po(r,a)||!Po(p,g):!0}function $d(t,i,r,a){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,a),i.state!==t&&Ha.enqueueReplaceState(i,i.state,null)}function Ti(t,i){var r=i;if("ref"in i){r={};for(var a in i)a!=="ref"&&(r[a]=i[a])}if(t=t.defaultProps){r===i&&(r=_({},r));for(var p in t)r[p]===void 0&&(r[p]=t[p])}return r}function Kd(t){Fs(t)}function Qd(t){console.error(t)}function Xd(t){Fs(t)}function pr(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(a){setTimeout(function(){throw a})}}function Zd(t,i,r){try{var a=t.onCaughtError;a(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Va(t,i,r){return r=zn(r),r.tag=3,r.payload={element:null},r.callback=function(){pr(t,i)},r}function Wd(t){return t=zn(t),t.tag=3,t}function jd(t,i,r,a){var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;t.payload=function(){return p(g)},t.callback=function(){Zd(i,r,a)}}var S=r.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){Zd(i,r,a),typeof p!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})})}function s_(t,i,r,a,p){if(r.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(i=r.alternate,i!==null&&$i(i,r,p,!0),r=Lt.current,r!==null){switch(r.tag){case 31:case 13:return $t===null?br():r.alternate===null&&$e===0&&($e=3),r.flags&=-257,r.flags|=65536,r.lanes=p,a===er?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([a]):i.add(a),du(t,a,p)),!1;case 22:return r.flags|=65536,a===er?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([a])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([a]):r.add(a)),du(t,a,p)),!1}throw Error(s(435,r.tag))}return du(t,a,p),br(),!1}if(Ne)return i=Lt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,a!==ra&&(t=Error(s(422),{cause:a}),zo(qt(t,r)))):(a!==ra&&(i=Error(s(423),{cause:a}),zo(qt(i,r))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,a=qt(a,r),p=Va(t.stateNode,a,p),ya(t,p),$e!==4&&($e=2)),!1;var g=Error(s(520),{cause:a});if(g=qt(g,r),os===null?os=[g]:os.push(g),$e!==4&&($e=2),i===null)return!0;a=qt(a,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=p&-p,r.lanes|=t,t=Va(r.stateNode,a,t),ya(r,t),!1;case 1:if(i=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Yn===null||!Yn.has(g))))return r.flags|=65536,p&=-p,r.lanes|=p,p=Wd(p),jd(p,t,r,a),ya(r,p),!1}r=r.return}while(r!==null);return!1}var Ba=Error(s(461)),We=!1;function ut(t,i,r,a){i.child=t===null?id(i,null,r,a):_i(i,t.child,r,a)}function ep(t,i,r,a,p){r=r.render;var g=i.ref;if("ref"in a){var S={};for(var x in a)x!=="ref"&&(S[x]=a[x])}else S=a;return mi(i),a=xa(t,i,r,S,g,p),x=Ea(),t!==null&&!We?(ba(t,i,p),vn(t,i,p)):(Ne&&x&&oa(i),i.flags|=1,ut(t,i,a,p),i.child)}function tp(t,i,r,a,p){if(t===null){var g=r.type;return typeof g=="function"&&!ta(g)&&g.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=g,np(t,i,g,a,p)):(t=Ks(r.type,null,a,i,i.mode,p),t.ref=i.ref,t.return=i,i.child=t)}if(g=t.child,!Xa(t,p)){var S=g.memoizedProps;if(r=r.compare,r=r!==null?r:Po,r(S,a)&&t.ref===i.ref)return vn(t,i,p)}return i.flags|=1,t=dn(g,a),t.ref=i.ref,t.return=i,i.child=t}function np(t,i,r,a,p){if(t!==null){var g=t.memoizedProps;if(Po(g,a)&&t.ref===i.ref)if(We=!1,i.pendingProps=a=g,Xa(t,p))(t.flags&131072)!==0&&(We=!0);else return i.lanes=t.lanes,vn(t,i,p)}return qa(t,i,r,a,p)}function ip(t,i,r,a){var p=a.children,g=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|r:r,t!==null){for(a=i.child=t.child,p=0;a!==null;)p=p|a.lanes|a.childLanes,a=a.sibling;a=p&~g}else a=0,i.child=null;return op(t,i,g,r,a)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ws(i,g!==null?g.cachePool:null),g!==null?rd(i,g):_a(),ld(i);else return a=i.lanes=536870912,op(t,i,g!==null?g.baseLanes|r:r,r,a)}else g!==null?(Ws(i,g.cachePool),rd(i,g),Bn(),i.memoizedState=null):(t!==null&&Ws(i,null),_a(),Bn());return ut(t,i,p,r),i.child}function Zo(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function op(t,i,r,a,p){var g=pa();return g=g===null?null:{parent:Xe._currentValue,pool:g},i.memoizedState={baseLanes:r,cachePool:g},t!==null&&Ws(i,null),_a(),ld(i),t!==null&&$i(t,i,a,!0),i.childLanes=p,null}function hr(t,i){return i=gr({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function sp(t,i,r){return _i(i,t.child,null,r),t=hr(i,i.pendingProps),t.flags|=2,Pt(i),i.memoizedState=null,t}function r_(t,i,r){var a=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ne){if(a.mode==="hidden")return t=hr(i,a),i.lanes=536870912,Zo(null,t);if(Ta(i),(t=He)?(t=yh(t,Yt),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Un!==null?{id:sn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},r=Bf(t),r.return=i,i.child=r,lt=i,He=null)):t=null,t===null)throw Pn(i);return i.lanes=536870912,null}return hr(i,a)}var g=t.memoizedState;if(g!==null){var S=g.dehydrated;if(Ta(i),p)if(i.flags&256)i.flags&=-257,i=sp(t,i,r);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(We||$i(t,i,r,!1),p=(r&t.childLanes)!==0,We||p){if(a=Ge,a!==null&&(S=Kc(a,r),S!==0&&S!==g.retryLane))throw g.retryLane=S,fi(t,S),Rt(a,t,S),Ba;br(),i=sp(t,i,r)}else t=g.treeContext,He=Kt(S.nextSibling),lt=i,Ne=!0,Ln=null,Yt=!1,t!==null&&Jf(i,t),i=hr(i,a),i.flags|=4096;return i}return t=dn(t.child,{mode:a.mode,children:a.children}),t.ref=i.ref,i.child=t,t.return=i,t}function mr(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function qa(t,i,r,a,p){return mi(i),r=xa(t,i,r,a,void 0,p),a=Ea(),t!==null&&!We?(ba(t,i,p),vn(t,i,p)):(Ne&&a&&oa(i),i.flags|=1,ut(t,i,r,p),i.child)}function rp(t,i,r,a,p,g){return mi(i),i.updateQueue=null,r=ud(i,a,r,p),ad(t),a=Ea(),t!==null&&!We?(ba(t,i,g),vn(t,i,g)):(Ne&&a&&oa(i),i.flags|=1,ut(t,i,r,g),i.child)}function lp(t,i,r,a,p){if(mi(i),i.stateNode===null){var g=qi,S=r.contextType;typeof S=="object"&&S!==null&&(g=at(S)),g=new r(a,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ha,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=a,g.state=i.memoizedState,g.refs={},ma(i),S=r.contextType,g.context=typeof S=="object"&&S!==null?at(S):qi,g.state=i.memoizedState,S=r.getDerivedStateFromProps,typeof S=="function"&&(za(i,r,S,a),g.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&Ha.enqueueReplaceState(g,g.state,null),Yo(i,a,g,p),Jo(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),a=!0}else if(t===null){g=i.stateNode;var x=i.memoizedProps,b=Ti(r,x);g.props=b;var w=g.context,H=r.contextType;S=qi,typeof H=="object"&&H!==null&&(S=at(H));var B=r.getDerivedStateFromProps;H=typeof B=="function"||typeof g.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,H||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x||w!==S)&&$d(i,g,a,S),Gn=!1;var U=i.memoizedState;g.state=U,Yo(i,a,g,p),Jo(),w=i.memoizedState,x||U!==w||Gn?(typeof B=="function"&&(za(i,r,B,a),w=i.memoizedState),(b=Gn||Yd(i,r,b,a,U,w,S))?(H||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=w),g.props=a,g.state=w,g.context=S,a=b):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{g=i.stateNode,ga(t,i),S=i.memoizedProps,H=Ti(r,S),g.props=H,B=i.pendingProps,U=g.context,w=r.contextType,b=qi,typeof w=="object"&&w!==null&&(b=at(w)),x=r.getDerivedStateFromProps,(w=typeof x=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==B||U!==b)&&$d(i,g,a,b),Gn=!1,U=i.memoizedState,g.state=U,Yo(i,a,g,p),Jo();var O=i.memoizedState;S!==B||U!==O||Gn||t!==null&&t.dependencies!==null&&Xs(t.dependencies)?(typeof x=="function"&&(za(i,r,x,a),O=i.memoizedState),(H=Gn||Yd(i,r,H,a,U,O,b)||t!==null&&t.dependencies!==null&&Xs(t.dependencies))?(w||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,O,b),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,O,b)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=O),g.props=a,g.state=O,g.context=b,a=H):(typeof g.componentDidUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(i.flags|=1024),a=!1)}return g=a,mr(t,i),a=(i.flags&128)!==0,g||a?(g=i.stateNode,r=a&&typeof r.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,t!==null&&a?(i.child=_i(i,t.child,null,p),i.child=_i(i,null,r,p)):ut(t,i,r,p),i.memoizedState=g.state,t=i.child):t=vn(t,i,p),t}function ap(t,i,r,a){return pi(),i.flags|=256,ut(t,i,r,a),i.child}var Fa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ja(t){return{baseLanes:t,cachePool:Zf()}}function Ya(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=Gt),t}function up(t,i,r){var a=i.pendingProps,p=!1,g=(i.flags&128)!==0,S;if((S=g)||(S=t!==null&&t.memoizedState===null?!1:(Ke.current&2)!==0),S&&(p=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ne){if(p?Vn(i):Bn(),(t=He)?(t=yh(t,Yt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Un!==null?{id:sn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},r=Bf(t),r.return=i,i.child=r,lt=i,He=null)):t=null,t===null)throw Pn(i);return Nu(t)?i.lanes=32:i.lanes=536870912,null}var x=a.children;return a=a.fallback,p?(Bn(),p=i.mode,x=gr({mode:"hidden",children:x},p),a=di(a,p,r,null),x.return=i,a.return=i,x.sibling=a,i.child=x,a=i.child,a.memoizedState=Ja(r),a.childLanes=Ya(t,S,r),i.memoizedState=Fa,Zo(null,a)):(Vn(i),$a(i,x))}var b=t.memoizedState;if(b!==null&&(x=b.dehydrated,x!==null)){if(g)i.flags&256?(Vn(i),i.flags&=-257,i=Ka(t,i,r)):i.memoizedState!==null?(Bn(),i.child=t.child,i.flags|=128,i=null):(Bn(),x=a.fallback,p=i.mode,a=gr({mode:"visible",children:a.children},p),x=di(x,p,r,null),x.flags|=2,a.return=i,x.return=i,a.sibling=x,i.child=a,_i(i,t.child,null,r),a=i.child,a.memoizedState=Ja(r),a.childLanes=Ya(t,S,r),i.memoizedState=Fa,i=Zo(null,a));else if(Vn(i),Nu(x)){if(S=x.nextSibling&&x.nextSibling.dataset,S)var w=S.dgst;S=w,a=Error(s(419)),a.stack="",a.digest=S,zo({value:a,source:null,stack:null}),i=Ka(t,i,r)}else if(We||$i(t,i,r,!1),S=(r&t.childLanes)!==0,We||S){if(S=Ge,S!==null&&(a=Kc(S,r),a!==0&&a!==b.retryLane))throw b.retryLane=a,fi(t,a),Rt(S,t,a),Ba;Ru(x)||br(),i=Ka(t,i,r)}else Ru(x)?(i.flags|=192,i.child=t.child,i=null):(t=b.treeContext,He=Kt(x.nextSibling),lt=i,Ne=!0,Ln=null,Yt=!1,t!==null&&Jf(i,t),i=$a(i,a.children),i.flags|=4096);return i}return p?(Bn(),x=a.fallback,p=i.mode,b=t.child,w=b.sibling,a=dn(b,{mode:"hidden",children:a.children}),a.subtreeFlags=b.subtreeFlags&65011712,w!==null?x=dn(w,x):(x=di(x,p,r,null),x.flags|=2),x.return=i,a.return=i,a.sibling=x,i.child=a,Zo(null,a),a=i.child,x=t.child.memoizedState,x===null?x=Ja(r):(p=x.cachePool,p!==null?(b=Xe._currentValue,p=p.parent!==b?{parent:b,pool:b}:p):p=Zf(),x={baseLanes:x.baseLanes|r,cachePool:p}),a.memoizedState=x,a.childLanes=Ya(t,S,r),i.memoizedState=Fa,Zo(t.child,a)):(Vn(i),r=t.child,t=r.sibling,r=dn(r,{mode:"visible",children:a.children}),r.return=i,r.sibling=null,t!==null&&(S=i.deletions,S===null?(i.deletions=[t],i.flags|=16):S.push(t)),i.child=r,i.memoizedState=null,r)}function $a(t,i){return i=gr({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function gr(t,i){return t=Ut(22,t,null,i),t.lanes=0,t}function Ka(t,i,r){return _i(i,t.child,null,r),t=$a(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function cp(t,i,r){t.lanes|=i;var a=t.alternate;a!==null&&(a.lanes|=i),ua(t.return,i,r)}function Qa(t,i,r,a,p,g){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:p,treeForkCount:g}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=a,S.tail=r,S.tailMode=p,S.treeForkCount=g)}function fp(t,i,r){var a=i.pendingProps,p=a.revealOrder,g=a.tail;a=a.children;var S=Ke.current,x=(S&2)!==0;if(x?(S=S&1|2,i.flags|=128):S&=1,M(Ke,S),ut(t,i,a,r),a=Ne?Go:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cp(t,r,i);else if(t.tag===19)cp(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(r=i.child,p=null;r!==null;)t=r.alternate,t!==null&&or(t)===null&&(p=r),r=r.sibling;r=p,r===null?(p=i.child,i.child=null):(p=r.sibling,r.sibling=null),Qa(i,!1,p,r,g,a);break;case"backwards":case"unstable_legacy-backwards":for(r=null,p=i.child,i.child=null;p!==null;){if(t=p.alternate,t!==null&&or(t)===null){i.child=p;break}t=p.sibling,p.sibling=r,r=p,p=t}Qa(i,!0,r,null,g,a);break;case"together":Qa(i,!1,null,null,void 0,a);break;default:i.memoizedState=null}return i.child}function vn(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),Jn|=i.lanes,(r&i.childLanes)===0)if(t!==null){if($i(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,r=dn(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=dn(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function Xa(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Xs(t)))}function l_(t,i,r){switch(i.tag){case 3:J(i,i.stateNode.containerInfo),On(i,Xe,t.memoizedState.cache),pi();break;case 27:case 5:Je(i);break;case 4:J(i,i.stateNode.containerInfo);break;case 10:On(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ta(i),null;break;case 13:var a=i.memoizedState;if(a!==null)return a.dehydrated!==null?(Vn(i),i.flags|=128,null):(r&i.child.childLanes)!==0?up(t,i,r):(Vn(i),t=vn(t,i,r),t!==null?t.sibling:null);Vn(i);break;case 19:var p=(t.flags&128)!==0;if(a=(r&i.childLanes)!==0,a||($i(t,i,r,!1),a=(r&i.childLanes)!==0),p){if(a)return fp(t,i,r);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),M(Ke,Ke.current),a)break;return null;case 22:return i.lanes=0,ip(t,i,r,i.pendingProps);case 24:On(i,Xe,t.memoizedState.cache)}return vn(t,i,r)}function dp(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)We=!0;else{if(!Xa(t,r)&&(i.flags&128)===0)return We=!1,l_(t,i,r);We=(t.flags&131072)!==0}else We=!1,Ne&&(i.flags&1048576)!==0&&Ff(i,Go,i.index);switch(i.lanes=0,i.tag){case 16:e:{var a=i.pendingProps;if(t=yi(i.elementType),i.type=t,typeof t=="function")ta(t)?(a=Ti(t,a),i.tag=1,i=lp(null,i,t,a,r)):(i.tag=0,i=qa(null,i,t,a,r));else{if(t!=null){var p=t.$$typeof;if(p===W){i.tag=11,i=ep(null,i,t,a,r);break e}else if(p===Q){i.tag=14,i=tp(null,i,t,a,r);break e}}throw i=be(t)||t,Error(s(306,i,""))}}return i;case 0:return qa(t,i,i.type,i.pendingProps,r);case 1:return a=i.type,p=Ti(a,i.pendingProps),lp(t,i,a,p,r);case 3:e:{if(J(i,i.stateNode.containerInfo),t===null)throw Error(s(387));a=i.pendingProps;var g=i.memoizedState;p=g.element,ga(t,i),Yo(i,a,null,r);var S=i.memoizedState;if(a=S.cache,On(i,Xe,a),a!==g.cache&&ca(i,[Xe],r,!0),Jo(),a=S.element,g.isDehydrated)if(g={element:a,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=ap(t,i,a,r);break e}else if(a!==p){p=qt(Error(s(424)),i),zo(p),i=ap(t,i,a,r);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(He=Kt(t.firstChild),lt=i,Ne=!0,Ln=null,Yt=!0,r=id(i,null,a,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(pi(),a===p){i=vn(t,i,r);break e}ut(t,i,a,r)}i=i.child}return i;case 26:return mr(t,i),t===null?(r=xh(i.type,null,i.pendingProps,null))?i.memoizedState=r:Ne||(r=i.type,t=i.pendingProps,a=kr(X.current).createElement(r),a[rt]=i,a[Tt]=t,ct(a,r,t),nt(a),i.stateNode=a):i.memoizedState=xh(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Je(i),t===null&&Ne&&(a=i.stateNode=Sh(i.type,i.pendingProps,X.current),lt=i,Yt=!0,p=He,Xn(i.type)?(Mu=p,He=Kt(a.firstChild)):He=p),ut(t,i,i.pendingProps.children,r),mr(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ne&&((p=a=He)&&(a=O_(a,i.type,i.pendingProps,Yt),a!==null?(i.stateNode=a,lt=i,He=Kt(a.firstChild),Yt=!1,p=!0):p=!1),p||Pn(i)),Je(i),p=i.type,g=i.pendingProps,S=t!==null?t.memoizedProps:null,a=g.children,Eu(p,g)?a=null:S!==null&&Eu(p,S)&&(i.flags|=32),i.memoizedState!==null&&(p=xa(t,i,Wv,null,null,r),ds._currentValue=p),mr(t,i),ut(t,i,a,r),i.child;case 6:return t===null&&Ne&&((t=r=He)&&(r=G_(r,i.pendingProps,Yt),r!==null?(i.stateNode=r,lt=i,He=null,t=!0):t=!1),t||Pn(i)),null;case 13:return up(t,i,r);case 4:return J(i,i.stateNode.containerInfo),a=i.pendingProps,t===null?i.child=_i(i,null,a,r):ut(t,i,a,r),i.child;case 11:return ep(t,i,i.type,i.pendingProps,r);case 7:return ut(t,i,i.pendingProps,r),i.child;case 8:return ut(t,i,i.pendingProps.children,r),i.child;case 12:return ut(t,i,i.pendingProps.children,r),i.child;case 10:return a=i.pendingProps,On(i,i.type,a.value),ut(t,i,a.children,r),i.child;case 9:return p=i.type._context,a=i.pendingProps.children,mi(i),p=at(p),a=a(p),i.flags|=1,ut(t,i,a,r),i.child;case 14:return tp(t,i,i.type,i.pendingProps,r);case 15:return np(t,i,i.type,i.pendingProps,r);case 19:return fp(t,i,r);case 31:return r_(t,i,r);case 22:return ip(t,i,r,i.pendingProps);case 24:return mi(i),a=at(Xe),t===null?(p=pa(),p===null&&(p=Ge,g=fa(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=r),p=g),i.memoizedState={parent:a,cache:p},ma(i),On(i,Xe,p)):((t.lanes&r)!==0&&(ga(t,i),Yo(i,null,null,r),Jo()),p=t.memoizedState,g=i.memoizedState,p.parent!==a?(p={parent:a,cache:a},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),On(i,Xe,a)):(a=g.cache,On(i,Xe,a),a!==p.cache&&ca(i,[Xe],r,!0))),ut(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function _n(t){t.flags|=4}function Za(t,i,r,a,p){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if(zp())t.flags|=8192;else throw vi=er,ha}else t.flags&=-16777217}function pp(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Nh(i))if(zp())t.flags|=8192;else throw vi=er,ha}function yr(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Jc():536870912,t.lanes|=i,so|=i)}function Wo(t,i){if(!Ne)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function Ve(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,a=0;if(i)for(var p=t.child;p!==null;)r|=p.lanes|p.childLanes,a|=p.subtreeFlags&65011712,a|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)r|=p.lanes|p.childLanes,a|=p.subtreeFlags,a|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=a,t.childLanes=r,i}function a_(t,i,r){var a=i.pendingProps;switch(sa(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(i),null;case 1:return Ve(i),null;case 3:return r=i.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),mn(Xe),se(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yi(i)?_n(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,la())),Ve(i),null;case 26:var p=i.type,g=i.memoizedState;return t===null?(_n(i),g!==null?(Ve(i),pp(i,g)):(Ve(i),Za(i,p,null,a,r))):g?g!==t.memoizedState?(_n(i),Ve(i),pp(i,g)):(Ve(i),i.flags&=-16777217):(t=t.memoizedProps,t!==a&&_n(i),Ve(i),Za(i,p,t,a,r)),null;case 27:if(st(i),r=X.current,p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==a&&_n(i);else{if(!a){if(i.stateNode===null)throw Error(s(166));return Ve(i),null}t=Y.current,Yi(i)?Yf(i):(t=Sh(p,a,r),i.stateNode=t,_n(i))}return Ve(i),null;case 5:if(st(i),p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==a&&_n(i);else{if(!a){if(i.stateNode===null)throw Error(s(166));return Ve(i),null}if(g=Y.current,Yi(i))Yf(i);else{var S=kr(X.current);switch(g){case 1:g=S.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=S.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=S.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof a.is=="string"?S.createElement("select",{is:a.is}):S.createElement("select"),a.multiple?g.multiple=!0:a.size&&(g.size=a.size);break;default:g=typeof a.is=="string"?S.createElement(p,{is:a.is}):S.createElement(p)}}g[rt]=i,g[Tt]=a;e:for(S=i.child;S!==null;){if(S.tag===5||S.tag===6)g.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===i)break e;for(;S.sibling===null;){if(S.return===null||S.return===i)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}i.stateNode=g;e:switch(ct(g,p,a),p){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&_n(i)}}return Ve(i),Za(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,r),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==a&&_n(i);else{if(typeof a!="string"&&i.stateNode===null)throw Error(s(166));if(t=X.current,Yi(i)){if(t=i.stateNode,r=i.memoizedProps,a=null,p=lt,p!==null)switch(p.tag){case 27:case 5:a=p.memoizedProps}t[rt]=i,t=!!(t.nodeValue===r||a!==null&&a.suppressHydrationWarning===!0||uh(t.nodeValue,r)),t||Pn(i,!0)}else t=kr(t).createTextNode(a),t[rt]=i,i.stateNode=t}return Ve(i),null;case 31:if(r=i.memoizedState,t===null||t.memoizedState!==null){if(a=Yi(i),r!==null){if(t===null){if(!a)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[rt]=i}else pi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ve(i),t=!1}else r=la(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return i.flags&256?(Pt(i),i):(Pt(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Ve(i),null;case 13:if(a=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=Yi(i),a!==null&&a.dehydrated!==null){if(t===null){if(!p)throw Error(s(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[rt]=i}else pi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ve(i),p=!1}else p=la(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Pt(i),i):(Pt(i),null)}return Pt(i),(i.flags&128)!==0?(i.lanes=r,i):(r=a!==null,t=t!==null&&t.memoizedState!==null,r&&(a=i.child,p=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(p=a.alternate.memoizedState.cachePool.pool),g=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),g!==p&&(a.flags|=2048)),r!==t&&r&&(i.child.flags|=8192),yr(i,i.updateQueue),Ve(i),null);case 4:return se(),t===null&&_u(i.stateNode.containerInfo),Ve(i),null;case 10:return mn(i.type),Ve(i),null;case 19:if(z(Ke),a=i.memoizedState,a===null)return Ve(i),null;if(p=(i.flags&128)!==0,g=a.rendering,g===null)if(p)Wo(a,!1);else{if($e!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(g=or(t),g!==null){for(i.flags|=128,Wo(a,!1),t=g.updateQueue,i.updateQueue=t,yr(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)Vf(r,t),r=r.sibling;return M(Ke,Ke.current&1|2),Ne&&pn(i,a.treeForkCount),i.child}t=t.sibling}a.tail!==null&&It()>Cr&&(i.flags|=128,p=!0,Wo(a,!1),i.lanes=4194304)}else{if(!p)if(t=or(g),t!==null){if(i.flags|=128,p=!0,t=t.updateQueue,i.updateQueue=t,yr(i,t),Wo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!g.alternate&&!Ne)return Ve(i),null}else 2*It()-a.renderingStartTime>Cr&&r!==536870912&&(i.flags|=128,p=!0,Wo(a,!1),i.lanes=4194304);a.isBackwards?(g.sibling=i.child,i.child=g):(t=a.last,t!==null?t.sibling=g:i.child=g,a.last=g)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=It(),t.sibling=null,r=Ke.current,M(Ke,p?r&1|2:r&1),Ne&&pn(i,a.treeForkCount),t):(Ve(i),null);case 22:case 23:return Pt(i),Sa(),a=i.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(i.flags|=8192):a&&(i.flags|=8192),a?(r&536870912)!==0&&(i.flags&128)===0&&(Ve(i),i.subtreeFlags&6&&(i.flags|=8192)):Ve(i),r=i.updateQueue,r!==null&&yr(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048),t!==null&&z(gi),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),mn(Xe),Ve(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function u_(t,i){switch(sa(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return mn(Xe),se(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return st(i),null;case 31:if(i.memoizedState!==null){if(Pt(i),i.alternate===null)throw Error(s(340));pi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Pt(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));pi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return z(Ke),null;case 4:return se(),null;case 10:return mn(i.type),null;case 22:case 23:return Pt(i),Sa(),t!==null&&z(gi),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return mn(Xe),null;case 25:return null;default:return null}}function hp(t,i){switch(sa(i),i.tag){case 3:mn(Xe),se();break;case 26:case 27:case 5:st(i);break;case 4:se();break;case 31:i.memoizedState!==null&&Pt(i);break;case 13:Pt(i);break;case 19:z(Ke);break;case 10:mn(i.type);break;case 22:case 23:Pt(i),Sa(),t!==null&&z(gi);break;case 24:mn(Xe)}}function jo(t,i){try{var r=i.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var p=a.next;r=p;do{if((r.tag&t)===t){a=void 0;var g=r.create,S=r.inst;a=g(),S.destroy=a}r=r.next}while(r!==p)}}catch(x){Ue(i,i.return,x)}}function qn(t,i,r){try{var a=i.updateQueue,p=a!==null?a.lastEffect:null;if(p!==null){var g=p.next;a=g;do{if((a.tag&t)===t){var S=a.inst,x=S.destroy;if(x!==void 0){S.destroy=void 0,p=i;var b=r,w=x;try{w()}catch(H){Ue(p,b,H)}}}a=a.next}while(a!==g)}}catch(H){Ue(i,i.return,H)}}function mp(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{sd(i,r)}catch(a){Ue(t,t.return,a)}}}function gp(t,i,r){r.props=Ti(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(a){Ue(t,i,a)}}function es(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof r=="function"?t.refCleanup=r(a):r.current=a}}catch(p){Ue(t,i,p)}}function ln(t,i){var r=t.ref,a=t.refCleanup;if(r!==null)if(typeof a=="function")try{a()}catch(p){Ue(t,i,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(p){Ue(t,i,p)}else r.current=null}function yp(t){var i=t.type,r=t.memoizedProps,a=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&a.focus();break e;case"img":r.src?a.src=r.src:r.srcSet&&(a.srcset=r.srcSet)}}catch(p){Ue(t,t.return,p)}}function Wa(t,i,r){try{var a=t.stateNode;D_(a,t.type,r,i),a[Tt]=i}catch(p){Ue(t,t.return,p)}}function vp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xn(t.type)||t.tag===4}function ja(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eu(t,i,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=cn));else if(a!==4&&(a===27&&Xn(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(eu(t,i,r),t=t.sibling;t!==null;)eu(t,i,r),t=t.sibling}function vr(t,i,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(a!==4&&(a===27&&Xn(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(vr(t,i,r),t=t.sibling;t!==null;)vr(t,i,r),t=t.sibling}function _p(t){var i=t.stateNode,r=t.memoizedProps;try{for(var a=t.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);ct(i,a,r),i[rt]=t,i[Tt]=r}catch(g){Ue(t,t.return,g)}}var Sn=!1,je=!1,tu=!1,Sp=typeof WeakSet=="function"?WeakSet:Set,it=null;function c_(t,i){if(t=t.containerInfo,Cu=zr,t=kf(t),Kl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var p=a.anchorOffset,g=a.focusNode;a=a.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var S=0,x=-1,b=-1,w=0,H=0,B=t,U=null;t:for(;;){for(var O;B!==r||p!==0&&B.nodeType!==3||(x=S+p),B!==g||a!==0&&B.nodeType!==3||(b=S+a),B.nodeType===3&&(S+=B.nodeValue.length),(O=B.firstChild)!==null;)U=B,B=O;for(;;){if(B===t)break t;if(U===r&&++w===p&&(x=S),U===g&&++H===a&&(b=S),(O=B.nextSibling)!==null)break;B=U,U=B.parentNode}B=O}r=x===-1||b===-1?null:{start:x,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(xu={focusedElem:t,selectionRange:r},zr=!1,it=i;it!==null;)if(i=it,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,it=t;else for(;it!==null;){switch(i=it,g=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)p=t[r],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,r=i,p=g.memoizedProps,g=g.memoizedState,a=r.stateNode;try{var re=Ti(r.type,p);t=a.getSnapshotBeforeUpdate(re,g),a.__reactInternalSnapshotBeforeUpdate=t}catch(me){Ue(r,r.return,me)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)Au(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Au(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,it=t;break}it=i.return}}function Tp(t,i,r){var a=r.flags;switch(r.tag){case 0:case 11:case 15:Cn(t,r),a&4&&jo(5,r);break;case 1:if(Cn(t,r),a&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(S){Ue(r,r.return,S)}else{var p=Ti(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(p,i,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Ue(r,r.return,S)}}a&64&&mp(r),a&512&&es(r,r.return);break;case 3:if(Cn(t,r),a&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{sd(t,i)}catch(S){Ue(r,r.return,S)}}break;case 27:i===null&&a&4&&_p(r);case 26:case 5:Cn(t,r),i===null&&a&4&&yp(r),a&512&&es(r,r.return);break;case 12:Cn(t,r);break;case 31:Cn(t,r),a&4&&Ep(t,r);break;case 13:Cn(t,r),a&4&&bp(t,r),a&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=__.bind(null,r),z_(t,r))));break;case 22:if(a=r.memoizedState!==null||Sn,!a){i=i!==null&&i.memoizedState!==null||je,p=Sn;var g=je;Sn=a,(je=i)&&!g?xn(t,r,(r.subtreeFlags&8772)!==0):Cn(t,r),Sn=p,je=g}break;case 30:break;default:Cn(t,r)}}function Cp(t){var i=t.alternate;i!==null&&(t.alternate=null,Cp(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Dl(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Be=null,xt=!1;function Tn(t,i,r){for(r=r.child;r!==null;)xp(t,i,r),r=r.sibling}function xp(t,i,r){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Eo,r)}catch{}switch(r.tag){case 26:je||ln(r,i),Tn(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:je||ln(r,i);var a=Be,p=xt;Xn(r.type)&&(Be=r.stateNode,xt=!1),Tn(t,i,r),us(r.stateNode),Be=a,xt=p;break;case 5:je||ln(r,i);case 6:if(a=Be,p=xt,Be=null,Tn(t,i,r),Be=a,xt=p,Be!==null)if(xt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(r.stateNode)}catch(g){Ue(r,i,g)}else try{Be.removeChild(r.stateNode)}catch(g){Ue(r,i,g)}break;case 18:Be!==null&&(xt?(t=Be,mh(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ho(t)):mh(Be,r.stateNode));break;case 4:a=Be,p=xt,Be=r.stateNode.containerInfo,xt=!0,Tn(t,i,r),Be=a,xt=p;break;case 0:case 11:case 14:case 15:qn(2,r,i),je||qn(4,r,i),Tn(t,i,r);break;case 1:je||(ln(r,i),a=r.stateNode,typeof a.componentWillUnmount=="function"&&gp(r,i,a)),Tn(t,i,r);break;case 21:Tn(t,i,r);break;case 22:je=(a=je)||r.memoizedState!==null,Tn(t,i,r),je=a;break;default:Tn(t,i,r)}}function Ep(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ho(t)}catch(r){Ue(i,i.return,r)}}}function bp(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ho(t)}catch(r){Ue(i,i.return,r)}}function f_(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Sp),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Sp),i;default:throw Error(s(435,t.tag))}}function _r(t,i){var r=f_(t);i.forEach(function(a){if(!r.has(a)){r.add(a);var p=S_.bind(null,t,a);a.then(p,p)}})}function Et(t,i){var r=i.deletions;if(r!==null)for(var a=0;a<r.length;a++){var p=r[a],g=t,S=i,x=S;e:for(;x!==null;){switch(x.tag){case 27:if(Xn(x.type)){Be=x.stateNode,xt=!1;break e}break;case 5:Be=x.stateNode,xt=!1;break e;case 3:case 4:Be=x.stateNode.containerInfo,xt=!0;break e}x=x.return}if(Be===null)throw Error(s(160));xp(g,S,p),Be=null,xt=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ap(i,t),i=i.sibling}var jt=null;function Ap(t,i){var r=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Et(i,t),bt(t),a&4&&(qn(3,t,t.return),jo(3,t),qn(5,t,t.return));break;case 1:Et(i,t),bt(t),a&512&&(je||r===null||ln(r,r.return)),a&64&&Sn&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?a:r.concat(a))));break;case 26:var p=jt;if(Et(i,t),bt(t),a&512&&(je||r===null||ln(r,r.return)),a&4){var g=r!==null?r.memoizedState:null;if(a=t.memoizedState,r===null)if(a===null)if(t.stateNode===null){e:{a=t.type,r=t.memoizedProps,p=p.ownerDocument||p;t:switch(a){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Ro]||g[rt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(a),p.head.insertBefore(g,p.querySelector("head > title"))),ct(g,a,r),g[rt]=t,nt(g),a=g;break e;case"link":var S=Ah("link","href",p).get(a+(r.href||""));if(S){for(var x=0;x<S.length;x++)if(g=S[x],g.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){S.splice(x,1);break t}}g=p.createElement(a),ct(g,a,r),p.head.appendChild(g);break;case"meta":if(S=Ah("meta","content",p).get(a+(r.content||""))){for(x=0;x<S.length;x++)if(g=S[x],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){S.splice(x,1);break t}}g=p.createElement(a),ct(g,a,r),p.head.appendChild(g);break;default:throw Error(s(468,a))}g[rt]=t,nt(g),a=g}t.stateNode=a}else Rh(p,t.type,t.stateNode);else t.stateNode=bh(p,a,t.memoizedProps);else g!==a?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,a===null?Rh(p,t.type,t.stateNode):bh(p,a,t.memoizedProps)):a===null&&t.stateNode!==null&&Wa(t,t.memoizedProps,r.memoizedProps)}break;case 27:Et(i,t),bt(t),a&512&&(je||r===null||ln(r,r.return)),r!==null&&a&4&&Wa(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Et(i,t),bt(t),a&512&&(je||r===null||ln(r,r.return)),t.flags&32){p=t.stateNode;try{Pi(p,"")}catch(re){Ue(t,t.return,re)}}a&4&&t.stateNode!=null&&(p=t.memoizedProps,Wa(t,p,r!==null?r.memoizedProps:p)),a&1024&&(tu=!0);break;case 6:if(Et(i,t),bt(t),a&4){if(t.stateNode===null)throw Error(s(162));a=t.memoizedProps,r=t.stateNode;try{r.nodeValue=a}catch(re){Ue(t,t.return,re)}}break;case 3:if(Lr=null,p=jt,jt=wr(i.containerInfo),Et(i,t),jt=p,bt(t),a&4&&r!==null&&r.memoizedState.isDehydrated)try{ho(i.containerInfo)}catch(re){Ue(t,t.return,re)}tu&&(tu=!1,Rp(t));break;case 4:a=jt,jt=wr(t.stateNode.containerInfo),Et(i,t),bt(t),jt=a;break;case 12:Et(i,t),bt(t);break;case 31:Et(i,t),bt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,_r(t,a)));break;case 13:Et(i,t),bt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Tr=It()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,_r(t,a)));break;case 22:p=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,w=Sn,H=je;if(Sn=w||p,je=H||b,Et(i,t),je=H,Sn=w,bt(t),a&8192)e:for(i=t.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(r===null||b||Sn||je||Ci(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){b=r=i;try{if(g=b.stateNode,p)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{x=b.stateNode;var B=b.memoizedProps.style,U=B!=null&&B.hasOwnProperty("display")?B.display:null;x.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(re){Ue(b,b.return,re)}}}else if(i.tag===6){if(r===null){b=i;try{b.stateNode.nodeValue=p?"":b.memoizedProps}catch(re){Ue(b,b.return,re)}}}else if(i.tag===18){if(r===null){b=i;try{var O=b.stateNode;p?gh(O,!0):gh(b.stateNode,!1)}catch(re){Ue(b,b.return,re)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}a&4&&(a=t.updateQueue,a!==null&&(r=a.retryQueue,r!==null&&(a.retryQueue=null,_r(t,r))));break;case 19:Et(i,t),bt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,_r(t,a)));break;case 30:break;case 21:break;default:Et(i,t),bt(t)}}function bt(t){var i=t.flags;if(i&2){try{for(var r,a=t.return;a!==null;){if(vp(a)){r=a;break}a=a.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var p=r.stateNode,g=ja(t);vr(t,g,p);break;case 5:var S=r.stateNode;r.flags&32&&(Pi(S,""),r.flags&=-33);var x=ja(t);vr(t,x,S);break;case 3:case 4:var b=r.stateNode.containerInfo,w=ja(t);eu(t,w,b);break;default:throw Error(s(161))}}catch(H){Ue(t,t.return,H)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Rp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Rp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Cn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Tp(t,i.alternate,i),i=i.sibling}function Ci(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:qn(4,i,i.return),Ci(i);break;case 1:ln(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&gp(i,i.return,r),Ci(i);break;case 27:us(i.stateNode);case 26:case 5:ln(i,i.return),Ci(i);break;case 22:i.memoizedState===null&&Ci(i);break;case 30:Ci(i);break;default:Ci(i)}t=t.sibling}}function xn(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var a=i.alternate,p=t,g=i,S=g.flags;switch(g.tag){case 0:case 11:case 15:xn(p,g,r),jo(4,g);break;case 1:if(xn(p,g,r),a=g,p=a.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(w){Ue(a,a.return,w)}if(a=g,p=a.updateQueue,p!==null){var x=a.stateNode;try{var b=p.shared.hiddenCallbacks;if(b!==null)for(p.shared.hiddenCallbacks=null,p=0;p<b.length;p++)od(b[p],x)}catch(w){Ue(a,a.return,w)}}r&&S&64&&mp(g),es(g,g.return);break;case 27:_p(g);case 26:case 5:xn(p,g,r),r&&a===null&&S&4&&yp(g),es(g,g.return);break;case 12:xn(p,g,r);break;case 31:xn(p,g,r),r&&S&4&&Ep(p,g);break;case 13:xn(p,g,r),r&&S&4&&bp(p,g);break;case 22:g.memoizedState===null&&xn(p,g,r),es(g,g.return);break;case 30:break;default:xn(p,g,r)}i=i.sibling}}function nu(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ho(r))}function iu(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ho(t))}function en(t,i,r,a){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Np(t,i,r,a),i=i.sibling}function Np(t,i,r,a){var p=i.flags;switch(i.tag){case 0:case 11:case 15:en(t,i,r,a),p&2048&&jo(9,i);break;case 1:en(t,i,r,a);break;case 3:en(t,i,r,a),p&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ho(t)));break;case 12:if(p&2048){en(t,i,r,a),t=i.stateNode;try{var g=i.memoizedProps,S=g.id,x=g.onPostCommit;typeof x=="function"&&x(S,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Ue(i,i.return,b)}}else en(t,i,r,a);break;case 31:en(t,i,r,a);break;case 13:en(t,i,r,a);break;case 23:break;case 22:g=i.stateNode,S=i.alternate,i.memoizedState!==null?g._visibility&2?en(t,i,r,a):ts(t,i):g._visibility&2?en(t,i,r,a):(g._visibility|=2,no(t,i,r,a,(i.subtreeFlags&10256)!==0||!1)),p&2048&&nu(S,i);break;case 24:en(t,i,r,a),p&2048&&iu(i.alternate,i);break;default:en(t,i,r,a)}}function no(t,i,r,a,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=t,S=i,x=r,b=a,w=S.flags;switch(S.tag){case 0:case 11:case 15:no(g,S,x,b,p),jo(8,S);break;case 23:break;case 22:var H=S.stateNode;S.memoizedState!==null?H._visibility&2?no(g,S,x,b,p):ts(g,S):(H._visibility|=2,no(g,S,x,b,p)),p&&w&2048&&nu(S.alternate,S);break;case 24:no(g,S,x,b,p),p&&w&2048&&iu(S.alternate,S);break;default:no(g,S,x,b,p)}i=i.sibling}}function ts(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,a=i,p=a.flags;switch(a.tag){case 22:ts(r,a),p&2048&&nu(a.alternate,a);break;case 24:ts(r,a),p&2048&&iu(a.alternate,a);break;default:ts(r,a)}i=i.sibling}}var ns=8192;function io(t,i,r){if(t.subtreeFlags&ns)for(t=t.child;t!==null;)Mp(t,i,r),t=t.sibling}function Mp(t,i,r){switch(t.tag){case 26:io(t,i,r),t.flags&ns&&t.memoizedState!==null&&Z_(r,jt,t.memoizedState,t.memoizedProps);break;case 5:io(t,i,r);break;case 3:case 4:var a=jt;jt=wr(t.stateNode.containerInfo),io(t,i,r),jt=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=ns,ns=16777216,io(t,i,r),ns=a):io(t,i,r));break;default:io(t,i,r)}}function Ip(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function is(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var a=i[r];it=a,kp(a,t)}Ip(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dp(t),t=t.sibling}function Dp(t){switch(t.tag){case 0:case 11:case 15:is(t),t.flags&2048&&qn(9,t,t.return);break;case 3:is(t);break;case 12:is(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Sr(t)):is(t);break;default:is(t)}}function Sr(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var a=i[r];it=a,kp(a,t)}Ip(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:qn(8,i,i.return),Sr(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,Sr(i));break;default:Sr(i)}t=t.sibling}}function kp(t,i){for(;it!==null;){var r=it;switch(r.tag){case 0:case 11:case 15:qn(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var a=r.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Ho(r.memoizedState.cache)}if(a=r.child,a!==null)a.return=r,it=a;else e:for(r=t;it!==null;){a=it;var p=a.sibling,g=a.return;if(Cp(a),a===r){it=null;break e}if(p!==null){p.return=g,it=p;break e}it=g}}}var d_={getCacheForType:function(t){var i=at(Xe),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r},cacheSignal:function(){return at(Xe).controller.signal}},p_=typeof WeakMap=="function"?WeakMap:Map,ke=0,Ge=null,xe=null,Ae=0,we=0,Ot=null,Fn=!1,oo=!1,ou=!1,En=0,$e=0,Jn=0,xi=0,su=0,Gt=0,so=0,os=null,At=null,ru=!1,Tr=0,wp=0,Cr=1/0,xr=null,Yn=null,tt=0,$n=null,ro=null,bn=0,lu=0,au=null,Up=null,ss=0,uu=null;function zt(){return(ke&2)!==0&&Ae!==0?Ae&-Ae:R.T!==null?mu():Qc()}function Lp(){if(Gt===0)if((Ae&536870912)===0||Ne){var t=Ds;Ds<<=1,(Ds&3932160)===0&&(Ds=262144),Gt=t}else Gt=536870912;return t=Lt.current,t!==null&&(t.flags|=32),Gt}function Rt(t,i,r){(t===Ge&&(we===2||we===9)||t.cancelPendingCommit!==null)&&(lo(t,0),Kn(t,Ae,Gt,!1)),Ao(t,r),((ke&2)===0||t!==Ge)&&(t===Ge&&((ke&2)===0&&(xi|=r),$e===4&&Kn(t,Ae,Gt,!1)),an(t))}function Pp(t,i,r){if((ke&6)!==0)throw Error(s(327));var a=!r&&(i&127)===0&&(i&t.expiredLanes)===0||bo(t,i),p=a?g_(t,i):fu(t,i,!0),g=a;do{if(p===0){oo&&!a&&Kn(t,i,0,!1);break}else{if(r=t.current.alternate,g&&!h_(r)){p=fu(t,i,!1),g=!1;continue}if(p===2){if(g=i,t.errorRecoveryDisabledLanes&g)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var x=t;p=os;var b=x.current.memoizedState.isDehydrated;if(b&&(lo(x,S).flags|=256),S=fu(x,S,!1),S!==2){if(ou&&!b){x.errorRecoveryDisabledLanes|=g,xi|=g,p=4;break e}g=At,At=p,g!==null&&(At===null?At=g:At.push.apply(At,g))}p=S}if(g=!1,p!==2)continue}}if(p===1){lo(t,0),Kn(t,i,0,!0);break}e:{switch(a=t,g=p,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Kn(a,i,Gt,!Fn);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(p=Tr+300-It(),10<p)){if(Kn(a,i,Gt,!Fn),ws(a,0,!0)!==0)break e;bn=i,a.timeoutHandle=ph(Op.bind(null,a,r,At,xr,ru,i,Gt,xi,so,Fn,g,"Throttled",-0,0),p);break e}Op(a,r,At,xr,ru,i,Gt,xi,so,Fn,g,null,-0,0)}}break}while(!0);an(t)}function Op(t,i,r,a,p,g,S,x,b,w,H,B,U,O){if(t.timeoutHandle=-1,B=i.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cn},Mp(i,g,B);var re=(g&62914560)===g?Tr-It():(g&4194048)===g?wp-It():0;if(re=W_(B,re),re!==null){bn=g,t.cancelPendingCommit=re(Jp.bind(null,t,i,g,r,a,p,S,x,b,H,B,null,U,O)),Kn(t,g,S,!w);return}}Jp(t,i,g,r,a,p,S,x,b)}function h_(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var a=0;a<r.length;a++){var p=r[a],g=p.getSnapshot;p=p.value;try{if(!wt(g(),p))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Kn(t,i,r,a){i&=~su,i&=~xi,t.suspendedLanes|=i,t.pingedLanes&=~i,a&&(t.warmLanes|=i),a=t.expirationTimes;for(var p=i;0<p;){var g=31-kt(p),S=1<<g;a[g]=-1,p&=~S}r!==0&&Yc(t,r,i)}function Er(){return(ke&6)===0?(rs(0),!1):!0}function cu(){if(xe!==null){if(we===0)var t=xe.return;else t=xe,hn=hi=null,Aa(t),Zi=null,Bo=0,t=xe;for(;t!==null;)hp(t.alternate,t),t=t.return;xe=null}}function lo(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,U_(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),bn=0,cu(),Ge=t,xe=r=dn(t.current,null),Ae=i,we=0,Ot=null,Fn=!1,oo=bo(t,i),ou=!1,so=Gt=su=xi=Jn=$e=0,At=os=null,ru=!1,(i&8)!==0&&(i|=i&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=i;0<a;){var p=31-kt(a),g=1<<p;i|=t[p],a&=~g}return En=i,Js(),r}function Gp(t,i){Se=null,R.H=Xo,i===Xi||i===js?(i=ed(),we=3):i===ha?(i=ed(),we=4):we=i===Ba?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ot=i,xe===null&&($e=1,pr(t,qt(i,t.current)))}function zp(){var t=Lt.current;return t===null?!0:(Ae&4194048)===Ae?$t===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?t===$t:!1}function Hp(){var t=R.H;return R.H=Xo,t===null?Xo:t}function Vp(){var t=R.A;return R.A=d_,t}function br(){$e=4,Fn||(Ae&4194048)!==Ae&&Lt.current!==null||(oo=!0),(Jn&134217727)===0&&(xi&134217727)===0||Ge===null||Kn(Ge,Ae,Gt,!1)}function fu(t,i,r){var a=ke;ke|=2;var p=Hp(),g=Vp();(Ge!==t||Ae!==i)&&(xr=null,lo(t,i)),i=!1;var S=$e;e:do try{if(we!==0&&xe!==null){var x=xe,b=Ot;switch(we){case 8:cu(),S=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(i=!0);var w=we;if(we=0,Ot=null,ao(t,x,b,w),r&&oo){S=0;break e}break;default:w=we,we=0,Ot=null,ao(t,x,b,w)}}m_(),S=$e;break}catch(H){Gp(t,H)}while(!0);return i&&t.shellSuspendCounter++,hn=hi=null,ke=a,R.H=p,R.A=g,xe===null&&(Ge=null,Ae=0,Js()),S}function m_(){for(;xe!==null;)Bp(xe)}function g_(t,i){var r=ke;ke|=2;var a=Hp(),p=Vp();Ge!==t||Ae!==i?(xr=null,Cr=It()+500,lo(t,i)):oo=bo(t,i);e:do try{if(we!==0&&xe!==null){i=xe;var g=Ot;t:switch(we){case 1:we=0,Ot=null,ao(t,i,g,1);break;case 2:case 9:if(Wf(g)){we=0,Ot=null,qp(i);break}i=function(){we!==2&&we!==9||Ge!==t||(we=7),an(t)},g.then(i,i);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:Wf(g)?(we=0,Ot=null,qp(i)):(we=0,Ot=null,ao(t,i,g,7));break;case 5:var S=null;switch(xe.tag){case 26:S=xe.memoizedState;case 5:case 27:var x=xe;if(S?Nh(S):x.stateNode.complete){we=0,Ot=null;var b=x.sibling;if(b!==null)xe=b;else{var w=x.return;w!==null?(xe=w,Ar(w)):xe=null}break t}}we=0,Ot=null,ao(t,i,g,5);break;case 6:we=0,Ot=null,ao(t,i,g,6);break;case 8:cu(),$e=6;break e;default:throw Error(s(462))}}y_();break}catch(H){Gp(t,H)}while(!0);return hn=hi=null,R.H=a,R.A=p,ke=r,xe!==null?0:(Ge=null,Ae=0,Js(),$e)}function y_(){for(;xe!==null&&!Hy();)Bp(xe)}function Bp(t){var i=dp(t.alternate,t,En);t.memoizedProps=t.pendingProps,i===null?Ar(t):xe=i}function qp(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=rp(r,i,i.pendingProps,i.type,void 0,Ae);break;case 11:i=rp(r,i,i.pendingProps,i.type.render,i.ref,Ae);break;case 5:Aa(i);default:hp(r,i),i=xe=Vf(i,En),i=dp(r,i,En)}t.memoizedProps=t.pendingProps,i===null?Ar(t):xe=i}function ao(t,i,r,a){hn=hi=null,Aa(i),Zi=null,Bo=0;var p=i.return;try{if(s_(t,p,i,r,Ae)){$e=1,pr(t,qt(r,t.current)),xe=null;return}}catch(g){if(p!==null)throw xe=p,g;$e=1,pr(t,qt(r,t.current)),xe=null;return}i.flags&32768?(Ne||a===1?t=!0:oo||(Ae&536870912)!==0?t=!1:(Fn=t=!0,(a===2||a===9||a===3||a===6)&&(a=Lt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Fp(i,t)):Ar(i)}function Ar(t){var i=t;do{if((i.flags&32768)!==0){Fp(i,Fn);return}t=i.return;var r=a_(i.alternate,i,En);if(r!==null){xe=r;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);$e===0&&($e=5)}function Fp(t,i){do{var r=u_(t.alternate,t);if(r!==null){r.flags&=32767,xe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=r}while(t!==null);$e=6,xe=null}function Jp(t,i,r,a,p,g,S,x,b){t.cancelPendingCommit=null;do Rr();while(tt!==0);if((ke&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=jl,Xy(t,r,g,S,x,b),t===Ge&&(xe=Ge=null,Ae=0),ro=i,$n=t,bn=r,lu=g,au=p,Up=a,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,T_(Ms,function(){return Xp(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||a){a=R.T,R.T=null,p=q.p,q.p=2,S=ke,ke|=4;try{c_(t,i,r)}finally{ke=S,q.p=p,R.T=a}}tt=1,Yp(),$p(),Kp()}}function Yp(){if(tt===1){tt=0;var t=$n,i=ro,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=R.T,R.T=null;var a=q.p;q.p=2;var p=ke;ke|=4;try{Ap(i,t);var g=xu,S=kf(t.containerInfo),x=g.focusedElem,b=g.selectionRange;if(S!==x&&x&&x.ownerDocument&&Df(x.ownerDocument.documentElement,x)){if(b!==null&&Kl(x)){var w=b.start,H=b.end;if(H===void 0&&(H=w),"selectionStart"in x)x.selectionStart=w,x.selectionEnd=Math.min(H,x.value.length);else{var B=x.ownerDocument||document,U=B&&B.defaultView||window;if(U.getSelection){var O=U.getSelection(),re=x.textContent.length,me=Math.min(b.start,re),Oe=b.end===void 0?me:Math.min(b.end,re);!O.extend&&me>Oe&&(S=Oe,Oe=me,me=S);var I=If(x,me),N=If(x,Oe);if(I&&N&&(O.rangeCount!==1||O.anchorNode!==I.node||O.anchorOffset!==I.offset||O.focusNode!==N.node||O.focusOffset!==N.offset)){var k=B.createRange();k.setStart(I.node,I.offset),O.removeAllRanges(),me>Oe?(O.addRange(k),O.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),O.addRange(k))}}}}for(B=[],O=x;O=O.parentNode;)O.nodeType===1&&B.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<B.length;x++){var V=B[x];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}zr=!!Cu,xu=Cu=null}finally{ke=p,q.p=a,R.T=r}}t.current=i,tt=2}}function $p(){if(tt===2){tt=0;var t=$n,i=ro,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=R.T,R.T=null;var a=q.p;q.p=2;var p=ke;ke|=4;try{Tp(t,i.alternate,i)}finally{ke=p,q.p=a,R.T=r}}tt=3}}function Kp(){if(tt===4||tt===3){tt=0,Vy();var t=$n,i=ro,r=bn,a=Up;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?tt=5:(tt=0,ro=$n=null,Qp(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(Yn=null),Ml(r),i=i.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Eo,i,void 0,(i.current.flags&128)===128)}catch{}if(a!==null){i=R.T,p=q.p,q.p=2,R.T=null;try{for(var g=t.onRecoverableError,S=0;S<a.length;S++){var x=a[S];g(x.value,{componentStack:x.stack})}}finally{R.T=i,q.p=p}}(bn&3)!==0&&Rr(),an(t),p=t.pendingLanes,(r&261930)!==0&&(p&42)!==0?t===uu?ss++:(ss=0,uu=t):ss=0,rs(0)}}function Qp(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ho(i)))}function Rr(){return Yp(),$p(),Kp(),Xp()}function Xp(){if(tt!==5)return!1;var t=$n,i=lu;lu=0;var r=Ml(bn),a=R.T,p=q.p;try{q.p=32>r?32:r,R.T=null,r=au,au=null;var g=$n,S=bn;if(tt=0,ro=$n=null,bn=0,(ke&6)!==0)throw Error(s(331));var x=ke;if(ke|=4,Dp(g.current),Np(g,g.current,S,r),ke=x,rs(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Eo,g)}catch{}return!0}finally{q.p=p,R.T=a,Qp(t,i)}}function Zp(t,i,r){i=qt(r,i),i=Va(t.stateNode,i,2),t=Hn(t,i,2),t!==null&&(Ao(t,2),an(t))}function Ue(t,i,r){if(t.tag===3)Zp(t,t,r);else for(;i!==null;){if(i.tag===3){Zp(i,t,r);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Yn===null||!Yn.has(a))){t=qt(r,t),r=Wd(2),a=Hn(i,r,2),a!==null&&(jd(r,a,i,t),Ao(a,2),an(a));break}}i=i.return}}function du(t,i,r){var a=t.pingCache;if(a===null){a=t.pingCache=new p_;var p=new Set;a.set(i,p)}else p=a.get(i),p===void 0&&(p=new Set,a.set(i,p));p.has(r)||(ou=!0,p.add(r),t=v_.bind(null,t,i,r),i.then(t,t))}function v_(t,i,r){var a=t.pingCache;a!==null&&a.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ge===t&&(Ae&r)===r&&($e===4||$e===3&&(Ae&62914560)===Ae&&300>It()-Tr?(ke&2)===0&&lo(t,0):su|=r,so===Ae&&(so=0)),an(t)}function Wp(t,i){i===0&&(i=Jc()),t=fi(t,i),t!==null&&(Ao(t,i),an(t))}function __(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),Wp(t,r)}function S_(t,i){var r=0;switch(t.tag){case 31:case 13:var a=t.stateNode,p=t.memoizedState;p!==null&&(r=p.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(i),Wp(t,r)}function T_(t,i){return bl(t,i)}var Nr=null,uo=null,pu=!1,Mr=!1,hu=!1,Qn=0;function an(t){t!==uo&&t.next===null&&(uo===null?Nr=uo=t:uo=uo.next=t),Mr=!0,pu||(pu=!0,x_())}function rs(t,i){if(!hu&&Mr){hu=!0;do for(var r=!1,a=Nr;a!==null;){if(t!==0){var p=a.pendingLanes;if(p===0)var g=0;else{var S=a.suspendedLanes,x=a.pingedLanes;g=(1<<31-kt(42|t)+1)-1,g&=p&~(S&~x),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(r=!0,nh(a,g))}else g=Ae,g=ws(a,a===Ge?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(g&3)===0||bo(a,g)||(r=!0,nh(a,g));a=a.next}while(r);hu=!1}}function C_(){jp()}function jp(){Mr=pu=!1;var t=0;Qn!==0&&w_()&&(t=Qn);for(var i=It(),r=null,a=Nr;a!==null;){var p=a.next,g=eh(a,i);g===0?(a.next=null,r===null?Nr=p:r.next=p,p===null&&(uo=r)):(r=a,(t!==0||(g&3)!==0)&&(Mr=!0)),a=p}tt!==0&&tt!==5||rs(t),Qn!==0&&(Qn=0)}function eh(t,i){for(var r=t.suspendedLanes,a=t.pingedLanes,p=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var S=31-kt(g),x=1<<S,b=p[S];b===-1?((x&r)===0||(x&a)!==0)&&(p[S]=Qy(x,i)):b<=i&&(t.expiredLanes|=x),g&=~x}if(i=Ge,r=Ae,r=ws(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,r===0||t===i&&(we===2||we===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&Al(a),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||bo(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(a!==null&&Al(a),Ml(r)){case 2:case 8:r=qc;break;case 32:r=Ms;break;case 268435456:r=Fc;break;default:r=Ms}return a=th.bind(null,t),r=bl(r,a),t.callbackPriority=i,t.callbackNode=r,i}return a!==null&&a!==null&&Al(a),t.callbackPriority=2,t.callbackNode=null,2}function th(t,i){if(tt!==0&&tt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Rr()&&t.callbackNode!==r)return null;var a=Ae;return a=ws(t,t===Ge?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(Pp(t,a,i),eh(t,It()),t.callbackNode!=null&&t.callbackNode===r?th.bind(null,t):null)}function nh(t,i){if(Rr())return null;Pp(t,i,!0)}function x_(){L_(function(){(ke&6)!==0?bl(Bc,C_):jp()})}function mu(){if(Qn===0){var t=Ki;t===0&&(t=Is,Is<<=1,(Is&261888)===0&&(Is=256)),Qn=t}return Qn}function ih(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Os(""+t)}function oh(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function E_(t,i,r,a,p){if(i==="submit"&&r&&r.stateNode===p){var g=ih((p[Tt]||null).action),S=a.submitter;S&&(i=(i=S[Tt]||null)?ih(i.formAction):S.getAttribute("formAction"),i!==null&&(g=i,S=null));var x=new Vs("action","action",null,a,p);t.push({event:x,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Qn!==0){var b=S?oh(p,S):new FormData(p);La(r,{pending:!0,data:b,method:p.method,action:g},null,b)}}else typeof g=="function"&&(x.preventDefault(),b=S?oh(p,S):new FormData(p),La(r,{pending:!0,data:b,method:p.method,action:g},g,b))},currentTarget:p}]})}}for(var gu=0;gu<Wl.length;gu++){var yu=Wl[gu],b_=yu.toLowerCase(),A_=yu[0].toUpperCase()+yu.slice(1);Wt(b_,"on"+A_)}Wt(Lf,"onAnimationEnd"),Wt(Pf,"onAnimationIteration"),Wt(Of,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(Bv,"onTransitionRun"),Wt(qv,"onTransitionStart"),Wt(Fv,"onTransitionCancel"),Wt(Gf,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ls));function sh(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var a=t[r],p=a.event;a=a.listeners;e:{var g=void 0;if(i)for(var S=a.length-1;0<=S;S--){var x=a[S],b=x.instance,w=x.currentTarget;if(x=x.listener,b!==g&&p.isPropagationStopped())break e;g=x,p.currentTarget=w;try{g(p)}catch(H){Fs(H)}p.currentTarget=null,g=b}else for(S=0;S<a.length;S++){if(x=a[S],b=x.instance,w=x.currentTarget,x=x.listener,b!==g&&p.isPropagationStopped())break e;g=x,p.currentTarget=w;try{g(p)}catch(H){Fs(H)}p.currentTarget=null,g=b}}}}function Ee(t,i){var r=i[Il];r===void 0&&(r=i[Il]=new Set);var a=t+"__bubble";r.has(a)||(rh(i,t,2,!1),r.add(a))}function vu(t,i,r){var a=0;i&&(a|=4),rh(r,t,a,i)}var Ir="_reactListening"+Math.random().toString(36).slice(2);function _u(t){if(!t[Ir]){t[Ir]=!0,Wc.forEach(function(r){r!=="selectionchange"&&(R_.has(r)||vu(r,!1,t),vu(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ir]||(i[Ir]=!0,vu("selectionchange",!1,i))}}function rh(t,i,r,a){switch(Lh(i)){case 2:var p=tS;break;case 8:p=nS;break;default:p=Uu}r=p.bind(null,i,r,t),p=void 0,!zl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),a?p!==void 0?t.addEventListener(i,r,{capture:!0,passive:p}):t.addEventListener(i,r,!0):p!==void 0?t.addEventListener(i,r,{passive:p}):t.addEventListener(i,r,!1)}function Su(t,i,r,a,p){var g=a;if((i&1)===0&&(i&2)===0&&a!==null)e:for(;;){if(a===null)return;var S=a.tag;if(S===3||S===4){var x=a.stateNode.containerInfo;if(x===p)break;if(S===4)for(S=a.return;S!==null;){var b=S.tag;if((b===3||b===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;x!==null;){if(S=Di(x),S===null)return;if(b=S.tag,b===5||b===6||b===26||b===27){a=g=S;continue e}x=x.parentNode}}a=a.return}ff(function(){var w=g,H=Ol(r),B=[];e:{var U=zf.get(t);if(U!==void 0){var O=Vs,re=t;switch(t){case"keypress":if(zs(r)===0)break e;case"keydown":case"keyup":O=Sv;break;case"focusin":re="focus",O=ql;break;case"focusout":re="blur",O=ql;break;case"beforeblur":case"afterblur":O=ql;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=hf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=av;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=xv;break;case Lf:case Pf:case Of:O=fv;break;case Gf:O=bv;break;case"scroll":case"scrollend":O=rv;break;case"wheel":O=Rv;break;case"copy":case"cut":case"paste":O=pv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=gf;break;case"toggle":case"beforetoggle":O=Mv}var me=(i&4)!==0,Oe=!me&&(t==="scroll"||t==="scrollend"),I=me?U!==null?U+"Capture":null:U;me=[];for(var N=w,k;N!==null;){var V=N;if(k=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||k===null||I===null||(V=Mo(N,I),V!=null&&me.push(as(N,V,k))),Oe)break;N=N.return}0<me.length&&(U=new O(U,re,null,r,H),B.push({event:U,listeners:me}))}}if((i&7)===0){e:{if(U=t==="mouseover"||t==="pointerover",O=t==="mouseout"||t==="pointerout",U&&r!==Pl&&(re=r.relatedTarget||r.fromElement)&&(Di(re)||re[Ii]))break e;if((O||U)&&(U=H.window===H?H:(U=H.ownerDocument)?U.defaultView||U.parentWindow:window,O?(re=r.relatedTarget||r.toElement,O=w,re=re?Di(re):null,re!==null&&(Oe=u(re),me=re.tag,re!==Oe||me!==5&&me!==27&&me!==6)&&(re=null)):(O=null,re=w),O!==re)){if(me=hf,V="onMouseLeave",I="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(me=gf,V="onPointerLeave",I="onPointerEnter",N="pointer"),Oe=O==null?U:No(O),k=re==null?U:No(re),U=new me(V,N+"leave",O,r,H),U.target=Oe,U.relatedTarget=k,V=null,Di(H)===w&&(me=new me(I,N+"enter",re,r,H),me.target=k,me.relatedTarget=Oe,V=me),Oe=V,O&&re)t:{for(me=N_,I=O,N=re,k=0,V=I;V;V=me(V))k++;V=0;for(var de=N;de;de=me(de))V++;for(;0<k-V;)I=me(I),k--;for(;0<V-k;)N=me(N),V--;for(;k--;){if(I===N||N!==null&&I===N.alternate){me=I;break t}I=me(I),N=me(N)}me=null}else me=null;O!==null&&lh(B,U,O,me,!1),re!==null&&Oe!==null&&lh(B,Oe,re,me,!0)}}e:{if(U=w?No(w):window,O=U.nodeName&&U.nodeName.toLowerCase(),O==="select"||O==="input"&&U.type==="file")var Me=Ef;else if(Cf(U))if(bf)Me=zv;else{Me=Ov;var ue=Pv}else O=U.nodeName,!O||O.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?w&&Ll(w.elementType)&&(Me=Ef):Me=Gv;if(Me&&(Me=Me(t,w))){xf(B,Me,r,H);break e}ue&&ue(t,U,w),t==="focusout"&&w&&U.type==="number"&&w.memoizedProps.value!=null&&Ul(U,"number",U.value)}switch(ue=w?No(w):window,t){case"focusin":(Cf(ue)||ue.contentEditable==="true")&&(Hi=ue,Ql=w,Oo=null);break;case"focusout":Oo=Ql=Hi=null;break;case"mousedown":Xl=!0;break;case"contextmenu":case"mouseup":case"dragend":Xl=!1,wf(B,r,H);break;case"selectionchange":if(Vv)break;case"keydown":case"keyup":wf(B,r,H)}var Ce;if(Jl)e:{switch(t){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else zi?Sf(t,r)&&(Re="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Re="onCompositionStart");Re&&(yf&&r.locale!=="ko"&&(zi||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&zi&&(Ce=df()):(wn=H,Hl="value"in wn?wn.value:wn.textContent,zi=!0)),ue=Dr(w,Re),0<ue.length&&(Re=new mf(Re,t,null,r,H),B.push({event:Re,listeners:ue}),Ce?Re.data=Ce:(Ce=Tf(r),Ce!==null&&(Re.data=Ce)))),(Ce=Dv?kv(t,r):wv(t,r))&&(Re=Dr(w,"onBeforeInput"),0<Re.length&&(ue=new mf("onBeforeInput","beforeinput",null,r,H),B.push({event:ue,listeners:Re}),ue.data=Ce)),E_(B,t,w,r,H)}sh(B,i)})}function as(t,i,r){return{instance:t,listener:i,currentTarget:r}}function Dr(t,i){for(var r=i+"Capture",a=[];t!==null;){var p=t,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Mo(t,r),p!=null&&a.unshift(as(t,p,g)),p=Mo(t,i),p!=null&&a.push(as(t,p,g))),t.tag===3)return a;t=t.return}return[]}function N_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function lh(t,i,r,a,p){for(var g=i._reactName,S=[];r!==null&&r!==a;){var x=r,b=x.alternate,w=x.stateNode;if(x=x.tag,b!==null&&b===a)break;x!==5&&x!==26&&x!==27||w===null||(b=w,p?(w=Mo(r,g),w!=null&&S.unshift(as(r,w,b))):p||(w=Mo(r,g),w!=null&&S.push(as(r,w,b)))),r=r.return}S.length!==0&&t.push({event:i,listeners:S})}var M_=/\r\n?/g,I_=/\u0000|\uFFFD/g;function ah(t){return(typeof t=="string"?t:""+t).replace(M_,`
`).replace(I_,"")}function uh(t,i){return i=ah(i),ah(t)===i}function Pe(t,i,r,a,p,g){switch(r){case"children":typeof a=="string"?i==="body"||i==="textarea"&&a===""||Pi(t,a):(typeof a=="number"||typeof a=="bigint")&&i!=="body"&&Pi(t,""+a);break;case"className":Ls(t,"class",a);break;case"tabIndex":Ls(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ls(t,r,a);break;case"style":uf(t,a,g);break;case"data":if(i!=="object"){Ls(t,"data",a);break}case"src":case"href":if(a===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(r);break}a=Os(""+a),t.setAttribute(r,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(i!=="input"&&Pe(t,i,"name",p.name,p,null),Pe(t,i,"formEncType",p.formEncType,p,null),Pe(t,i,"formMethod",p.formMethod,p,null),Pe(t,i,"formTarget",p.formTarget,p,null)):(Pe(t,i,"encType",p.encType,p,null),Pe(t,i,"method",p.method,p,null),Pe(t,i,"target",p.target,p,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(r);break}a=Os(""+a),t.setAttribute(r,a);break;case"onClick":a!=null&&(t.onclick=cn);break;case"onScroll":a!=null&&Ee("scroll",t);break;case"onScrollEnd":a!=null&&Ee("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(r=a.__html,r!=null){if(p.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}r=Os(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(r,""+a):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":a===!0?t.setAttribute(r,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(r,a):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(r,a):t.removeAttribute(r);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(r):t.setAttribute(r,a);break;case"popover":Ee("beforetoggle",t),Ee("toggle",t),Us(t,"popover",a);break;case"xlinkActuate":un(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":un(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":un(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":un(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":un(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":un(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":un(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":un(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":un(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Us(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=ov.get(r)||r,Us(t,r,a))}}function Tu(t,i,r,a,p,g){switch(r){case"style":uf(t,a,g);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(r=a.__html,r!=null){if(p.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof a=="string"?Pi(t,a):(typeof a=="number"||typeof a=="bigint")&&Pi(t,""+a);break;case"onScroll":a!=null&&Ee("scroll",t);break;case"onScrollEnd":a!=null&&Ee("scrollend",t);break;case"onClick":a!=null&&(t.onclick=cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jc.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(p=r.endsWith("Capture"),i=r.slice(2,p?r.length-7:void 0),g=t[Tt]||null,g=g!=null?g[r]:null,typeof g=="function"&&t.removeEventListener(i,g,p),typeof a=="function")){typeof g!="function"&&g!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,a,p);break e}r in t?t[r]=a:a===!0?t.setAttribute(r,""):Us(t,r,a)}}}function ct(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",t),Ee("load",t);var a=!1,p=!1,g;for(g in r)if(r.hasOwnProperty(g)){var S=r[g];if(S!=null)switch(g){case"src":a=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Pe(t,i,g,S,r,null)}}p&&Pe(t,i,"srcSet",r.srcSet,r,null),a&&Pe(t,i,"src",r.src,r,null);return;case"input":Ee("invalid",t);var x=g=S=p=null,b=null,w=null;for(a in r)if(r.hasOwnProperty(a)){var H=r[a];if(H!=null)switch(a){case"name":p=H;break;case"type":S=H;break;case"checked":b=H;break;case"defaultChecked":w=H;break;case"value":g=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Pe(t,i,a,H,r,null)}}sf(t,g,x,b,w,S,p,!1);return;case"select":Ee("invalid",t),a=S=g=null;for(p in r)if(r.hasOwnProperty(p)&&(x=r[p],x!=null))switch(p){case"value":g=x;break;case"defaultValue":S=x;break;case"multiple":a=x;default:Pe(t,i,p,x,r,null)}i=g,r=S,t.multiple=!!a,i!=null?Li(t,!!a,i,!1):r!=null&&Li(t,!!a,r,!0);return;case"textarea":Ee("invalid",t),g=p=a=null;for(S in r)if(r.hasOwnProperty(S)&&(x=r[S],x!=null))switch(S){case"value":a=x;break;case"defaultValue":p=x;break;case"children":g=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:Pe(t,i,S,x,r,null)}lf(t,a,p,g);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(a=r[b],a!=null))switch(b){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Pe(t,i,b,a,r,null)}return;case"dialog":Ee("beforetoggle",t),Ee("toggle",t),Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":Ee("load",t);break;case"video":case"audio":for(a=0;a<ls.length;a++)Ee(ls[a],t);break;case"image":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"embed":case"source":case"link":Ee("error",t),Ee("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in r)if(r.hasOwnProperty(w)&&(a=r[w],a!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Pe(t,i,w,a,r,null)}return;default:if(Ll(i)){for(H in r)r.hasOwnProperty(H)&&(a=r[H],a!==void 0&&Tu(t,i,H,a,r,void 0));return}}for(x in r)r.hasOwnProperty(x)&&(a=r[x],a!=null&&Pe(t,i,x,a,r,null))}function D_(t,i,r,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,S=null,x=null,b=null,w=null,H=null;for(O in r){var B=r[O];if(r.hasOwnProperty(O)&&B!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":b=B;default:a.hasOwnProperty(O)||Pe(t,i,O,null,a,B)}}for(var U in a){var O=a[U];if(B=r[U],a.hasOwnProperty(U)&&(O!=null||B!=null))switch(U){case"type":g=O;break;case"name":p=O;break;case"checked":w=O;break;case"defaultChecked":H=O;break;case"value":S=O;break;case"defaultValue":x=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,i));break;default:O!==B&&Pe(t,i,U,O,a,B)}}wl(t,S,x,b,w,H,g,p);return;case"select":O=S=x=U=null;for(g in r)if(b=r[g],r.hasOwnProperty(g)&&b!=null)switch(g){case"value":break;case"multiple":O=b;default:a.hasOwnProperty(g)||Pe(t,i,g,null,a,b)}for(p in a)if(g=a[p],b=r[p],a.hasOwnProperty(p)&&(g!=null||b!=null))switch(p){case"value":U=g;break;case"defaultValue":x=g;break;case"multiple":S=g;default:g!==b&&Pe(t,i,p,g,a,b)}i=x,r=S,a=O,U!=null?Li(t,!!r,U,!1):!!a!=!!r&&(i!=null?Li(t,!!r,i,!0):Li(t,!!r,r?[]:"",!1));return;case"textarea":O=U=null;for(x in r)if(p=r[x],r.hasOwnProperty(x)&&p!=null&&!a.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Pe(t,i,x,null,a,p)}for(S in a)if(p=a[S],g=r[S],a.hasOwnProperty(S)&&(p!=null||g!=null))switch(S){case"value":U=p;break;case"defaultValue":O=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==g&&Pe(t,i,S,p,a,g)}rf(t,U,O);return;case"option":for(var re in r)if(U=r[re],r.hasOwnProperty(re)&&U!=null&&!a.hasOwnProperty(re))switch(re){case"selected":t.selected=!1;break;default:Pe(t,i,re,null,a,U)}for(b in a)if(U=a[b],O=r[b],a.hasOwnProperty(b)&&U!==O&&(U!=null||O!=null))switch(b){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Pe(t,i,b,U,a,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in r)U=r[me],r.hasOwnProperty(me)&&U!=null&&!a.hasOwnProperty(me)&&Pe(t,i,me,null,a,U);for(w in a)if(U=a[w],O=r[w],a.hasOwnProperty(w)&&U!==O&&(U!=null||O!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,i));break;default:Pe(t,i,w,U,a,O)}return;default:if(Ll(i)){for(var Oe in r)U=r[Oe],r.hasOwnProperty(Oe)&&U!==void 0&&!a.hasOwnProperty(Oe)&&Tu(t,i,Oe,void 0,a,U);for(H in a)U=a[H],O=r[H],!a.hasOwnProperty(H)||U===O||U===void 0&&O===void 0||Tu(t,i,H,U,a,O);return}}for(var I in r)U=r[I],r.hasOwnProperty(I)&&U!=null&&!a.hasOwnProperty(I)&&Pe(t,i,I,null,a,U);for(B in a)U=a[B],O=r[B],!a.hasOwnProperty(B)||U===O||U==null&&O==null||Pe(t,i,B,U,a,O)}function ch(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function k_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,r=performance.getEntriesByType("resource"),a=0;a<r.length;a++){var p=r[a],g=p.transferSize,S=p.initiatorType,x=p.duration;if(g&&x&&ch(S)){for(S=0,x=p.responseEnd,a+=1;a<r.length;a++){var b=r[a],w=b.startTime;if(w>x)break;var H=b.transferSize,B=b.initiatorType;H&&ch(B)&&(b=b.responseEnd,S+=H*(b<x?1:(x-w)/(b-w)))}if(--a,i+=8*(g+S)/(p.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Cu=null,xu=null;function kr(t){return t.nodeType===9?t:t.ownerDocument}function fh(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dh(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Eu(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var bu=null;function w_(){var t=window.event;return t&&t.type==="popstate"?t===bu?!1:(bu=t,!0):(bu=null,!1)}var ph=typeof setTimeout=="function"?setTimeout:void 0,U_=typeof clearTimeout=="function"?clearTimeout:void 0,hh=typeof Promise=="function"?Promise:void 0,L_=typeof queueMicrotask=="function"?queueMicrotask:typeof hh<"u"?function(t){return hh.resolve(null).then(t).catch(P_)}:ph;function P_(t){setTimeout(function(){throw t})}function Xn(t){return t==="head"}function mh(t,i){var r=i,a=0;do{var p=r.nextSibling;if(t.removeChild(r),p&&p.nodeType===8)if(r=p.data,r==="/$"||r==="/&"){if(a===0){t.removeChild(p),ho(i);return}a--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")a++;else if(r==="html")us(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,us(r);for(var g=r.firstChild;g;){var S=g.nextSibling,x=g.nodeName;g[Ro]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=S}}else r==="body"&&us(t.ownerDocument.body);r=p}while(r);ho(i)}function gh(t,i){var r=t;t=0;do{var a=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=a}while(r)}function Au(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Au(r),Dl(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function O_(t,i,r,a){for(;t.nodeType===1;){var p=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Ro])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=Kt(t.nextSibling),t===null)break}return null}function G_(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Kt(t.nextSibling),t===null))return null;return t}function yh(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Kt(t.nextSibling),t===null))return null;return t}function Ru(t){return t.data==="$?"||t.data==="$~"}function Nu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function z_(t,i){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||r.readyState!=="loading")i();else{var a=function(){i(),r.removeEventListener("DOMContentLoaded",a)};r.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Kt(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Mu=null;function vh(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(i===0)return Kt(t.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}t=t.nextSibling}return null}function _h(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return t;i--}else r!=="/$"&&r!=="/&"||i++}t=t.previousSibling}return null}function Sh(t,i,r){switch(i=kr(r),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function us(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Dl(t)}var Qt=new Map,Th=new Set;function wr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var An=q.d;q.d={f:H_,r:V_,D:B_,C:q_,L:F_,m:J_,X:$_,S:Y_,M:K_};function H_(){var t=An.f(),i=Er();return t||i}function V_(t){var i=ki(t);i!==null&&i.tag===5&&i.type==="form"?Gd(i):An.r(t)}var co=typeof document>"u"?null:document;function Ch(t,i,r){var a=co;if(a&&typeof i=="string"&&i){var p=Vt(i);p='link[rel="'+t+'"][href="'+p+'"]',typeof r=="string"&&(p+='[crossorigin="'+r+'"]'),Th.has(p)||(Th.add(p),t={rel:t,crossOrigin:r,href:i},a.querySelector(p)===null&&(i=a.createElement("link"),ct(i,"link",t),nt(i),a.head.appendChild(i)))}}function B_(t){An.D(t),Ch("dns-prefetch",t,null)}function q_(t,i){An.C(t,i),Ch("preconnect",t,i)}function F_(t,i,r){An.L(t,i,r);var a=co;if(a&&t&&i){var p='link[rel="preload"][as="'+Vt(i)+'"]';i==="image"&&r&&r.imageSrcSet?(p+='[imagesrcset="'+Vt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(p+='[imagesizes="'+Vt(r.imageSizes)+'"]')):p+='[href="'+Vt(t)+'"]';var g=p;switch(i){case"style":g=fo(t);break;case"script":g=po(t)}Qt.has(g)||(t=_({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),Qt.set(g,t),a.querySelector(p)!==null||i==="style"&&a.querySelector(cs(g))||i==="script"&&a.querySelector(fs(g))||(i=a.createElement("link"),ct(i,"link",t),nt(i),a.head.appendChild(i)))}}function J_(t,i){An.m(t,i);var r=co;if(r&&t){var a=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Vt(a)+'"][href="'+Vt(t)+'"]',g=p;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=po(t)}if(!Qt.has(g)&&(t=_({rel:"modulepreload",href:t},i),Qt.set(g,t),r.querySelector(p)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(fs(g)))return}a=r.createElement("link"),ct(a,"link",t),nt(a),r.head.appendChild(a)}}}function Y_(t,i,r){An.S(t,i,r);var a=co;if(a&&t){var p=wi(a).hoistableStyles,g=fo(t);i=i||"default";var S=p.get(g);if(!S){var x={loading:0,preload:null};if(S=a.querySelector(cs(g)))x.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":i},r),(r=Qt.get(g))&&Iu(t,r);var b=S=a.createElement("link");nt(b),ct(b,"link",t),b._p=new Promise(function(w,H){b.onload=w,b.onerror=H}),b.addEventListener("load",function(){x.loading|=1}),b.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Ur(S,i,a)}S={type:"stylesheet",instance:S,count:1,state:x},p.set(g,S)}}}function $_(t,i){An.X(t,i);var r=co;if(r&&t){var a=wi(r).hoistableScripts,p=po(t),g=a.get(p);g||(g=r.querySelector(fs(p)),g||(t=_({src:t,async:!0},i),(i=Qt.get(p))&&Du(t,i),g=r.createElement("script"),nt(g),ct(g,"link",t),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},a.set(p,g))}}function K_(t,i){An.M(t,i);var r=co;if(r&&t){var a=wi(r).hoistableScripts,p=po(t),g=a.get(p);g||(g=r.querySelector(fs(p)),g||(t=_({src:t,async:!0,type:"module"},i),(i=Qt.get(p))&&Du(t,i),g=r.createElement("script"),nt(g),ct(g,"link",t),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},a.set(p,g))}}function xh(t,i,r,a){var p=(p=X.current)?wr(p):null;if(!p)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=fo(r.href),r=wi(p).hoistableStyles,a=r.get(i),a||(a={type:"style",instance:null,count:0,state:null},r.set(i,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=fo(r.href);var g=wi(p).hoistableStyles,S=g.get(t);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,S),(g=p.querySelector(cs(t)))&&!g._p&&(S.instance=g,S.state.loading=5),Qt.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Qt.set(t,r),g||Q_(p,t,r,S.state))),i&&a===null)throw Error(s(528,""));return S}if(i&&a!==null)throw Error(s(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=po(r),r=wi(p).hoistableScripts,a=r.get(i),a||(a={type:"script",instance:null,count:0,state:null},r.set(i,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function fo(t){return'href="'+Vt(t)+'"'}function cs(t){return'link[rel="stylesheet"]['+t+"]"}function Eh(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function Q_(t,i,r,a){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?a.loading=1:(i=t.createElement("link"),a.preload=i,i.addEventListener("load",function(){return a.loading|=1}),i.addEventListener("error",function(){return a.loading|=2}),ct(i,"link",r),nt(i),t.head.appendChild(i))}function po(t){return'[src="'+Vt(t)+'"]'}function fs(t){return"script[async]"+t}function bh(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var a=t.querySelector('style[data-href~="'+Vt(r.href)+'"]');if(a)return i.instance=a,nt(a),a;var p=_({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),nt(a),ct(a,"style",p),Ur(a,r.precedence,t),i.instance=a;case"stylesheet":p=fo(r.href);var g=t.querySelector(cs(p));if(g)return i.state.loading|=4,i.instance=g,nt(g),g;a=Eh(r),(p=Qt.get(p))&&Iu(a,p),g=(t.ownerDocument||t).createElement("link"),nt(g);var S=g;return S._p=new Promise(function(x,b){S.onload=x,S.onerror=b}),ct(g,"link",a),i.state.loading|=4,Ur(g,r.precedence,t),i.instance=g;case"script":return g=po(r.src),(p=t.querySelector(fs(g)))?(i.instance=p,nt(p),p):(a=r,(p=Qt.get(g))&&(a=_({},r),Du(a,p)),t=t.ownerDocument||t,p=t.createElement("script"),nt(p),ct(p,"link",a),t.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(a=i.instance,i.state.loading|=4,Ur(a,r.precedence,t));return i.instance}function Ur(t,i,r){for(var a=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=a.length?a[a.length-1]:null,g=p,S=0;S<a.length;S++){var x=a[S];if(x.dataset.precedence===i)g=x;else if(g!==p)break}g?g.parentNode.insertBefore(t,g.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function Iu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Du(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Lr=null;function Ah(t,i,r){if(Lr===null){var a=new Map,p=Lr=new Map;p.set(r,a)}else p=Lr,a=p.get(r),a||(a=new Map,p.set(r,a));if(a.has(t))return a;for(a.set(t,null),r=r.getElementsByTagName(t),p=0;p<r.length;p++){var g=r[p];if(!(g[Ro]||g[rt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(i)||"";S=t+S;var x=a.get(S);x?x.push(g):a.set(S,[g])}}return a}function Rh(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function X_(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Nh(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Z_(t,i,r,a){if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=fo(a.href),g=i.querySelector(cs(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Pr.bind(t),i.then(t,t)),r.state.loading|=4,r.instance=g,nt(g);return}g=i.ownerDocument||i,a=Eh(a),(p=Qt.get(p))&&Iu(a,p),g=g.createElement("link"),nt(g);var S=g;S._p=new Promise(function(x,b){S.onload=x,S.onerror=b}),ct(g,"link",a),r.instance=g}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Pr.bind(t),i.addEventListener("load",r),i.addEventListener("error",r))}}var ku=0;function W_(t,i){return t.stylesheets&&t.count===0&&Gr(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var a=setTimeout(function(){if(t.stylesheets&&Gr(t,t.stylesheets),t.unsuspend){var g=t.unsuspend;t.unsuspend=null,g()}},6e4+i);0<t.imgBytes&&ku===0&&(ku=62500*k_());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Gr(t,t.stylesheets),t.unsuspend)){var g=t.unsuspend;t.unsuspend=null,g()}},(t.imgBytes>ku?50:800)+i);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(p)}}:null}function Pr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Or=null;function Gr(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Or=new Map,i.forEach(j_,t),Or=null,Pr.call(t))}function j_(t,i){if(!(i.state.loading&4)){var r=Or.get(t);if(r)var a=r.get(null);else{r=new Map,Or.set(t,r);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var S=p[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(r.set(S.dataset.precedence,S),a=S)}a&&r.set(null,a)}p=i.instance,S=p.getAttribute("data-precedence"),g=r.get(S)||a,g===a&&r.set(null,p),r.set(S,p),this.count++,a=Pr.bind(this),p.addEventListener("load",a),p.addEventListener("error",a),g?g.parentNode.insertBefore(p,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),i.state.loading|=4}}var ds={$$typeof:$,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function eS(t,i,r,a,p,g,S,x,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rl(0),this.hiddenUpdates=Rl(null),this.identifierPrefix=a,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Mh(t,i,r,a,p,g,S,x,b,w,H,B){return t=new eS(t,i,r,S,b,w,H,B,x),i=1,g===!0&&(i|=24),g=Ut(3,null,null,i),t.current=g,g.stateNode=t,i=fa(),i.refCount++,t.pooledCache=i,i.refCount++,g.memoizedState={element:a,isDehydrated:r,cache:i},ma(g),t}function Ih(t){return t?(t=qi,t):qi}function Dh(t,i,r,a,p,g){p=Ih(p),a.context===null?a.context=p:a.pendingContext=p,a=zn(i),a.payload={element:r},g=g===void 0?null:g,g!==null&&(a.callback=g),r=Hn(t,a,i),r!==null&&(Rt(r,t,i),Fo(r,t,i))}function kh(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function wu(t,i){kh(t,i),(t=t.alternate)&&kh(t,i)}function wh(t){if(t.tag===13||t.tag===31){var i=fi(t,67108864);i!==null&&Rt(i,t,67108864),wu(t,67108864)}}function Uh(t){if(t.tag===13||t.tag===31){var i=zt();i=Nl(i);var r=fi(t,i);r!==null&&Rt(r,t,i),wu(t,i)}}var zr=!0;function tS(t,i,r,a){var p=R.T;R.T=null;var g=q.p;try{q.p=2,Uu(t,i,r,a)}finally{q.p=g,R.T=p}}function nS(t,i,r,a){var p=R.T;R.T=null;var g=q.p;try{q.p=8,Uu(t,i,r,a)}finally{q.p=g,R.T=p}}function Uu(t,i,r,a){if(zr){var p=Lu(a);if(p===null)Su(t,i,a,Hr,r),Ph(t,a);else if(oS(p,t,i,r,a))a.stopPropagation();else if(Ph(t,a),i&4&&-1<iS.indexOf(t)){for(;p!==null;){var g=ki(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=ri(g.pendingLanes);if(S!==0){var x=g;for(x.pendingLanes|=2,x.entangledLanes|=2;S;){var b=1<<31-kt(S);x.entanglements[1]|=b,S&=~b}an(g),(ke&6)===0&&(Cr=It()+500,rs(0))}}break;case 31:case 13:x=fi(g,2),x!==null&&Rt(x,g,2),Er(),wu(g,2)}if(g=Lu(a),g===null&&Su(t,i,a,Hr,r),g===p)break;p=g}p!==null&&a.stopPropagation()}else Su(t,i,a,null,r)}}function Lu(t){return t=Ol(t),Pu(t)}var Hr=null;function Pu(t){if(Hr=null,t=Di(t),t!==null){var i=u(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=d(i),t!==null)return t;t=null}else if(r===31){if(t=h(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Hr=t,null}function Lh(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(By()){case Bc:return 2;case qc:return 8;case Ms:case qy:return 32;case Fc:return 268435456;default:return 32}default:return 32}}var Ou=!1,Zn=null,Wn=null,jn=null,ps=new Map,hs=new Map,ei=[],iS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ph(t,i){switch(t){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":ps.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":hs.delete(i.pointerId)}}function ms(t,i,r,a,p,g){return t===null||t.nativeEvent!==g?(t={blockedOn:i,domEventName:r,eventSystemFlags:a,nativeEvent:g,targetContainers:[p]},i!==null&&(i=ki(i),i!==null&&wh(i)),t):(t.eventSystemFlags|=a,i=t.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),t)}function oS(t,i,r,a,p){switch(i){case"focusin":return Zn=ms(Zn,t,i,r,a,p),!0;case"dragenter":return Wn=ms(Wn,t,i,r,a,p),!0;case"mouseover":return jn=ms(jn,t,i,r,a,p),!0;case"pointerover":var g=p.pointerId;return ps.set(g,ms(ps.get(g)||null,t,i,r,a,p)),!0;case"gotpointercapture":return g=p.pointerId,hs.set(g,ms(hs.get(g)||null,t,i,r,a,p)),!0}return!1}function Oh(t){var i=Di(t.target);if(i!==null){var r=u(i);if(r!==null){if(i=r.tag,i===13){if(i=d(r),i!==null){t.blockedOn=i,Xc(t.priority,function(){Uh(r)});return}}else if(i===31){if(i=h(r),i!==null){t.blockedOn=i,Xc(t.priority,function(){Uh(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vr(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=Lu(t.nativeEvent);if(r===null){r=t.nativeEvent;var a=new r.constructor(r.type,r);Pl=a,r.target.dispatchEvent(a),Pl=null}else return i=ki(r),i!==null&&wh(i),t.blockedOn=r,!1;i.shift()}return!0}function Gh(t,i,r){Vr(t)&&r.delete(i)}function sS(){Ou=!1,Zn!==null&&Vr(Zn)&&(Zn=null),Wn!==null&&Vr(Wn)&&(Wn=null),jn!==null&&Vr(jn)&&(jn=null),ps.forEach(Gh),hs.forEach(Gh)}function Br(t,i){t.blockedOn===i&&(t.blockedOn=null,Ou||(Ou=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,sS)))}var qr=null;function zh(t){qr!==t&&(qr=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){qr===t&&(qr=null);for(var i=0;i<t.length;i+=3){var r=t[i],a=t[i+1],p=t[i+2];if(typeof a!="function"){if(Pu(a||r)===null)continue;break}var g=ki(r);g!==null&&(t.splice(i,3),i-=3,La(g,{pending:!0,data:p,method:r.method,action:a},a,p))}}))}function ho(t){function i(b){return Br(b,t)}Zn!==null&&Br(Zn,t),Wn!==null&&Br(Wn,t),jn!==null&&Br(jn,t),ps.forEach(i),hs.forEach(i);for(var r=0;r<ei.length;r++){var a=ei[r];a.blockedOn===t&&(a.blockedOn=null)}for(;0<ei.length&&(r=ei[0],r.blockedOn===null);)Oh(r),r.blockedOn===null&&ei.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(a=0;a<r.length;a+=3){var p=r[a],g=r[a+1],S=p[Tt]||null;if(typeof g=="function")S||zh(r);else if(S){var x=null;if(g&&g.hasAttribute("formAction")){if(p=g,S=g[Tt]||null)x=S.formAction;else if(Pu(p)!==null)continue}else x=S.action;typeof x=="function"?r[a+1]=x:(r.splice(a,3),a-=3),zh(r)}}}function Hh(){function t(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(S){return p=S})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),a||setTimeout(r,20)}function r(){if(!a&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function Gu(t){this._internalRoot=t}Fr.prototype.render=Gu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var r=i.current,a=zt();Dh(r,a,t,i,null,null)},Fr.prototype.unmount=Gu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Dh(t.current,2,null,t,null,null),Er(),i[Ii]=null}};function Fr(t){this._internalRoot=t}Fr.prototype.unstable_scheduleHydration=function(t){if(t){var i=Qc();t={blockedOn:null,target:t,priority:i};for(var r=0;r<ei.length&&i!==0&&i<ei[r].priority;r++);ei.splice(r,0,t),r===0&&Oh(t)}};var Vh=e.version;if(Vh!=="19.2.3")throw Error(s(527,Vh,"19.2.3"));q.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var rS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jr.isDisabled&&Jr.supportsFiber)try{Eo=Jr.inject(rS),Dt=Jr}catch{}}return vs.createRoot=function(t,i){if(!l(t))throw Error(s(299));var r=!1,a="",p=Kd,g=Qd,S=Xd;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),i=Mh(t,1,!1,null,null,r,a,null,p,g,S,Hh),t[Ii]=i.current,_u(t),new Gu(i)},vs.hydrateRoot=function(t,i,r){if(!l(t))throw Error(s(299));var a=!1,p="",g=Kd,S=Qd,x=Xd,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(p=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(S=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.formState!==void 0&&(b=r.formState)),i=Mh(t,1,!0,i,r??null,a,p,b,g,S,x,Hh),i.context=Ih(null),r=i.current,a=zt(),a=Nl(a),p=zn(a),p.callback=null,Hn(r,p,a),r=a,i.current.lanes=r,Ao(i,r),an(i),t[Ii]=i.current,_u(t),new Fr(i)},vs.version="19.2.3",vs}var Zh;function vS(){if(Zh)return Hu.exports;Zh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hu.exports=yS(),Hu.exports}var _S=vS();const SS=Z0(_S);var oe=bc();/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CS=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,o,s)=>s?s.toUpperCase():o.toLowerCase()),Wh=n=>{const e=CS(n);return e.charAt(0).toUpperCase()+e.slice(1)},W0=(...n)=>n.filter((e,o,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===o).join(" ").trim(),xS=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ES={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=oe.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:d,...h},y)=>oe.createElement("svg",{ref:y,...ES,width:e,height:e,stroke:n,strokeWidth:s?Number(o)*24/Number(e):o,className:W0("lucide",l),...!u&&!xS(h)&&{"aria-hidden":"true"},...h},[...d.map(([m,v])=>oe.createElement(m,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(n,e)=>{const o=oe.forwardRef(({className:s,...l},u)=>oe.createElement(bS,{ref:u,iconNode:e,className:W0(`lucide-${TS(Wh(n))}`,`lucide-${n}`,s),...l}));return o.displayName=Wh(n),o};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],RS=Te("arrow-right",AS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],MS=Te("bot",NS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],DS=Te("brain",IS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],wS=Te("chart-pie",kS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],j0=Te("check",US);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],PS=Te("circle-alert",LS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],GS=Te("circle-check",OS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],HS=Te("circle-question-mark",zS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],BS=Te("circle-x",VS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],FS=Te("clock",qS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],YS=Te("cloud-upload",JS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],KS=Te("cloud",$S);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],XS=Te("coins",QS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],eg=Te("copy",ZS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],jS=Te("download",WS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],jh=Te("image",eT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],nT=Te("key",tT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],oT=Te("layout-grid",iT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],tg=Te("link",sT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],sl=Te("loader-circle",rT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],aT=Te("lock",lT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],cT=Te("message-square",uT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],dT=Te("moon",fT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],hT=Te("pencil",pT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ng=Te("play",mT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ig=Te("plus",gT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],em=Te("refresh-cw",yT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_T=Te("save",vT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],TT=Te("send",ST);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xT=Te("settings",CT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],bT=Te("shield-alert",ET);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Cs=Te("sparkles",AT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],NT=Te("sun",RT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Zu=Te("trash-2",MT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ml=Te("trophy",IT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],kT=Te("upload",DT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],UT=Te("users",wT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],PT=Te("wifi-off",LT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],GT=Te("wifi",OT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wu=Te("x",zT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],tm=Te("youtube",HT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],BT=Te("zap",VT),qT=({onHost:n,onJoin:e})=>C.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-6 text-center space-y-16 relative overflow-hidden bg-indigo-50 dark:bg-slate-900 transition-colors duration-500",children:[C.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-indigo-200/50 dark:bg-indigo-600/20 rounded-full blur-[100px] -translate-x-1/2 -translate-y-1/2 animate-pulse"}),C.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-purple-200/50 dark:bg-purple-600/20 rounded-full blur-[100px] translate-x-1/2 translate-y-1/2 animate-pulse [animation-delay:1s]"}),C.jsxs("div",{className:"space-y-6 z-10 animate-pop",children:[C.jsx("div",{className:"inline-flex items-center justify-center p-5 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl mb-4 shadow-lg shadow-indigo-500/20 rotate-3",children:C.jsx(Cs,{className:"w-12 h-12 text-white"})}),C.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter text-slate-900 dark:text-white drop-shadow-sm",children:["Quiz",C.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-purple-500 dark:from-indigo-400 dark:to-cyan-400",children:"Wiz"})]}),C.jsxs("p",{className:"text-slate-600 dark:text-indigo-200 text-xl font-medium max-w-lg mx-auto leading-relaxed",children:["The ultimate real-time multiplayer quiz showdown.",C.jsx("br",{}),"Compete, conquer, and claim the crown!"]})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 w-full max-w-3xl z-10",children:[C.jsxs("button",{onClick:n,className:"group relative flex flex-col items-center p-10 bg-white/60 dark:bg-slate-800/60 backdrop-blur-xl border border-white/50 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 rounded-3xl transition-all duration-300 hover:shadow-xl hover:shadow-indigo-500/10 hover:-translate-y-2 overflow-hidden",children:[C.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 to-purple-600"}),C.jsx("div",{className:"p-5 bg-indigo-50 dark:bg-indigo-500/10 rounded-2xl mb-6 group-hover:bg-indigo-500 group-hover:text-white text-indigo-500 dark:text-indigo-400 transition-colors duration-300",children:C.jsx(ml,{className:"w-10 h-10"})}),C.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-3",children:"Host a Game"}),C.jsx("p",{className:"text-slate-500 dark:text-slate-400 group-hover:text-indigo-600 dark:group-hover:text-indigo-200 transition-colors",children:"Launch a lobby & challenge friends"})]}),C.jsxs("button",{onClick:e,className:"group relative flex flex-col items-center p-10 bg-white/60 dark:bg-slate-800/60 backdrop-blur-xl border border-white/50 dark:border-slate-700 hover:border-emerald-500 dark:hover:border-emerald-500 rounded-3xl transition-all duration-300 hover:shadow-xl hover:shadow-emerald-500/10 hover:-translate-y-2 overflow-hidden",children:[C.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 to-teal-600"}),C.jsx("div",{className:"p-5 bg-emerald-50 dark:bg-emerald-500/10 rounded-2xl mb-6 group-hover:bg-emerald-500 group-hover:text-white text-emerald-500 dark:text-emerald-400 transition-colors duration-300",children:C.jsx(BT,{className:"w-10 h-10"})}),C.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-3",children:"Join a Game"}),C.jsx("p",{className:"text-slate-500 dark:text-slate-400 group-hover:text-emerald-600 dark:group-hover:text-emerald-200 transition-colors",children:"Enter a code & jump into action"})]})]}),C.jsx("div",{className:"z-10 text-slate-400 dark:text-slate-600 text-sm font-bold tracking-widest uppercase",children:"Ready  Set  Quiz"})]});class FT{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const o of this._parts)e.push(o);return JT(e).buffer}}function JT(n){let e=0;for(const l of n)e+=l.byteLength;const o=new Uint8Array(e);let s=0;for(const l of n){const u=new Uint8Array(l.buffer,l.byteOffset,l.byteLength);o.set(u,s),s+=l.byteLength}return o}function og(n){return new YT(n).unpack()}function sg(n){const e=new $T,o=e.pack(n);return o instanceof Promise?o.then(()=>e.getBuffer()):e.getBuffer()}class YT{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let o;if((o=e^160)<=15)return this.unpack_raw(o);if((o=e^176)<=15)return this.unpack_string(o);if((o=e^144)<=15)return this.unpack_array(o);if((o=e^128)<=15)return this.unpack_map(o);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return o=this.unpack_uint16(),this.unpack_string(o);case 217:return o=this.unpack_uint32(),this.unpack_string(o);case 218:return o=this.unpack_uint16(),this.unpack_raw(o);case 219:return o=this.unpack_uint32(),this.unpack_raw(o);case 220:return o=this.unpack_uint16(),this.unpack_array(o);case 221:return o=this.unpack_uint32(),this.unpack_array(o);case 222:return o=this.unpack_uint16(),this.unpack_map(o);case 223:return o=this.unpack_uint32(),this.unpack_map(o)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),o=(e[0]&255)*256+(e[1]&255);return this.index+=2,o}unpack_uint32(){const e=this.read(4),o=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,o}unpack_uint64(){const e=this.read(8),o=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,o}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const o=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,o}unpack_string(e){const o=this.read(e);let s=0,l="",u,d;for(;s<e;)u=o[s],u<160?(d=u,s++):(u^192)<32?(d=(u&31)<<6|o[s+1]&63,s+=2):(u^224)<16?(d=(u&15)<<12|(o[s+1]&63)<<6|o[s+2]&63,s+=3):(d=(u&7)<<18|(o[s+1]&63)<<12|(o[s+2]&63)<<6|o[s+3]&63,s+=4),l+=String.fromCodePoint(d);return this.index+=e,l}unpack_array(e){const o=new Array(e);for(let s=0;s<e;s++)o[s]=this.unpack();return o}unpack_map(e){const o={};for(let s=0;s<e;s++){const l=this.unpack();o[l]=this.unpack()}return o}unpack_float(){const e=this.unpack_uint32(),o=e>>31,s=(e>>23&255)-127,l=e&8388607|8388608;return(o===0?1:-1)*l*2**(s-23)}unpack_double(){const e=this.unpack_uint32(),o=this.unpack_uint32(),s=e>>31,l=(e>>20&2047)-1023,d=(e&1048575|1048576)*2**(l-20)+o*2**(l-52);return(s===0?1:-1)*d}read(e){const o=this.index;if(o+e<=this.length)return this.dataView.subarray(o,o+e);throw new Error("BinaryPackFailure: read index out of range")}}class $T{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const o=e.constructor;if(e instanceof Array){const s=this.pack_array(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const s=e;this.pack_bin(new Uint8Array(s.buffer,s.byteOffset,s.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(s=>{this.pack_bin(new Uint8Array(s)),this._bufferBuilder.flush()});if(o==Object||o.toString().startsWith("class")){const s=this.pack_object(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${o.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const o=e.length;if(o<=15)this.pack_uint8(160+o);else if(o<=65535)this._bufferBuilder.append(218),this.pack_uint16(o);else if(o<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(o);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const o=this._textEncoder.encode(e),s=o.length;if(s<=15)this.pack_uint8(176+s);else if(s<=65535)this._bufferBuilder.append(216),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(s);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(o)}pack_array(e){const o=e.length;if(o<=15)this.pack_uint8(144+o);else if(o<=65535)this._bufferBuilder.append(220),this.pack_uint16(o);else if(o<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(o);else throw new Error("Invalid length");const s=l=>{if(l<o){const u=this.pack(e[l]);return u instanceof Promise?u.then(()=>s(l+1)):s(l+1)}};return s(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let o=0;e<0&&(o=1,e=-e);const s=Math.floor(Math.log(e)/Math.LN2),l=e/2**s-1,u=Math.floor(l*2**52),d=2**32,h=o<<31|s+1023<<20|u/d&1048575,y=u%d;this._bufferBuilder.append(203),this.pack_int32(h),this.pack_int32(y)}pack_object(e){const o=Object.keys(e),s=o.length;if(s<=15)this.pack_uint8(128+s);else if(s<=65535)this._bufferBuilder.append(222),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(s);else throw new Error("Invalid length");const l=u=>{if(u<o.length){const d=o[u];if(e.hasOwnProperty(d)){this.pack(d);const h=this.pack(e[d]);if(h instanceof Promise)return h.then(()=>l(u+1))}return l(u+1)}};return l(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const o=e&4294967295;this._bufferBuilder.append((o&4278190080)>>>24),this._bufferBuilder.append((o&16711680)>>>16),this._bufferBuilder.append((o&65280)>>>8),this._bufferBuilder.append(o&255)}pack_uint64(e){const o=e/4294967296,s=e%2**32;this._bufferBuilder.append((o&4278190080)>>>24),this._bufferBuilder.append((o&16711680)>>>16),this._bufferBuilder.append((o&65280)>>>8),this._bufferBuilder.append(o&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const o=Math.floor(e/4294967296),s=e%2**32;this._bufferBuilder.append((o&4278190080)>>>24),this._bufferBuilder.append((o&16711680)>>>16),this._bufferBuilder.append((o&65280)>>>8),this._bufferBuilder.append(o&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}constructor(){this._bufferBuilder=new FT,this._textEncoder=new TextEncoder}}let rg=!0,lg=!0;function xs(n,e,o){const s=n.match(e);return s&&s.length>=o&&parseFloat(s[o],10)}function Ai(n,e,o){if(!n.RTCPeerConnection)return;const s=n.RTCPeerConnection.prototype,l=s.addEventListener;s.addEventListener=function(d,h){if(d!==e)return l.apply(this,arguments);const y=m=>{const v=o(m);v&&(h.handleEvent?h.handleEvent(v):h(v))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(h,y),l.apply(this,[d,y])};const u=s.removeEventListener;s.removeEventListener=function(d,h){if(d!==e||!this._eventMap||!this._eventMap[e])return u.apply(this,arguments);if(!this._eventMap[e].has(h))return u.apply(this,arguments);const y=this._eventMap[e].get(h);return this._eventMap[e].delete(h),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,u.apply(this,[d,y])},Object.defineProperty(s,"on"+e,{get(){return this["_on"+e]},set(d){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),d&&this.addEventListener(e,this["_on"+e]=d)},enumerable:!0,configurable:!0})}function KT(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):(rg=n,n?"adapter.js logging disabled":"adapter.js logging enabled")}function QT(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):(lg=!n,"adapter.js deprecation warnings "+(n?"disabled":"enabled"))}function ag(){if(typeof window=="object"){if(rg)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Ac(n,e){lg&&console.warn(n+" is deprecated, please use "+e+" instead.")}function XT(n){const e={browser:null,version:null};if(typeof n>"u"||!n.navigator||!n.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:o}=n;if(o.userAgentData&&o.userAgentData.brands){const s=o.userAgentData.brands.find(l=>l.brand==="Chromium");if(s)return{browser:"chrome",version:parseInt(s.version,10)}}if(o.mozGetUserMedia)e.browser="firefox",e.version=parseInt(xs(o.userAgent,/Firefox\/(\d+)\./,1));else if(o.webkitGetUserMedia||n.isSecureContext===!1&&n.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(xs(o.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(n.RTCPeerConnection&&o.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(xs(o.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=n.RTCRtpTransceiver&&"currentDirection"in n.RTCRtpTransceiver.prototype,e._safariVersion=xs(o.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function nm(n){return Object.prototype.toString.call(n)==="[object Object]"}function ug(n){return nm(n)?Object.keys(n).reduce(function(e,o){const s=nm(n[o]),l=s?ug(n[o]):n[o],u=s&&!Object.keys(l).length;return l===void 0||u?e:Object.assign(e,{[o]:l})},{}):n}function ju(n,e,o){!e||o.has(e.id)||(o.set(e.id,e),Object.keys(e).forEach(s=>{s.endsWith("Id")?ju(n,n.get(e[s]),o):s.endsWith("Ids")&&e[s].forEach(l=>{ju(n,n.get(l),o)})}))}function im(n,e,o){const s=o?"outbound-rtp":"inbound-rtp",l=new Map;if(e===null)return l;const u=[];return n.forEach(d=>{d.type==="track"&&d.trackIdentifier===e.id&&u.push(d)}),u.forEach(d=>{n.forEach(h=>{h.type===s&&h.trackId===d.id&&ju(n,h,l)})}),l}const om=ag;function cg(n,e){const o=n&&n.navigator;if(!o.mediaDevices)return;const s=function(h){if(typeof h!="object"||h.mandatory||h.optional)return h;const y={};return Object.keys(h).forEach(m=>{if(m==="require"||m==="advanced"||m==="mediaSource")return;const v=typeof h[m]=="object"?h[m]:{ideal:h[m]};v.exact!==void 0&&typeof v.exact=="number"&&(v.min=v.max=v.exact);const _=function(T,E){return T?T+E.charAt(0).toUpperCase()+E.slice(1):E==="deviceId"?"sourceId":E};if(v.ideal!==void 0){y.optional=y.optional||[];let T={};typeof v.ideal=="number"?(T[_("min",m)]=v.ideal,y.optional.push(T),T={},T[_("max",m)]=v.ideal,y.optional.push(T)):(T[_("",m)]=v.ideal,y.optional.push(T))}v.exact!==void 0&&typeof v.exact!="number"?(y.mandatory=y.mandatory||{},y.mandatory[_("",m)]=v.exact):["min","max"].forEach(T=>{v[T]!==void 0&&(y.mandatory=y.mandatory||{},y.mandatory[_(T,m)]=v[T])})}),h.advanced&&(y.optional=(y.optional||[]).concat(h.advanced)),y},l=function(h,y){if(e.version>=61)return y(h);if(h=JSON.parse(JSON.stringify(h)),h&&typeof h.audio=="object"){const m=function(v,_,T){_ in v&&!(T in v)&&(v[T]=v[_],delete v[_])};h=JSON.parse(JSON.stringify(h)),m(h.audio,"autoGainControl","googAutoGainControl"),m(h.audio,"noiseSuppression","googNoiseSuppression"),h.audio=s(h.audio)}if(h&&typeof h.video=="object"){let m=h.video.facingMode;m=m&&(typeof m=="object"?m:{ideal:m});const v=e.version<66;if(m&&(m.exact==="user"||m.exact==="environment"||m.ideal==="user"||m.ideal==="environment")&&!(o.mediaDevices.getSupportedConstraints&&o.mediaDevices.getSupportedConstraints().facingMode&&!v)){delete h.video.facingMode;let _;if(m.exact==="environment"||m.ideal==="environment"?_=["back","rear"]:(m.exact==="user"||m.ideal==="user")&&(_=["front"]),_)return o.mediaDevices.enumerateDevices().then(T=>{T=T.filter(D=>D.kind==="videoinput");let E=T.find(D=>_.some(P=>D.label.toLowerCase().includes(P)));return!E&&T.length&&_.includes("back")&&(E=T[T.length-1]),E&&(h.video.deviceId=m.exact?{exact:E.deviceId}:{ideal:E.deviceId}),h.video=s(h.video),om("chrome: "+JSON.stringify(h)),y(h)})}h.video=s(h.video)}return om("chrome: "+JSON.stringify(h)),y(h)},u=function(h){return e.version>=64?h:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[h.name]||h.name,message:h.message,constraint:h.constraint||h.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},d=function(h,y,m){l(h,v=>{o.webkitGetUserMedia(v,y,_=>{m&&m(u(_))})})};if(o.getUserMedia=d.bind(o),o.mediaDevices.getUserMedia){const h=o.mediaDevices.getUserMedia.bind(o.mediaDevices);o.mediaDevices.getUserMedia=function(y){return l(y,m=>h(m).then(v=>{if(m.audio&&!v.getAudioTracks().length||m.video&&!v.getVideoTracks().length)throw v.getTracks().forEach(_=>{_.stop()}),new DOMException("","NotFoundError");return v},v=>Promise.reject(u(v))))}}}function fg(n){n.MediaStream=n.MediaStream||n.webkitMediaStream}function dg(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("ontrack"in n.RTCPeerConnection.prototype)){Object.defineProperty(n.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(o){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=o)},enumerable:!0,configurable:!0});const e=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=s=>{s.stream.addEventListener("addtrack",l=>{let u;n.RTCPeerConnection.prototype.getReceivers?u=this.getReceivers().find(h=>h.track&&h.track.id===l.track.id):u={track:l.track};const d=new Event("track");d.track=l.track,d.receiver=u,d.transceiver={receiver:u},d.streams=[s.stream],this.dispatchEvent(d)}),s.stream.getTracks().forEach(l=>{let u;n.RTCPeerConnection.prototype.getReceivers?u=this.getReceivers().find(h=>h.track&&h.track.id===l.id):u={track:l};const d=new Event("track");d.track=l,d.receiver=u,d.transceiver={receiver:u},d.streams=[s.stream],this.dispatchEvent(d)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else Ai(n,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function pg(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("getSenders"in n.RTCPeerConnection.prototype)&&"createDTMFSender"in n.RTCPeerConnection.prototype){const e=function(l,u){return{track:u,get dtmf(){return this._dtmf===void 0&&(u.kind==="audio"?this._dtmf=l.createDTMFSender(u):this._dtmf=null),this._dtmf},_pc:l}};if(!n.RTCPeerConnection.prototype.getSenders){n.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const l=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(h,y){let m=l.apply(this,arguments);return m||(m=e(this,h),this._senders.push(m)),m};const u=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(h){u.apply(this,arguments);const y=this._senders.indexOf(h);y!==-1&&this._senders.splice(y,1)}}const o=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(u){this._senders=this._senders||[],o.apply(this,[u]),u.getTracks().forEach(d=>{this._senders.push(e(this,d))})};const s=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(u){this._senders=this._senders||[],s.apply(this,[u]),u.getTracks().forEach(d=>{const h=this._senders.find(y=>y.track===d);h&&this._senders.splice(this._senders.indexOf(h),1)})}}else if(typeof n=="object"&&n.RTCPeerConnection&&"getSenders"in n.RTCPeerConnection.prototype&&"createDTMFSender"in n.RTCPeerConnection.prototype&&n.RTCRtpSender&&!("dtmf"in n.RTCRtpSender.prototype)){const e=n.RTCPeerConnection.prototype.getSenders;n.RTCPeerConnection.prototype.getSenders=function(){const s=e.apply(this,[]);return s.forEach(l=>l._pc=this),s},Object.defineProperty(n.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function hg(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender&&n.RTCRtpReceiver))return;if(!("getStats"in n.RTCRtpSender.prototype)){const o=n.RTCPeerConnection.prototype.getSenders;o&&(n.RTCPeerConnection.prototype.getSenders=function(){const u=o.apply(this,[]);return u.forEach(d=>d._pc=this),u});const s=n.RTCPeerConnection.prototype.addTrack;s&&(n.RTCPeerConnection.prototype.addTrack=function(){const u=s.apply(this,arguments);return u._pc=this,u}),n.RTCRtpSender.prototype.getStats=function(){const u=this;return this._pc.getStats().then(d=>im(d,u.track,!0))}}if(!("getStats"in n.RTCRtpReceiver.prototype)){const o=n.RTCPeerConnection.prototype.getReceivers;o&&(n.RTCPeerConnection.prototype.getReceivers=function(){const l=o.apply(this,[]);return l.forEach(u=>u._pc=this),l}),Ai(n,"track",s=>(s.receiver._pc=s.srcElement,s)),n.RTCRtpReceiver.prototype.getStats=function(){const l=this;return this._pc.getStats().then(u=>im(u,l.track,!1))}}if(!("getStats"in n.RTCRtpSender.prototype&&"getStats"in n.RTCRtpReceiver.prototype))return;const e=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof n.MediaStreamTrack){const s=arguments[0];let l,u,d;return this.getSenders().forEach(h=>{h.track===s&&(l?d=!0:l=h)}),this.getReceivers().forEach(h=>(h.track===s&&(u?d=!0:u=h),h.track===s)),d||l&&u?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):l?l.getStats():u?u.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function mg(n){n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(d=>this._shimmedLocalStreams[d][0])};const e=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(d,h){if(!h)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const y=e.apply(this,arguments);return this._shimmedLocalStreams[h.id]?this._shimmedLocalStreams[h.id].indexOf(y)===-1&&this._shimmedLocalStreams[h.id].push(y):this._shimmedLocalStreams[h.id]=[h,y],y};const o=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(d){this._shimmedLocalStreams=this._shimmedLocalStreams||{},d.getTracks().forEach(m=>{if(this.getSenders().find(_=>_.track===m))throw new DOMException("Track already exists.","InvalidAccessError")});const h=this.getSenders();o.apply(this,arguments);const y=this.getSenders().filter(m=>h.indexOf(m)===-1);this._shimmedLocalStreams[d.id]=[d].concat(y)};const s=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(d){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[d.id],s.apply(this,arguments)};const l=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(d){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},d&&Object.keys(this._shimmedLocalStreams).forEach(h=>{const y=this._shimmedLocalStreams[h].indexOf(d);y!==-1&&this._shimmedLocalStreams[h].splice(y,1),this._shimmedLocalStreams[h].length===1&&delete this._shimmedLocalStreams[h]}),l.apply(this,arguments)}}function gg(n,e){if(!n.RTCPeerConnection)return;if(n.RTCPeerConnection.prototype.addTrack&&e.version>=65)return mg(n);const o=n.RTCPeerConnection.prototype.getLocalStreams;n.RTCPeerConnection.prototype.getLocalStreams=function(){const v=o.apply(this);return this._reverseStreams=this._reverseStreams||{},v.map(_=>this._reverseStreams[_.id])};const s=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(v){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},v.getTracks().forEach(_=>{if(this.getSenders().find(E=>E.track===_))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[v.id]){const _=new n.MediaStream(v.getTracks());this._streams[v.id]=_,this._reverseStreams[_.id]=v,v=_}s.apply(this,[v])};const l=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(v){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},l.apply(this,[this._streams[v.id]||v]),delete this._reverseStreams[this._streams[v.id]?this._streams[v.id].id:v.id],delete this._streams[v.id]},n.RTCPeerConnection.prototype.addTrack=function(v,_){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const T=[].slice.call(arguments,1);if(T.length!==1||!T[0].getTracks().find(P=>P===v))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(P=>P.track===v))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const D=this._streams[_.id];if(D)D.addTrack(v),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const P=new n.MediaStream([v]);this._streams[_.id]=P,this._reverseStreams[P.id]=_,this.addStream(P)}return this.getSenders().find(P=>P.track===v)};function u(m,v){let _=v.sdp;return Object.keys(m._reverseStreams||[]).forEach(T=>{const E=m._reverseStreams[T],D=m._streams[E.id];_=_.replace(new RegExp(D.id,"g"),E.id)}),new RTCSessionDescription({type:v.type,sdp:_})}function d(m,v){let _=v.sdp;return Object.keys(m._reverseStreams||[]).forEach(T=>{const E=m._reverseStreams[T],D=m._streams[E.id];_=_.replace(new RegExp(E.id,"g"),D.id)}),new RTCSessionDescription({type:v.type,sdp:_})}["createOffer","createAnswer"].forEach(function(m){const v=n.RTCPeerConnection.prototype[m],_={[m](){const T=arguments;return arguments.length&&typeof arguments[0]=="function"?v.apply(this,[D=>{const P=u(this,D);T[0].apply(null,[P])},D=>{T[1]&&T[1].apply(null,D)},arguments[2]]):v.apply(this,arguments).then(D=>u(this,D))}};n.RTCPeerConnection.prototype[m]=_[m]});const h=n.RTCPeerConnection.prototype.setLocalDescription;n.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?h.apply(this,arguments):(arguments[0]=d(this,arguments[0]),h.apply(this,arguments))};const y=Object.getOwnPropertyDescriptor(n.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(n.RTCPeerConnection.prototype,"localDescription",{get(){const m=y.get.apply(this);return m.type===""?m:u(this,m)}}),n.RTCPeerConnection.prototype.removeTrack=function(v){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!v._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(v._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let T;Object.keys(this._streams).forEach(E=>{this._streams[E].getTracks().find(P=>v.track===P)&&(T=this._streams[E])}),T&&(T.getTracks().length===1?this.removeStream(this._reverseStreams[T.id]):T.removeTrack(v.track),this.dispatchEvent(new Event("negotiationneeded")))}}function ec(n,e){!n.RTCPeerConnection&&n.webkitRTCPeerConnection&&(n.RTCPeerConnection=n.webkitRTCPeerConnection),n.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(o){const s=n.RTCPeerConnection.prototype[o],l={[o](){return arguments[0]=new(o==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};n.RTCPeerConnection.prototype[o]=l[o]})}function yg(n,e){Ai(n,"negotiationneeded",o=>{const s=o.target;if(!((e.version<72||s.getConfiguration&&s.getConfiguration().sdpSemantics==="plan-b")&&s.signalingState!=="stable"))return o})}const sm=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:yg,shimAddTrackRemoveTrack:gg,shimAddTrackRemoveTrackWithNative:mg,shimGetSendersWithDtmf:pg,shimGetUserMedia:cg,shimMediaStream:fg,shimOnTrack:dg,shimPeerConnection:ec,shimSenderReceiverGetStats:hg},Symbol.toStringTag,{value:"Module"}));function vg(n,e){const o=n&&n.navigator,s=n&&n.MediaStreamTrack;if(o.getUserMedia=function(l,u,d){Ac("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),o.mediaDevices.getUserMedia(l).then(u,d)},!(e.version>55&&"autoGainControl"in o.mediaDevices.getSupportedConstraints())){const l=function(d,h,y){h in d&&!(y in d)&&(d[y]=d[h],delete d[h])},u=o.mediaDevices.getUserMedia.bind(o.mediaDevices);if(o.mediaDevices.getUserMedia=function(d){return typeof d=="object"&&typeof d.audio=="object"&&(d=JSON.parse(JSON.stringify(d)),l(d.audio,"autoGainControl","mozAutoGainControl"),l(d.audio,"noiseSuppression","mozNoiseSuppression")),u(d)},s&&s.prototype.getSettings){const d=s.prototype.getSettings;s.prototype.getSettings=function(){const h=d.apply(this,arguments);return l(h,"mozAutoGainControl","autoGainControl"),l(h,"mozNoiseSuppression","noiseSuppression"),h}}if(s&&s.prototype.applyConstraints){const d=s.prototype.applyConstraints;s.prototype.applyConstraints=function(h){return this.kind==="audio"&&typeof h=="object"&&(h=JSON.parse(JSON.stringify(h)),l(h,"autoGainControl","mozAutoGainControl"),l(h,"noiseSuppression","mozNoiseSuppression")),d.apply(this,[h])}}}}function ZT(n,e){n.navigator.mediaDevices&&"getDisplayMedia"in n.navigator.mediaDevices||n.navigator.mediaDevices&&(n.navigator.mediaDevices.getDisplayMedia=function(s){if(!(s&&s.video)){const l=new DOMException("getDisplayMedia without video constraints is undefined");return l.name="NotFoundError",l.code=8,Promise.reject(l)}return s.video===!0?s.video={mediaSource:e}:s.video.mediaSource=e,n.navigator.mediaDevices.getUserMedia(s)})}function _g(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function tc(n,e){if(typeof n!="object"||!(n.RTCPeerConnection||n.mozRTCPeerConnection))return;!n.RTCPeerConnection&&n.mozRTCPeerConnection&&(n.RTCPeerConnection=n.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(l){const u=n.RTCPeerConnection.prototype[l],d={[l](){return arguments[0]=new(l==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),u.apply(this,arguments)}};n.RTCPeerConnection.prototype[l]=d[l]});const o={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},s=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){const[u,d,h]=arguments;return s.apply(this,[u||null]).then(y=>{if(e.version<53&&!d)try{y.forEach(m=>{m.type=o[m.type]||m.type})}catch(m){if(m.name!=="TypeError")throw m;y.forEach((v,_)=>{y.set(_,Object.assign({},v,{type:o[v.type]||v.type}))})}return y}).then(d,h)}}function Sg(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender)||n.RTCRtpSender&&"getStats"in n.RTCRtpSender.prototype)return;const e=n.RTCPeerConnection.prototype.getSenders;e&&(n.RTCPeerConnection.prototype.getSenders=function(){const l=e.apply(this,[]);return l.forEach(u=>u._pc=this),l});const o=n.RTCPeerConnection.prototype.addTrack;o&&(n.RTCPeerConnection.prototype.addTrack=function(){const l=o.apply(this,arguments);return l._pc=this,l}),n.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Tg(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender)||n.RTCRtpSender&&"getStats"in n.RTCRtpReceiver.prototype)return;const e=n.RTCPeerConnection.prototype.getReceivers;e&&(n.RTCPeerConnection.prototype.getReceivers=function(){const s=e.apply(this,[]);return s.forEach(l=>l._pc=this),s}),Ai(n,"track",o=>(o.receiver._pc=o.srcElement,o)),n.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Cg(n){!n.RTCPeerConnection||"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(o){Ac("removeStream","removeTrack"),this.getSenders().forEach(s=>{s.track&&o.getTracks().includes(s.track)&&this.removeTrack(s)})})}function xg(n){n.DataChannel&&!n.RTCDataChannel&&(n.RTCDataChannel=n.DataChannel)}function Eg(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.addTransceiver;e&&(n.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let s=arguments[1]&&arguments[1].sendEncodings;s===void 0&&(s=[]),s=[...s];const l=s.length>0;l&&s.forEach(d=>{if("rid"in d&&!/^[a-z0-9]{0,16}$/i.test(d.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in d&&!(parseFloat(d.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in d&&!(parseFloat(d.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const u=e.apply(this,arguments);if(l){const{sender:d}=u,h=d.getParameters();(!("encodings"in h)||h.encodings.length===1&&Object.keys(h.encodings[0]).length===0)&&(h.encodings=s,d.sendEncodings=s,this.setParametersPromises.push(d.setParameters(h).then(()=>{delete d.sendEncodings}).catch(()=>{delete d.sendEncodings})))}return u})}function bg(n){if(!(typeof n=="object"&&n.RTCRtpSender))return;const e=n.RTCRtpSender.prototype.getParameters;e&&(n.RTCRtpSender.prototype.getParameters=function(){const s=e.apply(this,arguments);return"encodings"in s||(s.encodings=[].concat(this.sendEncodings||[{}])),s})}function Ag(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function Rg(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.createAnswer;n.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const rm=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:Eg,shimCreateAnswer:Rg,shimCreateOffer:Ag,shimGetDisplayMedia:ZT,shimGetParameters:bg,shimGetUserMedia:vg,shimOnTrack:_g,shimPeerConnection:tc,shimRTCDataChannel:xg,shimReceiverGetStats:Tg,shimRemoveStream:Cg,shimSenderGetStats:Sg},Symbol.toStringTag,{value:"Module"}));function Ng(n){if(!(typeof n!="object"||!n.RTCPeerConnection)){if("getLocalStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in n.RTCPeerConnection.prototype)){const e=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addStream=function(s){this._localStreams||(this._localStreams=[]),this._localStreams.includes(s)||this._localStreams.push(s),s.getAudioTracks().forEach(l=>e.call(this,l,s)),s.getVideoTracks().forEach(l=>e.call(this,l,s))},n.RTCPeerConnection.prototype.addTrack=function(s,...l){return l&&l.forEach(u=>{this._localStreams?this._localStreams.includes(u)||this._localStreams.push(u):this._localStreams=[u]}),e.apply(this,arguments)}}"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(o){this._localStreams||(this._localStreams=[]);const s=this._localStreams.indexOf(o);if(s===-1)return;this._localStreams.splice(s,1);const l=o.getTracks();this.getSenders().forEach(u=>{l.includes(u.track)&&this.removeTrack(u)})})}}function Mg(n){if(!(typeof n!="object"||!n.RTCPeerConnection)&&("getRemoteStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in n.RTCPeerConnection.prototype))){Object.defineProperty(n.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(o){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=o),this.addEventListener("track",this._onaddstreampoly=s=>{s.streams.forEach(l=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(l))return;this._remoteStreams.push(l);const u=new Event("addstream");u.stream=l,this.dispatchEvent(u)})})}});const e=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){const s=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(l){l.streams.forEach(u=>{if(s._remoteStreams||(s._remoteStreams=[]),s._remoteStreams.indexOf(u)>=0)return;s._remoteStreams.push(u);const d=new Event("addstream");d.stream=u,s.dispatchEvent(d)})}),e.apply(s,arguments)}}}function Ig(n){if(typeof n!="object"||!n.RTCPeerConnection)return;const e=n.RTCPeerConnection.prototype,o=e.createOffer,s=e.createAnswer,l=e.setLocalDescription,u=e.setRemoteDescription,d=e.addIceCandidate;e.createOffer=function(m,v){const _=arguments.length>=2?arguments[2]:arguments[0],T=o.apply(this,[_]);return v?(T.then(m,v),Promise.resolve()):T},e.createAnswer=function(m,v){const _=arguments.length>=2?arguments[2]:arguments[0],T=s.apply(this,[_]);return v?(T.then(m,v),Promise.resolve()):T};let h=function(y,m,v){const _=l.apply(this,[y]);return v?(_.then(m,v),Promise.resolve()):_};e.setLocalDescription=h,h=function(y,m,v){const _=u.apply(this,[y]);return v?(_.then(m,v),Promise.resolve()):_},e.setRemoteDescription=h,h=function(y,m,v){const _=d.apply(this,[y]);return v?(_.then(m,v),Promise.resolve()):_},e.addIceCandidate=h}function Dg(n){const e=n&&n.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const o=e.mediaDevices,s=o.getUserMedia.bind(o);e.mediaDevices.getUserMedia=l=>s(kg(l))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(s,l,u){e.mediaDevices.getUserMedia(s).then(l,u)}).bind(e))}function kg(n){return n&&n.video!==void 0?Object.assign({},n,{video:ug(n.video)}):n}function wg(n){if(!n.RTCPeerConnection)return;const e=n.RTCPeerConnection;n.RTCPeerConnection=function(s,l){if(s&&s.iceServers){const u=[];for(let d=0;d<s.iceServers.length;d++){let h=s.iceServers[d];h.urls===void 0&&h.url?(Ac("RTCIceServer.url","RTCIceServer.urls"),h=JSON.parse(JSON.stringify(h)),h.urls=h.url,delete h.url,u.push(h)):u.push(s.iceServers[d])}s.iceServers=u}return new e(s,l)},n.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(n.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function Ug(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Lg(n){const e=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(s){if(s){typeof s.offerToReceiveAudio<"u"&&(s.offerToReceiveAudio=!!s.offerToReceiveAudio);const l=this.getTransceivers().find(d=>d.receiver.track.kind==="audio");s.offerToReceiveAudio===!1&&l?l.direction==="sendrecv"?l.setDirection?l.setDirection("sendonly"):l.direction="sendonly":l.direction==="recvonly"&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive"):s.offerToReceiveAudio===!0&&!l&&this.addTransceiver("audio",{direction:"recvonly"}),typeof s.offerToReceiveVideo<"u"&&(s.offerToReceiveVideo=!!s.offerToReceiveVideo);const u=this.getTransceivers().find(d=>d.receiver.track.kind==="video");s.offerToReceiveVideo===!1&&u?u.direction==="sendrecv"?u.setDirection?u.setDirection("sendonly"):u.direction="sendonly":u.direction==="recvonly"&&(u.setDirection?u.setDirection("inactive"):u.direction="inactive"):s.offerToReceiveVideo===!0&&!u&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function Pg(n){typeof n!="object"||n.AudioContext||(n.AudioContext=n.webkitAudioContext)}const lm=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:Pg,shimCallbacksAPI:Ig,shimConstraints:kg,shimCreateOfferLegacy:Lg,shimGetUserMedia:Dg,shimLocalStreamsAPI:Ng,shimRTCIceServerUrls:wg,shimRemoteStreamsAPI:Mg,shimTrackEventTransceiver:Ug},Symbol.toStringTag,{value:"Module"}));var Ju={exports:{}},am;function WT(){return am||(am=1,(function(n){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(o){return o.trim().split(`
`).map(s=>s.trim())},e.splitSections=function(o){return o.split(`
m=`).map((l,u)=>(u>0?"m="+l:l).trim()+`\r
`)},e.getDescription=function(o){const s=e.splitSections(o);return s&&s[0]},e.getMediaSections=function(o){const s=e.splitSections(o);return s.shift(),s},e.matchPrefix=function(o,s){return e.splitLines(o).filter(l=>l.indexOf(s)===0)},e.parseCandidate=function(o){let s;o.indexOf("a=candidate:")===0?s=o.substring(12).split(" "):s=o.substring(10).split(" ");const l={foundation:s[0],component:{1:"rtp",2:"rtcp"}[s[1]]||s[1],protocol:s[2].toLowerCase(),priority:parseInt(s[3],10),ip:s[4],address:s[4],port:parseInt(s[5],10),type:s[7]};for(let u=8;u<s.length;u+=2)switch(s[u]){case"raddr":l.relatedAddress=s[u+1];break;case"rport":l.relatedPort=parseInt(s[u+1],10);break;case"tcptype":l.tcpType=s[u+1];break;case"ufrag":l.ufrag=s[u+1],l.usernameFragment=s[u+1];break;default:l[s[u]]===void 0&&(l[s[u]]=s[u+1]);break}return l},e.writeCandidate=function(o){const s=[];s.push(o.foundation);const l=o.component;l==="rtp"?s.push(1):l==="rtcp"?s.push(2):s.push(l),s.push(o.protocol.toUpperCase()),s.push(o.priority),s.push(o.address||o.ip),s.push(o.port);const u=o.type;return s.push("typ"),s.push(u),u!=="host"&&o.relatedAddress&&o.relatedPort&&(s.push("raddr"),s.push(o.relatedAddress),s.push("rport"),s.push(o.relatedPort)),o.tcpType&&o.protocol.toLowerCase()==="tcp"&&(s.push("tcptype"),s.push(o.tcpType)),(o.usernameFragment||o.ufrag)&&(s.push("ufrag"),s.push(o.usernameFragment||o.ufrag)),"candidate:"+s.join(" ")},e.parseIceOptions=function(o){return o.substring(14).split(" ")},e.parseRtpMap=function(o){let s=o.substring(9).split(" ");const l={payloadType:parseInt(s.shift(),10)};return s=s[0].split("/"),l.name=s[0],l.clockRate=parseInt(s[1],10),l.channels=s.length===3?parseInt(s[2],10):1,l.numChannels=l.channels,l},e.writeRtpMap=function(o){let s=o.payloadType;o.preferredPayloadType!==void 0&&(s=o.preferredPayloadType);const l=o.channels||o.numChannels||1;return"a=rtpmap:"+s+" "+o.name+"/"+o.clockRate+(l!==1?"/"+l:"")+`\r
`},e.parseExtmap=function(o){const s=o.substring(9).split(" ");return{id:parseInt(s[0],10),direction:s[0].indexOf("/")>0?s[0].split("/")[1]:"sendrecv",uri:s[1],attributes:s.slice(2).join(" ")}},e.writeExtmap=function(o){return"a=extmap:"+(o.id||o.preferredId)+(o.direction&&o.direction!=="sendrecv"?"/"+o.direction:"")+" "+o.uri+(o.attributes?" "+o.attributes:"")+`\r
`},e.parseFmtp=function(o){const s={};let l;const u=o.substring(o.indexOf(" ")+1).split(";");for(let d=0;d<u.length;d++)l=u[d].trim().split("="),s[l[0].trim()]=l[1];return s},e.writeFmtp=function(o){let s="",l=o.payloadType;if(o.preferredPayloadType!==void 0&&(l=o.preferredPayloadType),o.parameters&&Object.keys(o.parameters).length){const u=[];Object.keys(o.parameters).forEach(d=>{o.parameters[d]!==void 0?u.push(d+"="+o.parameters[d]):u.push(d)}),s+="a=fmtp:"+l+" "+u.join(";")+`\r
`}return s},e.parseRtcpFb=function(o){const s=o.substring(o.indexOf(" ")+1).split(" ");return{type:s.shift(),parameter:s.join(" ")}},e.writeRtcpFb=function(o){let s="",l=o.payloadType;return o.preferredPayloadType!==void 0&&(l=o.preferredPayloadType),o.rtcpFeedback&&o.rtcpFeedback.length&&o.rtcpFeedback.forEach(u=>{s+="a=rtcp-fb:"+l+" "+u.type+(u.parameter&&u.parameter.length?" "+u.parameter:"")+`\r
`}),s},e.parseSsrcMedia=function(o){const s=o.indexOf(" "),l={ssrc:parseInt(o.substring(7,s),10)},u=o.indexOf(":",s);return u>-1?(l.attribute=o.substring(s+1,u),l.value=o.substring(u+1)):l.attribute=o.substring(s+1),l},e.parseSsrcGroup=function(o){const s=o.substring(13).split(" ");return{semantics:s.shift(),ssrcs:s.map(l=>parseInt(l,10))}},e.getMid=function(o){const s=e.matchPrefix(o,"a=mid:")[0];if(s)return s.substring(6)},e.parseFingerprint=function(o){const s=o.substring(14).split(" ");return{algorithm:s[0].toLowerCase(),value:s[1].toUpperCase()}},e.getDtlsParameters=function(o,s){return{role:"auto",fingerprints:e.matchPrefix(o+s,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(o,s){let l="a=setup:"+s+`\r
`;return o.fingerprints.forEach(u=>{l+="a=fingerprint:"+u.algorithm+" "+u.value+`\r
`}),l},e.parseCryptoLine=function(o){const s=o.substring(9).split(" ");return{tag:parseInt(s[0],10),cryptoSuite:s[1],keyParams:s[2],sessionParams:s.slice(3)}},e.writeCryptoLine=function(o){return"a=crypto:"+o.tag+" "+o.cryptoSuite+" "+(typeof o.keyParams=="object"?e.writeCryptoKeyParams(o.keyParams):o.keyParams)+(o.sessionParams?" "+o.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(o){if(o.indexOf("inline:")!==0)return null;const s=o.substring(7).split("|");return{keyMethod:"inline",keySalt:s[0],lifeTime:s[1],mkiValue:s[2]?s[2].split(":")[0]:void 0,mkiLength:s[2]?s[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(o){return o.keyMethod+":"+o.keySalt+(o.lifeTime?"|"+o.lifeTime:"")+(o.mkiValue&&o.mkiLength?"|"+o.mkiValue+":"+o.mkiLength:"")},e.getCryptoParameters=function(o,s){return e.matchPrefix(o+s,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(o,s){const l=e.matchPrefix(o+s,"a=ice-ufrag:")[0],u=e.matchPrefix(o+s,"a=ice-pwd:")[0];return l&&u?{usernameFragment:l.substring(12),password:u.substring(10)}:null},e.writeIceParameters=function(o){let s="a=ice-ufrag:"+o.usernameFragment+`\r
a=ice-pwd:`+o.password+`\r
`;return o.iceLite&&(s+=`a=ice-lite\r
`),s},e.parseRtpParameters=function(o){const s={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},u=e.splitLines(o)[0].split(" ");s.profile=u[2];for(let h=3;h<u.length;h++){const y=u[h],m=e.matchPrefix(o,"a=rtpmap:"+y+" ")[0];if(m){const v=e.parseRtpMap(m),_=e.matchPrefix(o,"a=fmtp:"+y+" ");switch(v.parameters=_.length?e.parseFmtp(_[0]):{},v.rtcpFeedback=e.matchPrefix(o,"a=rtcp-fb:"+y+" ").map(e.parseRtcpFb),s.codecs.push(v),v.name.toUpperCase()){case"RED":case"ULPFEC":s.fecMechanisms.push(v.name.toUpperCase());break}}}e.matchPrefix(o,"a=extmap:").forEach(h=>{s.headerExtensions.push(e.parseExtmap(h))});const d=e.matchPrefix(o,"a=rtcp-fb:* ").map(e.parseRtcpFb);return s.codecs.forEach(h=>{d.forEach(y=>{h.rtcpFeedback.find(v=>v.type===y.type&&v.parameter===y.parameter)||h.rtcpFeedback.push(y)})}),s},e.writeRtpDescription=function(o,s){let l="";l+="m="+o+" ",l+=s.codecs.length>0?"9":"0",l+=" "+(s.profile||"UDP/TLS/RTP/SAVPF")+" ",l+=s.codecs.map(d=>d.preferredPayloadType!==void 0?d.preferredPayloadType:d.payloadType).join(" ")+`\r
`,l+=`c=IN IP4 0.0.0.0\r
`,l+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,s.codecs.forEach(d=>{l+=e.writeRtpMap(d),l+=e.writeFmtp(d),l+=e.writeRtcpFb(d)});let u=0;return s.codecs.forEach(d=>{d.maxptime>u&&(u=d.maxptime)}),u>0&&(l+="a=maxptime:"+u+`\r
`),s.headerExtensions&&s.headerExtensions.forEach(d=>{l+=e.writeExtmap(d)}),l},e.parseRtpEncodingParameters=function(o){const s=[],l=e.parseRtpParameters(o),u=l.fecMechanisms.indexOf("RED")!==-1,d=l.fecMechanisms.indexOf("ULPFEC")!==-1,h=e.matchPrefix(o,"a=ssrc:").map(T=>e.parseSsrcMedia(T)).filter(T=>T.attribute==="cname"),y=h.length>0&&h[0].ssrc;let m;const v=e.matchPrefix(o,"a=ssrc-group:FID").map(T=>T.substring(17).split(" ").map(D=>parseInt(D,10)));v.length>0&&v[0].length>1&&v[0][0]===y&&(m=v[0][1]),l.codecs.forEach(T=>{if(T.name.toUpperCase()==="RTX"&&T.parameters.apt){let E={ssrc:y,codecPayloadType:parseInt(T.parameters.apt,10)};y&&m&&(E.rtx={ssrc:m}),s.push(E),u&&(E=JSON.parse(JSON.stringify(E)),E.fec={ssrc:y,mechanism:d?"red+ulpfec":"red"},s.push(E))}}),s.length===0&&y&&s.push({ssrc:y});let _=e.matchPrefix(o,"b=");return _.length&&(_[0].indexOf("b=TIAS:")===0?_=parseInt(_[0].substring(7),10):_[0].indexOf("b=AS:")===0?_=parseInt(_[0].substring(5),10)*1e3*.95-2e3*8:_=void 0,s.forEach(T=>{T.maxBitrate=_})),s},e.parseRtcpParameters=function(o){const s={},l=e.matchPrefix(o,"a=ssrc:").map(h=>e.parseSsrcMedia(h)).filter(h=>h.attribute==="cname")[0];l&&(s.cname=l.value,s.ssrc=l.ssrc);const u=e.matchPrefix(o,"a=rtcp-rsize");s.reducedSize=u.length>0,s.compound=u.length===0;const d=e.matchPrefix(o,"a=rtcp-mux");return s.mux=d.length>0,s},e.writeRtcpParameters=function(o){let s="";return o.reducedSize&&(s+=`a=rtcp-rsize\r
`),o.mux&&(s+=`a=rtcp-mux\r
`),o.ssrc!==void 0&&o.cname&&(s+="a=ssrc:"+o.ssrc+" cname:"+o.cname+`\r
`),s},e.parseMsid=function(o){let s;const l=e.matchPrefix(o,"a=msid:");if(l.length===1)return s=l[0].substring(7).split(" "),{stream:s[0],track:s[1]};const u=e.matchPrefix(o,"a=ssrc:").map(d=>e.parseSsrcMedia(d)).filter(d=>d.attribute==="msid");if(u.length>0)return s=u[0].value.split(" "),{stream:s[0],track:s[1]}},e.parseSctpDescription=function(o){const s=e.parseMLine(o),l=e.matchPrefix(o,"a=max-message-size:");let u;l.length>0&&(u=parseInt(l[0].substring(19),10)),isNaN(u)&&(u=65536);const d=e.matchPrefix(o,"a=sctp-port:");if(d.length>0)return{port:parseInt(d[0].substring(12),10),protocol:s.fmt,maxMessageSize:u};const h=e.matchPrefix(o,"a=sctpmap:");if(h.length>0){const y=h[0].substring(10).split(" ");return{port:parseInt(y[0],10),protocol:y[1],maxMessageSize:u}}},e.writeSctpDescription=function(o,s){let l=[];return o.protocol!=="DTLS/SCTP"?l=["m="+o.kind+" 9 "+o.protocol+" "+s.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+s.port+`\r
`]:l=["m="+o.kind+" 9 "+o.protocol+" "+s.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+s.port+" "+s.protocol+` 65535\r
`],s.maxMessageSize!==void 0&&l.push("a=max-message-size:"+s.maxMessageSize+`\r
`),l.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(o,s,l){let u;const d=s!==void 0?s:2;return o?u=o:u=e.generateSessionId(),`v=0\r
o=`+(l||"thisisadapterortc")+" "+u+" "+d+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(o,s){const l=e.splitLines(o);for(let u=0;u<l.length;u++)switch(l[u]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return l[u].substring(2)}return s?e.getDirection(s):"sendrecv"},e.getKind=function(o){return e.splitLines(o)[0].split(" ")[0].substring(2)},e.isRejected=function(o){return o.split(" ",2)[1]==="0"},e.parseMLine=function(o){const l=e.splitLines(o)[0].substring(2).split(" ");return{kind:l[0],port:parseInt(l[1],10),protocol:l[2],fmt:l.slice(3).join(" ")}},e.parseOLine=function(o){const l=e.matchPrefix(o,"o=")[0].substring(2).split(" ");return{username:l[0],sessionId:l[1],sessionVersion:parseInt(l[2],10),netType:l[3],addressType:l[4],address:l[5]}},e.isValidSDP=function(o){if(typeof o!="string"||o.length===0)return!1;const s=e.splitLines(o);for(let l=0;l<s.length;l++)if(s[l].length<2||s[l].charAt(1)!=="=")return!1;return!0},n.exports=e})(Ju)),Ju.exports}var Og=WT();const vo=Z0(Og),jT=uS({__proto__:null,default:vo},[Og]);function Zr(n){if(!n.RTCIceCandidate||n.RTCIceCandidate&&"foundation"in n.RTCIceCandidate.prototype)return;const e=n.RTCIceCandidate;n.RTCIceCandidate=function(s){if(typeof s=="object"&&s.candidate&&s.candidate.indexOf("a=")===0&&(s=JSON.parse(JSON.stringify(s)),s.candidate=s.candidate.substring(2)),s.candidate&&s.candidate.length){const l=new e(s),u=vo.parseCandidate(s.candidate);for(const d in u)d in l||Object.defineProperty(l,d,{value:u[d]});return l.toJSON=function(){return{candidate:l.candidate,sdpMid:l.sdpMid,sdpMLineIndex:l.sdpMLineIndex,usernameFragment:l.usernameFragment}},l}return new e(s)},n.RTCIceCandidate.prototype=e.prototype,Ai(n,"icecandidate",o=>(o.candidate&&Object.defineProperty(o,"candidate",{value:new n.RTCIceCandidate(o.candidate),writable:"false"}),o))}function nc(n){!n.RTCIceCandidate||n.RTCIceCandidate&&"relayProtocol"in n.RTCIceCandidate.prototype||Ai(n,"icecandidate",e=>{if(e.candidate){const o=vo.parseCandidate(e.candidate.candidate);o.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[o.priority>>24])}return e})}function Wr(n,e){if(!n.RTCPeerConnection)return;"sctp"in n.RTCPeerConnection.prototype||Object.defineProperty(n.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const o=function(h){if(!h||!h.sdp)return!1;const y=vo.splitSections(h.sdp);return y.shift(),y.some(m=>{const v=vo.parseMLine(m);return v&&v.kind==="application"&&v.protocol.indexOf("SCTP")!==-1})},s=function(h){const y=h.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(y===null||y.length<2)return-1;const m=parseInt(y[1],10);return m!==m?-1:m},l=function(h){let y=65536;return e.browser==="firefox"&&(e.version<57?h===-1?y=16384:y=2147483637:e.version<60?y=e.version===57?65535:65536:y=2147483637),y},u=function(h,y){let m=65536;e.browser==="firefox"&&e.version===57&&(m=65535);const v=vo.matchPrefix(h.sdp,"a=max-message-size:");return v.length>0?m=parseInt(v[0].substring(19),10):e.browser==="firefox"&&y!==-1&&(m=2147483637),m},d=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:y}=this.getConfiguration();y==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(o(arguments[0])){const y=s(arguments[0]),m=l(y),v=u(arguments[0],y);let _;m===0&&v===0?_=Number.POSITIVE_INFINITY:m===0||v===0?_=Math.max(m,v):_=Math.min(m,v);const T={};Object.defineProperty(T,"maxMessageSize",{get(){return _}}),this._sctp=T}return d.apply(this,arguments)}}function jr(n){if(!(n.RTCPeerConnection&&"createDataChannel"in n.RTCPeerConnection.prototype))return;function e(s,l){const u=s.send;s.send=function(){const h=arguments[0],y=h.length||h.size||h.byteLength;if(s.readyState==="open"&&l.sctp&&y>l.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+l.sctp.maxMessageSize+" bytes)");return u.apply(s,arguments)}}const o=n.RTCPeerConnection.prototype.createDataChannel;n.RTCPeerConnection.prototype.createDataChannel=function(){const l=o.apply(this,arguments);return e(l,this),l},Ai(n,"datachannel",s=>(e(s.channel,s.target),s))}function ic(n){if(!n.RTCPeerConnection||"connectionState"in n.RTCPeerConnection.prototype)return;const e=n.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(o){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),o&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=o)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(o=>{const s=e[o];e[o]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=l=>{const u=l.target;if(u._lastConnectionState!==u.connectionState){u._lastConnectionState=u.connectionState;const d=new Event("connectionstatechange",l);u.dispatchEvent(d)}return l},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),s.apply(this,arguments)}})}function oc(n,e){if(!n.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const o=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(l){if(l&&l.sdp&&l.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const u=l.sdp.split(`
`).filter(d=>d.trim()!=="a=extmap-allow-mixed").join(`
`);n.RTCSessionDescription&&l instanceof n.RTCSessionDescription?arguments[0]=new n.RTCSessionDescription({type:l.type,sdp:u}):l.sdp=u}return o.apply(this,arguments)}}function el(n,e){if(!(n.RTCPeerConnection&&n.RTCPeerConnection.prototype))return;const o=n.RTCPeerConnection.prototype.addIceCandidate;!o||o.length===0||(n.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():o.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function tl(n,e){if(!(n.RTCPeerConnection&&n.RTCPeerConnection.prototype))return;const o=n.RTCPeerConnection.prototype.setLocalDescription;!o||o.length===0||(n.RTCPeerConnection.prototype.setLocalDescription=function(){let l=arguments[0]||{};if(typeof l!="object"||l.type&&l.sdp)return o.apply(this,arguments);if(l={type:l.type,sdp:l.sdp},!l.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":l.type="offer";break;default:l.type="answer";break}return l.sdp||l.type!=="offer"&&l.type!=="answer"?o.apply(this,[l]):(l.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(d=>o.apply(this,[d]))})}const eC=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:oc,shimAddIceCandidateNullOrEmpty:el,shimConnectionState:ic,shimMaxMessageSize:Wr,shimParameterlessSetLocalDescription:tl,shimRTCIceCandidate:Zr,shimRTCIceCandidateRelayProtocol:nc,shimSendThrowTypeError:jr},Symbol.toStringTag,{value:"Module"}));function tC({window:n}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const o=ag,s=XT(n),l={browserDetails:s,commonShim:eC,extractVersion:xs,disableLog:KT,disableWarnings:QT,sdp:jT};switch(s.browser){case"chrome":if(!sm||!ec||!e.shimChrome)return o("Chrome shim is not included in this adapter release."),l;if(s.version===null)return o("Chrome shim can not determine version, not shimming."),l;o("adapter.js shimming chrome."),l.browserShim=sm,el(n,s),tl(n),cg(n,s),fg(n),ec(n,s),dg(n),gg(n,s),pg(n),hg(n),yg(n,s),Zr(n),nc(n),ic(n),Wr(n,s),jr(n),oc(n,s);break;case"firefox":if(!rm||!tc||!e.shimFirefox)return o("Firefox shim is not included in this adapter release."),l;o("adapter.js shimming firefox."),l.browserShim=rm,el(n,s),tl(n),vg(n,s),tc(n,s),_g(n),Cg(n),Sg(n),Tg(n),xg(n),Eg(n),bg(n),Ag(n),Rg(n),Zr(n),ic(n),Wr(n,s),jr(n);break;case"safari":if(!lm||!e.shimSafari)return o("Safari shim is not included in this adapter release."),l;o("adapter.js shimming safari."),l.browserShim=lm,el(n,s),tl(n),wg(n),Lg(n),Ig(n),Ng(n),Mg(n),Ug(n),Dg(n),Pg(n),Zr(n),nc(n),Wr(n,s),jr(n),oc(n,s);break;default:o("Unsupported browser!");break}return l}const um=tC({window:typeof window>"u"?void 0:window});function Ri(n,e,o,s){Object.defineProperty(n,e,{get:o,set:s,enumerable:!0,configurable:!0})}class Gg{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const o=[],s=e.byteLength,l=Math.ceil(s/this.chunkedMTU);let u=0,d=0;for(;d<s;){const h=Math.min(s,d+this.chunkedMTU),y=e.slice(d,h),m={__peerData:this._dataCount,n:u,data:y,total:l};o.push(m),d=h,u++}return this._dataCount++,o}}}function nC(n){let e=0;for(const l of n)e+=l.byteLength;const o=new Uint8Array(e);let s=0;for(const l of n)o.set(l,s),s+=l.byteLength;return o}const Yu=um.default||um,_s=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const n=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(n)?n==="chrome"?e>=this.minChromeVersion:n==="firefox"?e>=this.minFirefoxVersion:n==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return Yu.browserDetails.browser}getVersion(){return Yu.browserDetails.version||0}isUnifiedPlanSupported(){const n=this.getBrowser(),e=Yu.browserDetails.version||0;if(n==="chrome"&&e<this.minChromeVersion)return!1;if(n==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let o,s=!1;try{o=new RTCPeerConnection,o.addTransceiver("audio"),s=!0}catch{}finally{o&&o.close()}return s}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},iC=n=>!n||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(n),zg=()=>Math.random().toString(36).slice(2),cm={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class oC extends Gg{noop(){}blobToArrayBuffer(e,o){const s=new FileReader;return s.onload=function(l){l.target&&o(l.target.result)},s.readAsArrayBuffer(e),s}binaryStringToArrayBuffer(e){const o=new Uint8Array(e.length);for(let s=0;s<e.length;s++)o[s]=e.charCodeAt(s)&255;return o.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=cm,this.browser=_s.getBrowser(),this.browserVersion=_s.getVersion(),this.pack=sg,this.unpack=og,this.supports=(function(){const o={browser:_s.isBrowserSupported(),webRTC:_s.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!o.webRTC)return o;let s;try{s=new RTCPeerConnection(cm),o.audioVideo=!0;let l;try{l=s.createDataChannel("_PEERJSTEST",{ordered:!0}),o.data=!0,o.reliable=!!l.ordered;try{l.binaryType="blob",o.binaryBlob=!_s.isIOS}catch{}}catch{}finally{l&&l.close()}}catch{}finally{s&&s.close()}return o})(),this.validateId=iC,this.randomToken=zg}}const Nt=new oC,sC="PeerJS: ";class rC{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...o){const s=[sC,...o];for(const l in s)s[l]instanceof Error&&(s[l]="("+s[l].name+") "+s[l].message);e>=3?console.log(...s):e>=2?console.warn("WARNING",...s):e>=1&&console.error("ERROR",...s)}constructor(){this._logLevel=0}}var ae=new rC,Rc={},lC=Object.prototype.hasOwnProperty,vt="~";function Rs(){}Object.create&&(Rs.prototype=Object.create(null),new Rs().__proto__||(vt=!1));function aC(n,e,o){this.fn=n,this.context=e,this.once=o||!1}function Hg(n,e,o,s,l){if(typeof o!="function")throw new TypeError("The listener must be a function");var u=new aC(o,s||n,l),d=vt?vt+e:e;return n._events[d]?n._events[d].fn?n._events[d]=[n._events[d],u]:n._events[d].push(u):(n._events[d]=u,n._eventsCount++),n}function nl(n,e){--n._eventsCount===0?n._events=new Rs:delete n._events[e]}function ht(){this._events=new Rs,this._eventsCount=0}ht.prototype.eventNames=function(){var e=[],o,s;if(this._eventsCount===0)return e;for(s in o=this._events)lC.call(o,s)&&e.push(vt?s.slice(1):s);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(o)):e};ht.prototype.listeners=function(e){var o=vt?vt+e:e,s=this._events[o];if(!s)return[];if(s.fn)return[s.fn];for(var l=0,u=s.length,d=new Array(u);l<u;l++)d[l]=s[l].fn;return d};ht.prototype.listenerCount=function(e){var o=vt?vt+e:e,s=this._events[o];return s?s.fn?1:s.length:0};ht.prototype.emit=function(e,o,s,l,u,d){var h=vt?vt+e:e;if(!this._events[h])return!1;var y=this._events[h],m=arguments.length,v,_;if(y.fn){switch(y.once&&this.removeListener(e,y.fn,void 0,!0),m){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,o),!0;case 3:return y.fn.call(y.context,o,s),!0;case 4:return y.fn.call(y.context,o,s,l),!0;case 5:return y.fn.call(y.context,o,s,l,u),!0;case 6:return y.fn.call(y.context,o,s,l,u,d),!0}for(_=1,v=new Array(m-1);_<m;_++)v[_-1]=arguments[_];y.fn.apply(y.context,v)}else{var T=y.length,E;for(_=0;_<T;_++)switch(y[_].once&&this.removeListener(e,y[_].fn,void 0,!0),m){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,o);break;case 3:y[_].fn.call(y[_].context,o,s);break;case 4:y[_].fn.call(y[_].context,o,s,l);break;default:if(!v)for(E=1,v=new Array(m-1);E<m;E++)v[E-1]=arguments[E];y[_].fn.apply(y[_].context,v)}}return!0};ht.prototype.on=function(e,o,s){return Hg(this,e,o,s,!1)};ht.prototype.once=function(e,o,s){return Hg(this,e,o,s,!0)};ht.prototype.removeListener=function(e,o,s,l){var u=vt?vt+e:e;if(!this._events[u])return this;if(!o)return nl(this,u),this;var d=this._events[u];if(d.fn)d.fn===o&&(!l||d.once)&&(!s||d.context===s)&&nl(this,u);else{for(var h=0,y=[],m=d.length;h<m;h++)(d[h].fn!==o||l&&!d[h].once||s&&d[h].context!==s)&&y.push(d[h]);y.length?this._events[u]=y.length===1?y[0]:y:nl(this,u)}return this};ht.prototype.removeAllListeners=function(e){var o;return e?(o=vt?vt+e:e,this._events[o]&&nl(this,o)):(this._events=new Rs,this._eventsCount=0),this};ht.prototype.off=ht.prototype.removeListener;ht.prototype.addListener=ht.prototype.on;ht.prefixed=vt;ht.EventEmitter=ht;Rc=ht;var Ni={};Ri(Ni,"ConnectionType",()=>oi);Ri(Ni,"PeerErrorType",()=>et);Ri(Ni,"BaseConnectionErrorType",()=>sc);Ri(Ni,"DataConnectionErrorType",()=>Nc);Ri(Ni,"SerializationType",()=>gl);Ri(Ni,"SocketEventType",()=>ii);Ri(Ni,"ServerMessageType",()=>dt);var oi=(function(n){return n.Data="data",n.Media="media",n})({}),et=(function(n){return n.BrowserIncompatible="browser-incompatible",n.Disconnected="disconnected",n.InvalidID="invalid-id",n.InvalidKey="invalid-key",n.Network="network",n.PeerUnavailable="peer-unavailable",n.SslUnavailable="ssl-unavailable",n.ServerError="server-error",n.SocketError="socket-error",n.SocketClosed="socket-closed",n.UnavailableID="unavailable-id",n.WebRTC="webrtc",n})({}),sc=(function(n){return n.NegotiationFailed="negotiation-failed",n.ConnectionClosed="connection-closed",n})({}),Nc=(function(n){return n.NotOpenYet="not-open-yet",n.MessageToBig="message-too-big",n})({}),gl=(function(n){return n.Binary="binary",n.BinaryUTF8="binary-utf8",n.JSON="json",n.None="raw",n})({}),ii=(function(n){return n.Message="message",n.Disconnected="disconnected",n.Error="error",n.Close="close",n})({}),dt=(function(n){return n.Heartbeat="HEARTBEAT",n.Candidate="CANDIDATE",n.Offer="OFFER",n.Answer="ANSWER",n.Open="OPEN",n.Error="ERROR",n.IdTaken="ID-TAKEN",n.InvalidKey="INVALID-KEY",n.Leave="LEAVE",n.Expire="EXPIRE",n})({});const Vg="1.5.5";class uC extends Rc.EventEmitter{constructor(e,o,s,l,u,d=5e3){super(),this.pingInterval=d,this._disconnected=!0,this._messagesQueue=[];const h=e?"wss://":"ws://";this._baseUrl=h+o+":"+s+l+"peerjs?key="+u}start(e,o){this._id=e;const s=`${this._baseUrl}&id=${e}&token=${o}`;this._socket||!this._disconnected||(this._socket=new WebSocket(s+"&version="+Vg),this._disconnected=!1,this._socket.onmessage=l=>{let u;try{u=JSON.parse(l.data),ae.log("Server message received:",u)}catch{ae.log("Invalid server message",l.data);return}this.emit(ii.Message,u)},this._socket.onclose=l=>{this._disconnected||(ae.log("Socket closed.",l),this._cleanup(),this._disconnected=!0,this.emit(ii.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),ae.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){ae.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:dt.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const o of e)this.send(o)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(ii.Error,"Invalid message");return}if(!this._wsOpen())return;const o=JSON.stringify(e);this._socket.send(o)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class Bg{constructor(e){this.connection=e}startConnection(e){const o=this._startPeerConnection();if(this.connection.peerConnection=o,this.connection.type===oi.Media&&e._stream&&this._addTracksToConnection(e._stream,o),e.originator){const s=this.connection,l={ordered:!!e.reliable},u=o.createDataChannel(s.label,l);s._initializeDataChannel(u),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){ae.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const o=this.connection.peer,s=this.connection.connectionId,l=this.connection.type,u=this.connection.provider;ae.log("Listening for ICE candidates."),e.onicecandidate=d=>{!d.candidate||!d.candidate.candidate||(ae.log(`Received ICE candidates for ${o}:`,d.candidate),u.socket.send({type:dt.Candidate,payload:{candidate:d.candidate,type:l,connectionId:s},dst:o}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":ae.log("iceConnectionState is failed, closing connections to "+o),this.connection.emitError(sc.NegotiationFailed,"Negotiation of connection to "+o+" failed."),this.connection.close();break;case"closed":ae.log("iceConnectionState is closed, closing connections to "+o),this.connection.emitError(sc.ConnectionClosed,"Connection to "+o+" closed."),this.connection.close();break;case"disconnected":ae.log("iceConnectionState changed to disconnected on the connection with "+o);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},ae.log("Listening for data channel"),e.ondatachannel=d=>{ae.log("Received data channel");const h=d.channel;u.getConnection(o,s)._initializeDataChannel(h)},ae.log("Listening for remote stream"),e.ontrack=d=>{ae.log("Received remote stream");const h=d.streams[0],y=u.getConnection(o,s);if(y.type===oi.Media){const m=y;this._addStreamToMediaConnection(h,m)}}}cleanup(){ae.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const o=e.signalingState!=="closed";let s=!1;const l=this.connection.dataChannel;l&&(s=!!l.readyState&&l.readyState!=="closed"),(o||s)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,o=this.connection.provider;try{const s=await e.createOffer(this.connection.options.constraints);ae.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),ae.log("Set localDescription:",s,`for:${this.connection.peer}`);let l={sdp:s,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===oi.Data){const u=this.connection;l={...l,label:u.label,reliable:u.reliable,serialization:u.serialization}}o.socket.send({type:dt.Offer,payload:l,dst:this.connection.peer})}catch(l){l!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(o.emitError(et.WebRTC,l),ae.log("Failed to setLocalDescription, ",l))}}catch(s){o.emitError(et.WebRTC,s),ae.log("Failed to createOffer, ",s)}}async _makeAnswer(){const e=this.connection.peerConnection,o=this.connection.provider;try{const s=await e.createAnswer();ae.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),ae.log("Set localDescription:",s,`for:${this.connection.peer}`),o.socket.send({type:dt.Answer,payload:{sdp:s,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(l){o.emitError(et.WebRTC,l),ae.log("Failed to setLocalDescription, ",l)}}catch(s){o.emitError(et.WebRTC,s),ae.log("Failed to create answer, ",s)}}async handleSDP(e,o){o=new RTCSessionDescription(o);const s=this.connection.peerConnection,l=this.connection.provider;ae.log("Setting remote description",o);const u=this;try{await s.setRemoteDescription(o),ae.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await u._makeAnswer()}catch(d){l.emitError(et.WebRTC,d),ae.log("Failed to setRemoteDescription, ",d)}}async handleCandidate(e){ae.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),ae.log(`Added ICE candidate for:${this.connection.peer}`)}catch(o){this.connection.provider.emitError(et.WebRTC,o),ae.log("Failed to handleCandidate, ",o)}}_addTracksToConnection(e,o){if(ae.log(`add tracks from stream ${e.id} to peer connection`),!o.addTrack)return ae.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(s=>{o.addTrack(s,e)})}_addStreamToMediaConnection(e,o){ae.log(`add stream ${e.id} to media connection ${o.connectionId}`),o.addStream(e)}}class qg extends Rc.EventEmitter{emitError(e,o){ae.error("Error:",o),this.emit("error",new cC(`${e}`,o))}}class cC extends Error{constructor(e,o){typeof o=="string"?super(o):(super(),Object.assign(this,o)),this.type=e}}class Fg extends qg{get open(){return this._open}constructor(e,o,s){super(),this.peer=e,this.provider=o,this.options=s,this._open=!1,this.metadata=s.metadata}}var Tc;const bs=class bs extends Fg{get type(){return oi.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,o,s){super(e,o,s),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||bs.ID_PREFIX+Nt.randomToken(),this._negotiator=new Bg(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ae.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{ae.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){ae.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const o=e.type,s=e.payload;switch(e.type){case dt.Answer:this._negotiator.handleSDP(o,s.sdp),this._open=!0;break;case dt.Candidate:this._negotiator.handleCandidate(s.candidate);break;default:ae.warn(`Unrecognized message type:${o} from peer:${this.peer}`);break}}answer(e,o={}){if(this._localStream){ae.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,o&&o.sdpTransform&&(this.options.sdpTransform=o.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const s=this.provider._getMessages(this.connectionId);for(const l of s)this.handleMessage(l);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};Tc=new WeakMap,gs(bs,Tc,bs.ID_PREFIX="mc_");let rl=bs;class fC{constructor(e){this._options=e}_buildRequest(e){const o=this._options.secure?"https":"http",{host:s,port:l,path:u,key:d}=this._options,h=new URL(`${o}://${s}:${l}${u}${d}/${e}`);return h.searchParams.set("ts",`${Date.now()}${Math.random()}`),h.searchParams.set("version",Vg),fetch(h.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){ae.error("Error retrieving ID",e);let o="";throw this._options.path==="/"&&this._options.host!==Nt.CLOUD_HOST&&(o=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+o)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let o="";throw this._options.host===Nt.CLOUD_HOST?o="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":o="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+o)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw ae.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}var Cc,xc;const bi=class bi extends Fg{get type(){return oi.Data}constructor(e,o,s){super(e,o,s),this.connectionId=this.options.connectionId||bi.ID_PREFIX+zg(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new Bg(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ae.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=o=>{ae.log(`DC#${this.connectionId} dc onmessage:`,o.data)},this.dataChannel.onclose=()=>{ae.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,o=!1){if(!this.open){this.emitError(Nc.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,o)}async handleMessage(e){const o=e.payload;switch(e.type){case dt.Answer:await this._negotiator.handleSDP(e.type,o.sdp);break;case dt.Candidate:await this._negotiator.handleCandidate(o.candidate);break;default:ae.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}};Cc=new WeakMap,xc=new WeakMap,gs(bi,Cc,bi.ID_PREFIX="dc_"),gs(bi,xc,bi.MAX_BUFFERED_AMOUNT=8388608);let ll=bi;class Mc extends ll{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",o=>this._handleDataMessage(o))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>ll.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(o){return ae.error(`DC#:${this.connectionId} Error when sending:`,o),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class $u extends Mc{close(e){super.close(e),this._chunkedData={}}constructor(e,o,s){super(e,o,s),this.chunker=new Gg,this.serialization=gl.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const o=og(e),s=o.__peerData;if(s){if(s.type==="close"){this.close();return}this._handleChunk(o);return}this.emit("data",o)}_handleChunk(e){const o=e.__peerData,s=this._chunkedData[o]||{data:[],count:0,total:e.total};if(s.data[e.n]=new Uint8Array(e.data),s.count++,this._chunkedData[o]=s,s.total===s.count){delete this._chunkedData[o];const l=nC(s.data);this._handleDataMessage({data:l})}}_send(e,o){const s=sg(e);if(s instanceof Promise)return this._send_blob(s);if(!o&&s.byteLength>this.chunker.chunkedMTU){this._sendChunks(s);return}this._bufferedSend(s)}async _send_blob(e){const o=await e;if(o.byteLength>this.chunker.chunkedMTU){this._sendChunks(o);return}this._bufferedSend(o)}_sendChunks(e){const o=this.chunker.chunk(e);ae.log(`DC#${this.connectionId} Try to send ${o.length} chunks...`);for(const s of o)this.send(s,!0)}}class dC extends Mc{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,o){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=gl.None}}class pC extends Mc{_handleDataMessage({data:e}){const o=this.parse(this.decoder.decode(e)),s=o.__peerData;if(s&&s.type==="close"){this.close();return}this.emit("data",o)}_send(e,o){const s=this.encoder.encode(this.stringify(e));if(s.byteLength>=Nt.chunkedMTU){this.emitError(Nc.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(s)}constructor(...e){super(...e),this.serialization=gl.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var Ec;const As=class As extends qg{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[o,s]of this._connections)e[o]=s;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,o){super(),this._serializers={raw:dC,json:pC,binary:$u,"binary-utf8":$u,default:$u},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let s;if(e&&e.constructor==Object?o=e:e&&(s=e.toString()),o={debug:0,host:Nt.CLOUD_HOST,port:Nt.CLOUD_PORT,path:"/",key:As.DEFAULT_KEY,token:Nt.randomToken(),config:Nt.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...o},this._options=o,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Nt.CLOUD_HOST?this._options.secure=Nt.isSecure():this._options.host==Nt.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&ae.setLogFunction(this._options.logFunction),ae.logLevel=this._options.debug||0,this._api=new fC(o),this._socket=this._createServerConnection(),!Nt.supports.audioVideo&&!Nt.supports.data){this._delayedAbort(et.BrowserIncompatible,"The current browser does not support WebRTC");return}if(s&&!Nt.validateId(s)){this._delayedAbort(et.InvalidID,`ID "${s}" is invalid`);return}s?this._initialize(s):this._api.retrieveId().then(l=>this._initialize(l)).catch(l=>this._abort(et.ServerError,l))}_createServerConnection(){const e=new uC(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(ii.Message,o=>{this._handleMessage(o)}),e.on(ii.Error,o=>{this._abort(et.SocketError,o)}),e.on(ii.Disconnected,()=>{this.disconnected||(this.emitError(et.Network,"Lost connection to server."),this.disconnect())}),e.on(ii.Close,()=>{this.disconnected||this._abort(et.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const o=e.type,s=e.payload,l=e.src;switch(o){case dt.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case dt.Error:this._abort(et.ServerError,s.msg);break;case dt.IdTaken:this._abort(et.UnavailableID,`ID "${this.id}" is taken`);break;case dt.InvalidKey:this._abort(et.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case dt.Leave:ae.log(`Received leave message from ${l}`),this._cleanupPeer(l),this._connections.delete(l);break;case dt.Expire:this.emitError(et.PeerUnavailable,`Could not connect to peer ${l}`);break;case dt.Offer:{const u=s.connectionId;let d=this.getConnection(l,u);if(d&&(d.close(),ae.warn(`Offer received for existing Connection ID:${u}`)),s.type===oi.Media){const y=new rl(l,this,{connectionId:u,_payload:s,metadata:s.metadata});d=y,this._addConnection(l,d),this.emit("call",y)}else if(s.type===oi.Data){const y=new this._serializers[s.serialization](l,this,{connectionId:u,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});d=y,this._addConnection(l,d),this.emit("connection",y)}else{ae.warn(`Received malformed connection type:${s.type}`);return}const h=this._getMessages(u);for(const y of h)d.handleMessage(y);break}default:{if(!s){ae.warn(`You received a malformed message from ${l} of type ${o}`);return}const u=s.connectionId,d=this.getConnection(l,u);d&&d.peerConnection?d.handleMessage(e):u?this._storeMessage(u,e):ae.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,o){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(o)}_getMessages(e){const o=this._lostMessages.get(e);return o?(this._lostMessages.delete(e),o):[]}connect(e,o={}){if(o={serialization:"default",...o},this.disconnected){ae.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(et.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const s=new this._serializers[o.serialization](e,this,o);return this._addConnection(e,s),s}call(e,o,s={}){if(this.disconnected){ae.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(et.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!o){ae.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const l=new rl(e,this,{...s,_stream:o});return this._addConnection(e,l),l}_addConnection(e,o){ae.log(`add connection ${o.type}:${o.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(o)}_removeConnection(e){const o=this._connections.get(e.peer);if(o){const s=o.indexOf(e);s!==-1&&o.splice(s,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,o){const s=this._connections.get(e);if(!s)return null;for(const l of s)if(l.connectionId===o)return l;return null}_delayedAbort(e,o){setTimeout(()=>{this._abort(e,o)},0)}_abort(e,o){ae.error("Aborting!"),this.emitError(e,o),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(ae.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const o=this._connections.get(e);if(o)for(const s of o)s.close()}disconnect(){if(this.disconnected)return;const e=this.id;ae.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)ae.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)ae.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=o=>{}){this._api.listAllPeers().then(o=>e(o)).catch(o=>this._abort(et.ServerError,o))}};Ec=new WeakMap,gs(As,Ec,As.DEFAULT_KEY="peerjs");let rc=As;var Jg=rc;const hC=()=>{const n="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let o=0;o<4;o++)e+=n.charAt(Math.floor(Math.random()*n.length));return e},fm=["Happy","Lucky","Sunny","Cool","Super","Mega","Hyper","Swift","Brave","Clever","Neon","Turbo","Epic","Wild","Cosmic","Funky","Retro","Magic"],dm=["Panda","Tiger","Eagle","Rocket","Wizard","Ninja","Star","Comet","Dragon","Fox","Wolf","Bear","Falcon","Rider","Hero","Pixel","Ghost","Cat"],mC=()=>{const n=fm[Math.floor(Math.random()*fm.length)],e=dm[Math.floor(Math.random()*dm.length)],o=Math.floor(Math.random()*99)+1;return`${n}${e}${o}`},Ku=[{id:"zen",name:"Zen Garden",melody:[261.63,329.63,392,493.88],tempo:.6,oscType:"sine",gain:1},{id:"retro",name:"8-Bit Rush",melody:[440,523.25,659.25,783.99,523.25,659.25],tempo:.25,oscType:"square",gain:.25},{id:"tension",name:"Deep Space",melody:[146.83,155.56,146.83,196],tempo:1,oscType:"triangle",gain:.6},{id:"cyber",name:"Neon Drive",melody:[220,277.18,329.63,277.18,440,329.63],tempo:.2,oscType:"sawtooth",gain:.25},{id:"funky",name:"Funky Town",melody:[392,392,440,392,523.25,493.88],tempo:.3,oscType:"square",gain:.25},{id:"mystery",name:"Mystery Solver",melody:[440,466.16,587.33,466.16],tempo:.7,oscType:"triangle",gain:.6},{id:"happy",name:"Happy Vibes",melody:[523.25,587.33,659.25,523.25,659.25,783.99],tempo:.3,oscType:"sine",gain:1},{id:"action",name:"Action Hero",melody:[110,110,146.83,110,164.81,146.83],tempo:.15,oscType:"sawtooth",gain:.25},{id:"digital",name:"Digital Rain",melody:[659.25,587.33,523.25,493.88,440,392],tempo:.12,oscType:"sine",gain:.9}];class gC{constructor(){this.ctx=null,this.masterGain=null,this.isMuted=!1,this.volume=.5,this.isPlayingMusic=!1,this.nextNoteTime=0,this.timerID=null,this.melodyIndex=0,this.currentTrack=Ku[0]}init(){this.ctx||(this.ctx=new(window.AudioContext||window.webkitAudioContext),this.masterGain=this.ctx.createGain(),this.masterGain.connect(this.ctx.destination),this.updateGain()),this.ctx.state==="suspended"&&this.ctx.resume().catch(e=>console.error("Audio resume failed",e))}setVolume(e){this.volume=Math.max(0,Math.min(1,e)),this.updateGain()}getVolume(){return this.volume}toggleMute(){var e;return this.isMuted=!this.isMuted,this.updateGain(),((e=this.ctx)==null?void 0:e.state)==="suspended"&&this.ctx.resume(),this.isMuted}updateGain(){if(this.masterGain&&this.ctx){const e=this.isMuted?0:this.volume;this.masterGain.gain.setTargetAtTime(e,this.ctx.currentTime,.1)}}getTracks(){return Ku.map(e=>({id:e.id,name:e.name}))}getCurrentTrackId(){return this.currentTrack.id}setTrack(e){const o=Ku.find(s=>s.id===e);o&&(this.currentTrack=o,this.melodyIndex=0)}startMusic(){this.isPlayingMusic||(this.init(),this.isPlayingMusic=!0,this.melodyIndex=0,this.ctx&&(this.nextNoteTime=this.ctx.currentTime+.1,this.scheduleNote()))}stopMusic(){this.isPlayingMusic=!1,this.timerID&&window.clearTimeout(this.timerID)}scheduleNote(){if(!this.ctx||!this.masterGain||!this.isPlayingMusic)return;const e=this.currentTrack.tempo,o=25,s=.1;for(;this.nextNoteTime<this.ctx.currentTime+s;)this.playMusicNote(this.nextNoteTime),this.nextNoteTime+=e;this.timerID=window.setTimeout(()=>this.scheduleNote(),o)}playMusicNote(e){if(!this.ctx||!this.masterGain)return;const o=this.ctx.createOscillator(),s=this.ctx.createGain();o.connect(s),s.connect(this.masterGain);const l=this.currentTrack.melody,u=l[this.melodyIndex%l.length],d=Math.random()>.8?2:1;o.frequency.value=u/d,o.type=this.currentTrack.oscType;const h=this.currentTrack.tempo*.8;o.start(e),o.stop(e+h);const y=.4*this.currentTrack.gain;s.gain.setValueAtTime(0,e),s.gain.linearRampToValueAtTime(y,e+h*.1),s.gain.linearRampToValueAtTime(0,e+h),this.melodyIndex++}playJoin(){this.playTone(600,"sine",.1),setTimeout(()=>this.playTone(800,"sine",.2),100)}playStart(){this.playTone(400,"square",.1),setTimeout(()=>this.playTone(600,"square",.1),100),setTimeout(()=>this.playTone(1e3,"square",.4),200)}playTick(){this.playTone(800,"triangle",.05,.2)}playTickUrgent(){this.playTone(1200,"sawtooth",.05,.2)}playCorrect(){this.playTone(600,"sine",.1),setTimeout(()=>this.playTone(1200,"sine",.1),100),setTimeout(()=>this.playTone(1800,"sine",.4),200)}playWrong(){this.playTone(200,"sawtooth",.2),setTimeout(()=>this.playTone(150,"sawtooth",.4),150)}playGameOver(){this.playTone(500,"sine",.2),setTimeout(()=>this.playTone(400,"sine",.2),200),setTimeout(()=>this.playTone(300,"sine",.2),400),setTimeout(()=>this.playTone(600,"square",.8),600)}playTone(e,o,s,l=.3){if(this.isMuted||(this.init(),!this.ctx||!this.masterGain))return;const u=this.ctx.createOscillator(),d=this.ctx.createGain();u.type=o,u.frequency.setValueAtTime(e,this.ctx.currentTime),u.connect(d),d.connect(this.masterGain),d.gain.setValueAtTime(l,this.ctx.currentTime),d.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+s),u.start(),u.stop(this.ctx.currentTime+s)}}const ni=new gC,yC={indigo:{bg:"bg-indigo-100 dark:bg-indigo-500/20",border:"border-indigo-500",text:"text-indigo-600 dark:text-indigo-300"},red:{bg:"bg-red-100 dark:bg-red-500/20",border:"border-red-500",text:"text-red-600 dark:text-red-300"},orange:{bg:"bg-orange-100 dark:bg-orange-500/20",border:"border-orange-500",text:"text-orange-600 dark:text-orange-300"},green:{bg:"bg-emerald-100 dark:bg-emerald-500/20",border:"border-emerald-500",text:"text-emerald-600 dark:text-emerald-300"},teal:{bg:"bg-teal-100 dark:bg-teal-500/20",border:"border-teal-500",text:"text-teal-600 dark:text-teal-300"},blue:{bg:"bg-blue-100 dark:bg-blue-500/20",border:"border-blue-500",text:"text-blue-600 dark:text-blue-300"},purple:{bg:"bg-purple-100 dark:bg-purple-500/20",border:"border-purple-500",text:"text-purple-600 dark:text-purple-300"},pink:{bg:"bg-pink-100 dark:bg-pink-500/20",border:"border-pink-500",text:"text-pink-600 dark:text-pink-300"}},vC=({onBack:n,quiz:e})=>{var be,qe;const[o,s]=oe.useState(""),[l,u]=oe.useState([]),[d,h]=oe.useState(!1),[y,m]=oe.useState("LOBBY"),[v,_]=oe.useState(0),[T,E]=oe.useState(0),[D,P]=oe.useState(0),[L,G]=oe.useState({}),j=oe.useRef(null),$=oe.useRef(new Map),W=oe.useRef(null),ee=e.questions;oe.useEffect(()=>{ni.startMusic();const R=hC();s(R);const q=new Jg(`QWIZ-${R}`,{debug:1,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"}]}});return j.current=q,q.on("open",()=>h(!0)),q.on("connection",Z=>{$.current.set(Z.peer,Z),Z.on("data",ce=>{const pe=ce;pe.type==="JOIN"?(u(A=>[...A,{id:Z.peer,name:pe.name,avatar:pe.avatar,theme:pe.theme,joinedAt:Date.now(),score:0,streak:0,coins:200}]),ni.playJoin()):pe.type==="VOTE"&&(G(A=>({...A,[Z.peer]:{answer:pe.answer,timestamp:Date.now()}})),ni.playJoin())})}),()=>{q.destroy(),ni.stopMusic()}},[]);const le=()=>{try{const R=new URL(window.location.href);return R.search="",R.searchParams.set("join",o),R.toString()}catch{return`${window.location.protocol}//${window.location.host}${window.location.pathname}?join=${o}`}},Q=R=>{navigator.clipboard.writeText(R),ni.playJoin()},ve=()=>{m("PLAYING"),ie(0)},ie=R=>{const q=ee[R],Z=Date.now();E(q.timeLimit||20),P(Z),_(R),G({}),$.current.forEach(ce=>ce.send({type:"GAME_START",question:q,currentQuestion:R+1,totalQuestions:ee.length,startTime:Z})),W.current&&clearInterval(W.current),W.current=window.setInterval(()=>{E(ce=>ce<=1?(ne(),0):ce-1)},1e3)},ne=()=>{W.current&&clearInterval(W.current),m("REVEAL");const R=ee[v];let q=1/0,Z=null;Object.entries(L).forEach(([pe,A])=>{let z=!1;R.type==="MC"||R.type==="TRUE_FALSE"?z=A.answer===R.correctOptionId:R.type==="OPEN_ENDED"?z=String(A.answer).trim().toLowerCase()===String(R.correctAnswer).trim().toLowerCase():R.type==="SLIDER"&&(z=Math.abs(Number(A.answer)-(R.correctValue||0))<1),z&&A.timestamp<q&&(q=A.timestamp,Z=pe)});const ce=l.map(pe=>{const A=L[pe.id];let z=0,M=!1;if(A){if(R.type==="MC"||R.type==="TRUE_FALSE")M=A.answer===R.correctOptionId;else if(R.type==="OPEN_ENDED")M=String(A.answer).trim().toLowerCase()===String(R.correctAnswer).trim().toLowerCase();else if(R.type==="SLIDER"){const F=(R.max||100)-(R.min||0),J=Math.abs(Number(A.answer)-(R.correctValue||0)),se=Math.max(0,1-J/F);z=Math.round(se*1e3),se>.95&&(M=!0)}if(M&&R.type!=="SLIDER"){const F=(R.timeLimit||20)*1e3,J=A.timestamp-D,se=Math.max(0,500*(1-J/F));z=Math.round(500+se)}}const Y=M?pe.streak+1:0,K=Math.min(Y,5)*100,X=M?z+K:0;return{...pe,score:pe.score+X,streak:Y,coins:pe.coins+(M?50:10)}});u(ce),ce.forEach(pe=>{var M,Y;const A=$.current.get(pe.id),z=[];pe.id===Z&&z.push("SPEED_DEMON"),pe.streak>=3&&z.push("ON_FIRE"),A&&A.send({type:"RESULT",score:pe.score,correctOptionId:R.correctOptionId,correctText:R.type==="OPEN_ENDED"?R.correctAnswer||"":((Y=(M=R.options)==null?void 0:M.find(K=>K.id===R.correctOptionId))==null?void 0:Y.text)||String(R.correctValue||""),correctValue:R.correctValue,coins:pe.coins,streak:pe.streak,coinsEarned:he(pe.id,R)?50:10,badges:z,rank:[...ce].sort((K,X)=>X.score-K.score).findIndex(K=>K.id===pe.id)+1,roundStats:{totalPlayers:l.length,correctCount:0,voteDistribution:{}}})}),ni.playCorrect()},he=(R,q)=>{const Z=L[R];return Z?q.type==="MC"||q.type==="TRUE_FALSE"?Z.answer===q.correctOptionId:q.type==="OPEN_ENDED"?String(Z.answer).trim().toLowerCase()===String(q.correctAnswer).trim().toLowerCase():q.type==="SLIDER"?Math.abs(Number(Z.answer)-(q.correctValue||0))<1:!1:!1},ge=()=>{v<ee.length-1?(m("PLAYING"),ie(v+1)):(m("GAME_OVER"),[...l].sort((q,Z)=>Z.score-q.score).forEach((q,Z)=>{var ce;return(ce=$.current.get(q.id))==null?void 0:ce.send({type:"GAME_OVER",rank:Z+1,score:q.score})}))};if(y==="LOBBY"){const R=le(),q=d?`https://api.qrserver.com/v1/create-qr-code/?size=400x400&data=${encodeURIComponent(R)}`:"";return C.jsxs("div",{className:"min-h-screen p-8 flex flex-col items-center bg-indigo-50 dark:bg-slate-900 transition-colors",children:[C.jsxs("div",{className:"w-full flex justify-between mb-8",children:[C.jsx("button",{onClick:n,className:"text-slate-500 hover:text-red-500 transition-colors",children:" Quit Lobby"}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(GT,{className:`w-5 h-5 ${d?"text-green-500":"text-yellow-500 animate-pulse"}`}),C.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:d?"Server Online":"Connecting..."})]})]}),C.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-8 md:gap-16 w-full max-w-5xl mb-12",children:[C.jsx("div",{className:"bg-white p-6 rounded-[2.5rem] shadow-2xl animate-pop border border-slate-100",children:d?C.jsx("img",{src:q,alt:"Join QR",className:"w-64 h-64 md:w-80 md:h-80 mix-blend-multiply"}):C.jsx("div",{className:"w-64 h-64 md:w-80 md:h-80 flex items-center justify-center",children:C.jsx(sl,{className:"w-12 h-12 animate-spin text-indigo-500"})})}),C.jsxs("div",{className:"flex flex-col gap-6 text-center md:text-left",children:[C.jsxs("div",{className:"space-y-1",children:[C.jsx("p",{className:"text-slate-400 text-xs font-black uppercase tracking-[0.2em]",children:"Game Code"}),C.jsxs("div",{onClick:()=>Q(o),className:"cursor-pointer group bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-xl border-2 border-transparent hover:border-indigo-500 transition-all",children:[C.jsx("h2",{className:"text-7xl font-mono font-black tracking-widest text-slate-900 dark:text-white group-hover:scale-105 transition-transform",children:o}),C.jsxs("div",{className:"flex items-center justify-center gap-2 text-indigo-500 text-xs font-bold mt-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[C.jsx(eg,{className:"w-3 h-3"})," Tap to copy code"]})]})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("p",{className:"text-slate-400 text-xs font-black uppercase tracking-[0.2em]",children:"Join Link"}),C.jsxs("div",{onClick:()=>Q(R),className:"cursor-pointer group flex items-center gap-3 bg-white/50 dark:bg-slate-800/50 p-3 rounded-xl border border-slate-200 dark:border-slate-700 hover:bg-white transition-colors",children:[C.jsx(tg,{className:"w-4 h-4 text-indigo-500"}),C.jsx("code",{className:"text-xs text-slate-500 truncate max-w-[200px]",children:R})]})]})]})]}),C.jsxs("div",{className:"w-full max-w-5xl mb-32",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[C.jsx(UT,{className:"w-6 h-6 text-indigo-500"}),C.jsxs("h2",{className:"text-2xl font-black text-slate-900 dark:text-white",children:["Players ",C.jsxs("span",{className:"text-slate-400 ml-1",children:["(",l.length,")"]})]})]}),C.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4",children:[l.map(Z=>{const ce=yC[Z.theme||"indigo"];return C.jsxs("div",{className:`p-4 rounded-2xl animate-pop ${ce.bg} border ${ce.border} text-center flex flex-col items-center gap-1 shadow-sm`,children:[C.jsx("div",{className:"text-4xl",children:Z.avatar}),C.jsx("div",{className:`font-bold text-sm truncate w-full ${ce.text}`,children:Z.name})]},Z.id)}),l.length===0&&C.jsx("div",{className:"col-span-full py-12 text-center text-slate-400 border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-3xl",children:"Waiting for challengers to join..."})]})]}),C.jsx("div",{className:"fixed bottom-8 w-full max-w-md px-6",children:C.jsxs("button",{onClick:ve,disabled:l.length===0,className:"w-full py-5 bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 text-white font-black rounded-[2rem] text-xl shadow-2xl shadow-indigo-500/40 transition-all active:scale-95 flex items-center justify-center gap-3",children:[C.jsx(ng,{className:"w-6 h-6 fill-current"})," START GAME"]})})]})}if(y==="GAME_OVER"){const R=[...l].sort((q,Z)=>Z.score-q.score).slice(0,3);return C.jsxs("div",{className:"min-h-screen flex flex-col items-center pt-12 px-6 bg-indigo-50 dark:bg-slate-900 overflow-hidden",children:[C.jsx("h1",{className:"text-6xl md:text-8xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-500 mb-12 animate-pop",children:"Final Results"}),C.jsxs("div",{className:"flex items-end justify-center w-full max-w-5xl gap-4 md:gap-8 h-[450px]",children:[R[1]&&C.jsxs("div",{className:"flex flex-col items-center flex-1 max-w-[200px] animate-[slideUp_0.8s_ease-out_0.2s_forwards] opacity-0 translate-y-20",children:[C.jsxs("div",{className:"text-center mb-4",children:[C.jsx("div",{className:"text-5xl mb-2",children:R[1].avatar}),C.jsx("div",{className:"font-bold text-lg truncate w-full dark:text-white",children:R[1].name}),C.jsxs("div",{className:"text-slate-500 font-mono font-bold",children:[R[1].score," pts"]})]}),C.jsx("div",{className:"w-full h-40 bg-gradient-to-t from-slate-300 to-slate-400 rounded-t-2xl flex items-center justify-center border-t-4 border-slate-200 shadow-xl relative overflow-hidden",children:C.jsx("span",{className:"text-7xl font-black text-white/20 select-none",children:"2"})})]}),R[0]&&C.jsxs("div",{className:"flex flex-col items-center flex-1 max-w-[250px] z-10 animate-[slideUp_0.8s_ease-out_forwards] translate-y-20",children:[C.jsxs("div",{className:"text-center mb-6 relative",children:[C.jsx(ml,{className:"w-12 h-12 text-yellow-400 absolute -top-12 left-1/2 -translate-x-1/2 animate-bounce"}),C.jsx("div",{className:"text-7xl mb-2",children:R[0].avatar}),C.jsx("div",{className:"font-black text-2xl truncate w-full dark:text-white",children:R[0].name}),C.jsxs("div",{className:"text-yellow-600 font-black text-xl",children:[R[0].score," pts"]})]}),C.jsx("div",{className:"w-full h-64 bg-gradient-to-t from-yellow-400 to-yellow-500 rounded-t-3xl flex items-center justify-center border-t-4 border-yellow-200 shadow-[0_0_50px_rgba(250,204,21,0.3)] relative overflow-hidden",children:C.jsx("span",{className:"text-9xl font-black text-white/20 select-none",children:"1"})})]}),R[2]&&C.jsxs("div",{className:"flex flex-col items-center flex-1 max-w-[200px] animate-[slideUp_0.8s_ease-out_0.4s_forwards] opacity-0 translate-y-20",children:[C.jsxs("div",{className:"text-center mb-4",children:[C.jsx("div",{className:"text-5xl mb-2",children:R[2].avatar}),C.jsx("div",{className:"font-bold text-lg truncate w-full dark:text-white",children:R[2].name}),C.jsxs("div",{className:"text-slate-500 font-mono font-bold",children:[R[2].score," pts"]})]}),C.jsx("div",{className:"w-full h-32 bg-gradient-to-t from-amber-600 to-amber-700 rounded-t-2xl flex items-center justify-center border-t-4 border-amber-500 shadow-xl relative overflow-hidden",children:C.jsx("span",{className:"text-6xl font-black text-white/20 select-none",children:"3"})})]})]}),C.jsx("button",{onClick:n,className:"mt-16 px-10 py-4 bg-white dark:bg-slate-800 text-indigo-600 dark:text-white rounded-2xl font-black shadow-lg hover:scale-105 transition-transform",children:"Back to Dashboard"}),C.jsx("style",{children:"@keyframes slideUp { to { transform: translateY(0); opacity: 1; } }"})]})}const fe=ee[v];return C.jsxs("div",{className:"min-h-screen p-8 bg-indigo-50 dark:bg-slate-900 flex flex-col items-center",children:[C.jsxs("div",{className:"w-full flex justify-between items-center mb-12",children:[C.jsxs("div",{className:"bg-white dark:bg-slate-800 px-4 py-2 rounded-xl font-bold dark:text-white",children:["Q",v+1,"/",ee.length]}),C.jsxs("div",{className:`text-4xl font-black dark:text-white ${T<=5?"text-red-500 animate-pulse":""}`,children:[T,"s"]}),C.jsxs("div",{className:"bg-indigo-600 text-white px-4 py-2 rounded-xl font-bold",children:[Object.keys(L).length," Answers"]})]}),C.jsx("h1",{className:"text-5xl font-black text-center mb-12 dark:text-white",children:fe.text}),y==="REVEAL"?C.jsxs("div",{className:"w-full max-w-2xl bg-green-500 p-8 rounded-3xl text-center shadow-2xl animate-pop",children:[C.jsx("p",{className:"text-white/60 text-sm font-bold uppercase tracking-widest mb-2",children:"The Correct Answer is"}),C.jsx("h2",{className:"text-4xl font-black text-white",children:fe.type==="MC"||fe.type==="TRUE_FALSE"?(qe=(be=fe.options)==null?void 0:be.find(R=>R.id===fe.correctOptionId))==null?void 0:qe.text:fe.type==="SLIDER"?fe.correctValue:fe.correctAnswer}),C.jsx("button",{onClick:ge,className:"mt-8 px-10 py-3 bg-white text-green-600 font-black rounded-xl hover:scale-105 transition-transform",children:"CONTINUE"})]}):C.jsx("div",{className:"flex flex-wrap justify-center gap-4 max-w-4xl",children:l.map(R=>C.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-2xl transition-all duration-500 ${L[R.id]?"bg-emerald-500 scale-110 shadow-lg":"bg-slate-300 opacity-30"}`,children:L[R.id]?C.jsx(j0,{className:"text-white"}):R.avatar},R.id))})]})},pm=["","","","","","","","","","","","","","","",""],hm=[{id:"indigo",color:"bg-indigo-500"},{id:"red",color:"bg-red-500"},{id:"orange",color:"bg-orange-500"},{id:"green",color:"bg-emerald-500"},{id:"blue",color:"bg-blue-500"},{id:"purple",color:"bg-purple-500"}],_C=({onBack:n})=>{var K,X,F;const[e,o]=oe.useState("LOBBY"),[s,l]=oe.useState(""),[u,d]=oe.useState(pm[0]),[h,y]=oe.useState(hm[0].id),[m,v]=oe.useState(""),[_,T]=oe.useState(null),[E,D]=oe.useState(!1),[P,L]=oe.useState(!1),[G,j]=oe.useState(null),[$,W]=oe.useState(null),[ee,le]=oe.useState(""),[Q,ve]=oe.useState(0),[ie,ne]=oe.useState(200),[he,ge]=oe.useState(null),[fe,be]=oe.useState(null),[qe,R]=oe.useState(0),q=oe.useRef(null),Z=oe.useRef(null),ce=oe.useRef(null),[pe,A]=oe.useState(!1);oe.useEffect(()=>{const se=new URLSearchParams(window.location.search).get("join");return se&&(v(se.toUpperCase().trim()),L(!0)),l(mC()),()=>{var Je;(Je=q.current)==null||Je.destroy(),ce.current&&clearInterval(ce.current)}},[]);const z=J=>{J.preventDefault();const se=m.trim().toUpperCase();if(!s.trim()||se.length!==4)return T("Enter name and code.");q.current&&q.current.destroy(),D(!0),T(null);const Je=`QWIZ-PLY-${Math.random().toString(36).substr(2,9)}`,st=new Jg(Je,{debug:1,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"}]}});q.current=st,st.on("open",()=>{const Mt=`QWIZ-${se}`,ze=st.connect(Mt,{reliable:!0});Z.current=ze;const Fe=setTimeout(()=>{ze.open||z(J)},6e3);ze.on("open",()=>{clearTimeout(Fe),ze.send({type:"JOIN",name:s.trim(),avatar:u,theme:h}),o("LOBBY"),D(!1)}),ze.on("data",In=>{const St=In;switch(St.type){case"GAME_START":j(St.question),o("ANSWERING"),W(null),le(""),ve(St.question.min||0),ge(null),R(St.question.timeLimit||20),ce.current&&clearInterval(ce.current),ce.current=window.setInterval(()=>{R(Ns=>Ns>0?Ns-1:0)},1e3);break;case"RESULT":ce.current&&clearInterval(ce.current),ne(St.coins),ge(St),o("RESULT");break;case"GAME_OVER":be({rank:St.rank,score:St.score}),o("GAME_OVER");break;case"KICK":o("KICKED");break}}),ze.on("close",()=>{e!=="GAME_OVER"&&(T("Dropped. Re-Join."),D(!1))})}),st.on("error",()=>{D(!1),T("Error. Try again.")})},M=J=>{var se;(se=Z.current)!=null&&se.open&&(Z.current.send({type:"VOTE",answer:J}),W(J),o("SUBMITTED"))},Y=()=>{if(!he||!G)return!1;const J=$;return G.type==="MC"||G.type==="TRUE_FALSE"?J===he.correctOptionId:G.type==="OPEN_ENDED"?String(J).trim().toLowerCase()===String(he.correctText).trim().toLowerCase():G.type==="SLIDER"?Math.abs(Number(J)-(he.correctValue||0))<1:!1};if(e==="ANSWERING"&&G)return C.jsxs("div",{className:"h-screen w-full flex flex-col p-4 bg-indigo-50 dark:bg-slate-900",children:[C.jsxs("div",{className:"flex justify-between items-center mb-4",children:[C.jsxs("div",{className:"bg-yellow-400/20 text-yellow-600 px-3 py-1 rounded-full text-sm font-bold flex items-center gap-1",children:[C.jsx(XS,{className:"w-4 h-4"})," ",ie]}),C.jsxs("div",{className:"text-indigo-600 dark:text-indigo-400 font-black text-xl",children:[qe,"s"]})]}),C.jsx("div",{className:"mb-6 flex-1 flex items-center justify-center p-6 bg-white dark:bg-slate-800 rounded-2xl shadow-xl",children:C.jsx("p",{className:"text-slate-900 dark:text-white text-center font-bold text-2xl leading-tight",children:G.text})}),C.jsxs("div",{className:"space-y-4 pb-8",children:[G.type==="MC"&&C.jsx("div",{className:"grid grid-cols-1 gap-3",children:(K=G.options)==null?void 0:K.map(J=>C.jsx("button",{onClick:()=>M(J.id),className:`py-5 rounded-xl text-white font-bold text-xl shadow-lg active:scale-95 transition-all ${J.color==="red"?"bg-red-500":J.color==="blue"?"bg-blue-500":J.color==="green"?"bg-emerald-500":"bg-yellow-500"}`,children:J.text},J.id))}),G.type==="TRUE_FALSE"&&C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsx("button",{onClick:()=>M("true"),className:"bg-blue-600 py-10 rounded-2xl text-2xl font-black text-white active:scale-95",children:"TRUE"}),C.jsx("button",{onClick:()=>M("false"),className:"bg-red-600 py-10 rounded-2xl text-2xl font-black text-white active:scale-95",children:"FALSE"})]}),G.type==="OPEN_ENDED"&&C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"text",value:ee,onChange:J=>le(J.target.value),placeholder:"Type your answer...",className:"flex-1 px-4 py-4 rounded-xl border-2 border-indigo-200 outline-none focus:border-indigo-500 text-lg",autoFocus:!0}),C.jsx("button",{onClick:()=>M(ee),className:"p-4 bg-indigo-600 text-white rounded-xl",children:C.jsx(TT,{})})]}),G.type==="SLIDER"&&C.jsxs("div",{className:"space-y-6 px-4",children:[C.jsx("div",{className:"text-center text-4xl font-black text-indigo-600",children:Q}),C.jsx("input",{type:"range",min:G.min,max:G.max,step:G.step||1,value:Q,onChange:J=>ve(Number(J.target.value)),className:"w-full h-4 bg-indigo-200 rounded-lg appearance-none cursor-pointer accent-indigo-600"}),C.jsx("button",{onClick:()=>M(Q),className:"w-full py-4 bg-indigo-600 text-white font-bold rounded-xl shadow-lg",children:"Submit Guess"})]})]})]});if(e==="RESULT"&&he){const J=Y();return J?ni.playCorrect():ni.playWrong(),C.jsxs("div",{className:`min-h-screen flex flex-col items-center justify-center p-6 text-center transition-colors duration-500 ${J?"bg-green-600":"bg-red-600"}`,children:[C.jsx("div",{className:"bg-white/20 p-8 rounded-full mb-6 backdrop-blur-md animate-pop",children:J?C.jsx(GS,{className:"w-20 h-20 text-white"}):C.jsx(BS,{className:"w-20 h-20 text-white"})}),C.jsx("h1",{className:"text-5xl font-black text-white mb-2",children:J?"YES!":"NO!"}),C.jsxs("p",{className:"text-white/80 text-xl mb-4",children:["Score: ",he.score]}),C.jsxs("div",{className:"bg-black/20 p-6 rounded-2xl w-full max-w-sm backdrop-blur-lg",children:[C.jsx("p",{className:"text-white/60 text-xs uppercase font-black mb-1",children:"Correct Answer"}),C.jsx("p",{className:"text-white text-2xl font-bold",children:he.correctText||"???"})]})]})}return e==="GAME_OVER"&&fe?C.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 text-center bg-indigo-50 dark:bg-slate-900",children:[C.jsx(ml,{className:`w-24 h-24 mb-6 ${fe.rank===1?"text-yellow-500 animate-bounce":"text-slate-400"}`}),C.jsx("h1",{className:"text-4xl font-bold mb-2 dark:text-white",children:"Game Over!"}),C.jsxs("div",{className:"text-9xl font-black text-indigo-600 mb-8",children:["#",fe.rank]}),C.jsx("button",{onClick:()=>window.location.reload(),className:"px-8 py-3 bg-slate-800 text-white rounded-xl font-bold",children:"New Game"})]}):e==="LOBBY"&&!E&&((X=Z.current)!=null&&X.open)?C.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 text-center bg-indigo-50 dark:bg-slate-900",children:[C.jsxs("div",{className:`mb-8 p-10 rounded-[3rem] shadow-2xl ${((F=hm.find(J=>J.id===h))==null?void 0:F.color)||"bg-indigo-500"} text-white animate-pop`,children:[C.jsx("div",{className:"text-9xl mb-4",children:u}),C.jsx("div",{className:"font-bold text-3xl",children:s})]}),C.jsx("h2",{className:"text-3xl font-black mb-2 dark:text-white",children:"You're In!"}),C.jsx("p",{className:"text-slate-500 text-lg",children:"Watch the Host screen..."})]}):C.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-indigo-50 dark:bg-slate-900",children:C.jsxs("div",{className:"w-full max-w-md",children:[C.jsx("button",{onClick:n,className:"text-slate-500 mb-8",children:" Back"}),C.jsx("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-3xl shadow-2xl",children:C.jsxs("form",{onSubmit:z,className:"space-y-6",children:[C.jsx("div",{className:"text-center",children:C.jsx("h1",{className:"text-3xl font-black mb-2 dark:text-white",children:"Join Quiz"})}),C.jsx("div",{className:"grid grid-cols-4 gap-2 bg-slate-50 dark:bg-slate-900/50 p-3 rounded-2xl",children:pm.slice(0,12).map(J=>C.jsx("button",{type:"button",onClick:()=>d(J),className:`aspect-square flex items-center justify-center text-2xl rounded-xl transition-all ${u===J?"bg-white dark:bg-slate-700 shadow-md ring-2 ring-indigo-500":"opacity-40"}`,children:J},J))}),C.jsxs("div",{className:"space-y-4",children:[C.jsx("input",{type:"text",value:s,onChange:J=>l(J.target.value),placeholder:"Display Name",className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl outline-none text-slate-900 dark:text-white",maxLength:12}),C.jsx("input",{type:"text",value:m,onChange:J=>!P&&v(J.target.value.toUpperCase()),placeholder:"4-Letter Code",maxLength:4,readOnly:P,className:"w-full px-4 py-4 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-center font-mono text-3xl tracking-widest text-slate-900 dark:text-white"})]}),_&&C.jsxs("div",{className:"p-3 bg-red-100 text-red-600 rounded-xl text-sm flex items-center gap-2",children:[C.jsx(PT,{className:"w-4 h-4"})," ",_]}),C.jsx("button",{type:"submit",disabled:E,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 text-white font-black rounded-2xl shadow-xl transition-all active:scale-95",children:E?C.jsx(sl,{className:"animate-spin mx-auto"}):"ENTER LOBBY"})]})})]})})},SC=({onSuccess:n,onBack:e})=>{const[o,s]=oe.useState(""),[l,u]=oe.useState(!1),d=h=>{h.preventDefault(),o==="1234"?n():(u(!0),s(""),setTimeout(()=>u(!1),500))};return C.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-indigo-50 dark:bg-slate-900 transition-colors",children:[C.jsxs("div",{className:"w-full max-w-sm",children:[C.jsx("button",{onClick:e,className:"text-slate-500 dark:text-slate-400 hover:text-indigo-600 dark:hover:text-white mb-8 transition-colors",children:" Back"}),C.jsxs("div",{className:"bg-white dark:bg-slate-800/80 backdrop-blur-xl p-8 rounded-2xl shadow-2xl border border-white/50 dark:border-slate-700",children:[C.jsxs("div",{className:"text-center mb-8",children:[C.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-indigo-100 dark:bg-indigo-500/20 mb-4 text-indigo-600 dark:text-indigo-400",children:C.jsx(aT,{className:"w-8 h-8"})}),C.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Quiz Studio"}),C.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Enter PIN to access admin dashboard"})]}),C.jsxs("form",{onSubmit:d,className:"space-y-6",children:[C.jsxs("div",{className:"relative",children:[C.jsx("input",{type:"password",value:o,onChange:h=>s(h.target.value),placeholder:"PIN",maxLength:4,className:`w-full px-4 py-4 bg-slate-50 dark:bg-slate-900/50 border rounded-xl focus:ring-2 focus:outline-none text-slate-900 dark:text-white text-center font-mono text-3xl tracking-[0.5em] transition-all
                  ${l?"border-red-500 ring-red-500/50 animate-[shake_0.5s_ease-in-out]":"border-slate-200 dark:border-slate-600 focus:ring-indigo-500 focus:border-transparent"}
                `,autoFocus:!0}),l&&C.jsxs("div",{className:"absolute -bottom-6 left-0 w-full flex justify-center items-center gap-1 text-red-500 dark:text-red-400 text-xs mt-2 animate-bounce",children:[C.jsx(bT,{className:"w-3 h-3"})," Access Denied"]})]}),C.jsxs("button",{type:"submit",className:"w-full py-4 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/30 transition-all active:scale-95 flex items-center justify-center gap-2 mt-4",children:["Unlock ",C.jsx(RS,{className:"w-5 h-5"})]})]})]})]}),C.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-5px); }
          75% { transform: translateX(5px); }
        }
      `})]})},Ic="quizwiz_sheet_url",al=()=>localStorage.getItem(Ic),mm=n=>{localStorage.setItem(Ic,n)},TC=()=>{localStorage.removeItem(Ic)},Yg=async n=>{const e=al();if(e)try{const o=await fetch(e,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"SAVE_QUIZ",quiz:n})});if(!o.ok)throw new Error(`Server error: ${o.status}`)}catch(o){throw console.error("Failed to save quiz to sheet",o),o}},CC=async()=>{const n=al();if(!n)return null;try{const o=await(await fetch(n,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"GET_QUIZZES"})})).json();return o.result==="success"&&Array.isArray(o.quizzes)?o.quizzes:null}catch(e){return console.error("Failed to fetch quizzes from sheet",e),null}},gm={id:"demo-mixed-1",title:"Diverse Question Types Demo",description:"A showcase of all the different question types available in QuizWiz.",createdAt:Date.now(),questions:[{id:1,type:"MC",text:"Which planet is known as the Red Planet?",timeLimit:20,options:[{id:"opt1",color:"red",text:"Mars"},{id:"opt2",color:"blue",text:"Venus"},{id:"opt3",color:"green",text:"Jupiter"},{id:"opt4",color:"yellow",text:"Saturn"}],correctOptionId:"opt1"},{id:2,type:"TRUE_FALSE",text:"Is the Earth flat?",timeLimit:15,options:[{id:"true",color:"blue",text:"True"},{id:"false",color:"red",text:"False"}],correctOptionId:"false"},{id:3,type:"SLIDER",text:"How many days are in a leap year?",timeLimit:20,min:300,max:400,correctValue:366,step:1},{id:4,type:"OPEN_ENDED",text:"What is the capital of France?",timeLimit:30,correctAnswer:"Paris"},{id:5,type:"POLL",text:"What is your favorite season?",timeLimit:20,options:[{id:"opt1",color:"red",text:"Summer"},{id:"opt2",color:"blue",text:"Winter"},{id:"opt3",color:"green",text:"Spring"},{id:"opt4",color:"yellow",text:"Autumn"}]},{id:6,type:"WORD_CLOUD",text:"Describe this app in one word",timeLimit:30}]},ym=`function doPost(e) {
  const lock = LockService.getScriptLock();
  lock.tryLock(10000);

  try {
    const doc = SpreadsheetApp.getActiveSpreadsheet();
    const sheet = doc.getSheetByName('Quizzes') || doc.insertSheet('Quizzes');
    const resultsSheet = doc.getSheetByName('Results') || doc.insertSheet('Results');

    // Ensure Headers exist for readability
    if (sheet.getLastRow() === 0) {
      sheet.appendRow(['ID', 'Title', 'Description', 'JSON_Data', 'Last_Updated']);
      sheet.setFrozenRows(1);
    }
    if (resultsSheet.getLastRow() === 0) {
      resultsSheet.appendRow(['Game_ID', 'Quiz_Title', 'Winner', 'Score', 'Full_Rankings', 'Date_Played']);
      resultsSheet.setFrozenRows(1);
    }

    const data = JSON.parse(e.postData.contents);
    const action = data.action;
    
    let result = { status: 'success' };

    if (action === 'SAVE_QUIZ') {
      const quiz = data.quiz;
      const lastRow = sheet.getLastRow();
      let rowIndex = -1;
      
      // Check if ID exists in Column A (Index 0)
      if (lastRow > 1) {
         const ids = sheet.getRange(2, 1, lastRow - 1, 1).getValues().flat();
         const foundIdx = ids.indexOf(quiz.id);
         if (foundIdx !== -1) rowIndex = foundIdx + 2; // +2 because of header and 0-based index
      }

      // Structure: ID | Title | Description | JSON | Date
      const rowData = [
        quiz.id,
        quiz.title,
        quiz.description || '',
        JSON.stringify(quiz),
        new Date().toISOString()
      ];

      if (rowIndex !== -1) {
        // Update existing row (1 row, 5 columns)
        sheet.getRange(rowIndex, 1, 1, 5).setValues([rowData]);
      } else {
        sheet.appendRow(rowData);
      }
    } else if (action === 'GET_QUIZZES') {
      const rows = sheet.getDataRange().getValues();
      const quizzes = [];
      // Row 1 is header, start from 2 (index 1)
      for (let i = 1; i < rows.length; i++) {
        // The JSON data is now in Column D (Index 3)
        // We fallback to Index 1 (Col B) to support older sheet versions if needed, 
        // but prefer the new structure.
        let jsonStr = rows[i][3]; 
        
        // Fallback for old structure where JSON was in Col B
        if (!jsonStr || !jsonStr.startsWith('{')) {
             if (rows[i][1] && rows[i][1].startsWith('{')) {
                 jsonStr = rows[i][1];
             }
        }

        if (jsonStr) {
           try {
             quizzes.push(JSON.parse(jsonStr));
           } catch (e) {}
        }
      }
      result.quizzes = quizzes;
      result.result = 'success';
    } else if (action === 'SAVE_RESULT') {
       resultsSheet.appendRow([
         data.gameId, 
         data.quizTitle, 
         data.winnerName, 
         data.winnerScore, 
         JSON.stringify(data.fullRankings), 
         new Date().toISOString()
       ]);
    }

    return ContentService
      .createTextOutput(JSON.stringify(result))
      .setMimeType(ContentService.MimeType.JSON);

  } catch (e) {
    return ContentService
      .createTextOutput(JSON.stringify({ 'result': 'error', 'error': e.toString() }))
      .setMimeType(ContentService.MimeType.JSON);
  } finally {
    lock.releaseLock();
  }
}`,xC=({onPlay:n,onCreate:e,onEdit:o,onBack:s})=>{const[l,u]=oe.useState([]),[d,h]=oe.useState(!1),[y,m]=oe.useState(!1),[v,_]=oe.useState(""),[T,E]=oe.useState(!1),[D,P]=oe.useState(!1),[L,G]=oe.useState(!1),[j,$]=oe.useState("idle");oe.useEffect(()=>{W();const ne=al();ne&&(_(ne),E(!0))},[]);const W=async()=>{P(!0);const ne=al(),he=localStorage.getItem("quizwiz_quizzes");let ge=[];if(he)try{ge=JSON.parse(he)}catch(fe){console.error("Error parsing local quizzes",fe),ge=[gm],localStorage.setItem("quizwiz_quizzes",JSON.stringify(ge))}else ge=[gm],localStorage.setItem("quizwiz_quizzes",JSON.stringify(ge));if(ne)try{const fe=await CC();if(fe){const be=new Set(fe.map(R=>R.id)),qe=ge.filter(R=>!be.has(R.id));u([...fe,...qe]),E(!0)}else u(ge)}catch(fe){console.error(fe),u(ge)}else u(ge);P(!1)},ee=()=>{v.trim()&&(mm(v),E(!0),W())},le=()=>{TC(),_(""),E(!1),W()},Q=async()=>{!T&&v.trim()&&(mm(v),E(!0)),G(!0),$("idle");try{const ne=localStorage.getItem("quizwiz_quizzes");if(ne){const he=JSON.parse(ne);for(const ge of he)await Yg(ge);await W(),$("success"),setTimeout(()=>$("idle"),3e3)}}catch(ne){console.error("Sync failed",ne),alert("Sync failed. Check console or verify your Script URL.")}finally{G(!1)}},ve=(ne,he)=>{if(he.stopPropagation(),confirm("Are you sure you want to delete this quiz?")){const ge=l.filter(fe=>fe.id!==ne);u(ge),localStorage.setItem("quizwiz_quizzes",JSON.stringify(ge))}},ie=()=>{navigator.clipboard.writeText(ym),alert("Code copied to clipboard!")};return C.jsxs("div",{className:"min-h-screen p-6 md:p-12 max-w-7xl mx-auto bg-indigo-50 dark:bg-slate-900 transition-colors",children:[y&&C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-pop",children:C.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[C.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center",children:[C.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Google Sheets Integration Setup"}),C.jsx("button",{onClick:()=>m(!1),className:"text-slate-500 hover:text-red-500 transition-colors",children:C.jsx(Wu,{className:"w-6 h-6"})})]}),C.jsxs("div",{className:"p-6 overflow-y-auto space-y-4 text-slate-600 dark:text-slate-300",children:[C.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-4 rounded-lg border border-indigo-200 dark:border-indigo-500/30",children:[C.jsx("p",{className:"font-bold text-indigo-700 dark:text-indigo-300",children:"Update Available!"}),C.jsx("p",{className:"text-sm",children:"The script has been updated to make the Google Sheet more readable. Please re-copy the code below and update your script in Apps Script."})]}),C.jsx("p",{children:"To enable cloud saving and multiplayer results tracking, follow these steps:"}),C.jsxs("ol",{className:"list-decimal pl-5 space-y-2",children:[C.jsxs("li",{children:["Create a new ",C.jsx("strong",{children:"Google Sheet"}),"."]}),C.jsxs("li",{children:["Go to ",C.jsx("strong",{children:"Extensions > Apps Script"}),"."]}),C.jsxs("li",{children:["Delete any code in ",C.jsx("code",{children:"Code.gs"})," and paste the script below."]}),C.jsxs("li",{children:["Click ",C.jsx("strong",{children:"Deploy > New Deployment"}),"."]}),C.jsxs("li",{children:["Select type: ",C.jsx("strong",{children:"Web app"}),"."]}),C.jsxs("li",{children:["Set ",C.jsx("strong",{children:"Who has access"})," to ",C.jsx("strong",{children:'"Anyone"'})," (Important!)."]}),C.jsxs("li",{children:["Click ",C.jsx("strong",{children:"Deploy"}),", copy the ",C.jsx("strong",{children:"Web App URL"}),", and paste it in the Dashboard."]})]}),C.jsxs("div",{className:"relative mt-4",children:[C.jsxs("button",{onClick:ie,className:"absolute top-2 right-2 bg-indigo-600 hover:bg-indigo-500 text-white px-3 py-1 rounded-md text-sm font-bold flex items-center gap-2",children:[C.jsx(eg,{className:"w-4 h-4"})," Copy"]}),C.jsx("pre",{className:"bg-slate-900 text-slate-300 p-4 rounded-xl text-xs overflow-x-auto font-mono border border-slate-700",children:ym})]})]})]})}),C.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-6",children:[C.jsxs("div",{children:[C.jsx("button",{onClick:s,className:"text-slate-500 dark:text-slate-400 hover:text-indigo-600 dark:hover:text-white mb-2 transition-colors",children:" Back to Landing"}),C.jsxs("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[C.jsx(oT,{className:"text-indigo-600 dark:text-indigo-500 w-10 h-10"})," Quiz Studio"]}),C.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your quiz library"})]}),C.jsxs("div",{className:"flex gap-3",children:[C.jsxs("button",{onClick:()=>h(!d),className:`flex items-center gap-2 px-4 py-3 border rounded-xl font-bold transition-all ${T?"border-green-500 bg-green-50 text-green-700 dark:bg-green-500/10 dark:text-green-400":"border-slate-300 dark:border-slate-600 hover:border-indigo-500 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300"}`,children:[C.jsx(KS,{className:"w-5 h-5"})," ",T?"Synced":"Connect Cloud"]}),C.jsxs("button",{onClick:e,className:"group flex items-center gap-2 px-6 py-3 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/30 transition-all active:scale-95",children:[C.jsx(ig,{className:"w-5 h-5 group-hover:rotate-90 transition-transform"})," Create New"]})]})]}),d&&C.jsxs("div",{className:"mb-8 p-6 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl animate-pop shadow-md",children:[C.jsxs("div",{className:"flex justify-between items-start mb-4",children:[C.jsxs("div",{children:[C.jsxs("h3",{className:"text-slate-900 dark:text-white font-bold mb-2 flex items-center gap-2",children:[C.jsx(tg,{className:"w-4 h-4 text-indigo-500"})," Connect Google Sheet"]}),C.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Paste your Google Apps Script Web App URL here to save quizzes and results to a spreadsheet."})]}),C.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 text-indigo-500 text-sm font-bold hover:underline",children:[C.jsx(HS,{className:"w-4 h-4"})," Setup Guide"]})]}),C.jsxs("div",{className:"flex flex-col gap-4",children:[C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"text",value:v,onChange:ne=>_(ne.target.value),placeholder:"https://script.google.com/macros/s/...",className:"flex-1 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-lg px-4 py-2 text-slate-900 dark:text-white outline-none focus:border-indigo-500 transition-colors"}),C.jsx("button",{onClick:ee,className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-lg transition-colors",children:"Connect"}),T&&C.jsx("button",{onClick:le,className:"px-4 py-2 bg-red-50 text-red-600 dark:bg-red-500/10 dark:text-red-400 border border-red-200 dark:border-red-500/30 font-bold rounded-lg transition-colors",children:"Disconnect"})]}),(T||v.trim().length>0)&&C.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[C.jsxs("button",{onClick:Q,disabled:L,className:"flex items-center gap-2 text-sm font-semibold text-slate-600 dark:text-slate-300 hover:text-indigo-600 dark:hover:text-white bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 px-4 py-2 rounded-lg transition-colors disabled:opacity-50",children:[L?C.jsx(em,{className:"w-4 h-4 animate-spin"}):j==="success"?C.jsx(j0,{className:"w-4 h-4 text-green-500"}):C.jsx(YS,{className:"w-4 h-4"}),L?"Uploading...":j==="success"?"Synced!":"Sync Local Library to Cloud"]}),C.jsx("span",{className:"text-xs text-slate-400 italic",children:"Click sync to ensure your local quizzes are available on other devices."})]})]})]}),D?C.jsx("div",{className:"flex items-center justify-center py-20",children:C.jsx(em,{className:"w-8 h-8 text-indigo-500 animate-spin"})}):C.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.map(ne=>C.jsxs("div",{className:"group relative bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 rounded-2xl overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1 flex flex-col",children:[C.jsxs("div",{className:"h-40 w-full bg-slate-100 dark:bg-slate-700 relative overflow-hidden",children:[ne.coverImageUrl?C.jsx("img",{src:ne.coverImageUrl,alt:ne.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):C.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-500/20 to-purple-500/20 flex items-center justify-center",children:C.jsx(ml,{className:"w-12 h-12 text-indigo-500/30"})}),C.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[C.jsx("button",{onClick:he=>{he.stopPropagation(),o(ne)},className:"p-2 bg-white/90 dark:bg-slate-800/90 text-slate-600 dark:text-slate-300 hover:text-indigo-600 rounded-lg shadow-sm backdrop-blur",title:"Edit",children:C.jsx(hT,{className:"w-4 h-4"})}),C.jsx("button",{onClick:he=>ve(ne.id,he),className:"p-2 bg-white/90 dark:bg-slate-800/90 text-slate-600 dark:text-slate-300 hover:text-red-500 rounded-lg shadow-sm backdrop-blur",title:"Delete",children:C.jsx(Zu,{className:"w-4 h-4"})})]})]}),C.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[C.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 line-clamp-1",title:ne.title,children:ne.title}),ne.description&&C.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-4 line-clamp-2 flex-1",children:ne.description}),C.jsxs("div",{className:"flex items-center justify-between text-xs font-semibold text-slate-400 mt-auto mb-4 pt-4 border-t border-slate-100 dark:border-slate-700/50",children:[C.jsxs("span",{children:[ne.questions.length," Questions"]}),C.jsx("span",{children:new Date(ne.createdAt).toLocaleDateString()})]}),C.jsxs("button",{onClick:()=>n(ne),className:"w-full py-3 bg-slate-100 dark:bg-slate-700 group-hover:bg-indigo-600 text-slate-700 dark:text-white group-hover:text-white font-bold rounded-xl transition-all flex items-center justify-center gap-2",children:[C.jsx(ng,{className:"w-4 h-4 fill-current"})," Play Now"]})]})]},ne.id)),l.length===0&&C.jsx("div",{className:"col-span-full flex flex-col items-center justify-center p-12 text-slate-500 border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-2xl",children:C.jsx("p",{children:"No quizzes found. Create one to get started!"})})]})]})};var EC={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let bC,AC;function RC(){return{geminiUrl:bC,vertexUrl:AC}}function NC(n,e,o,s){var l,u;if(!(n!=null&&n.baseUrl)){const d=RC();return e?(l=d.vertexUrl)!==null&&l!==void 0?l:o:(u=d.geminiUrl)!==null&&u!==void 0?u:s}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nn{}function te(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(s,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const u=e[l];return u!=null?String(u):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function f(n,e,o){for(let u=0;u<e.length-1;u++){const d=e[u];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in n))if(Array.isArray(o))n[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(n[h])){const y=n[h];if(Array.isArray(o))for(let m=0;m<y.length;m++){const v=y[m];f(v,e.slice(u+1),o[m])}else for(const m of y)f(m,e.slice(u+1),o)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in n||(n[h]=[{}]);const y=n[h];f(y[0],e.slice(u+1),o);return}(!n[d]||typeof n[d]!="object")&&(n[d]={}),n=n[d]}const s=e[e.length-1],l=n[s];if(l!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===l)return;if(typeof l=="object"&&typeof o=="object"&&l!==null&&o!==null)Object.assign(l,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(n,o):n[s]=o}function c(n,e,o=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let s=0;s<e.length;s++){if(typeof n!="object"||n===null)return o;const l=e[s];if(l.endsWith("[]")){const u=l.slice(0,-2);if(u in n){const d=n[u];return Array.isArray(d)?d.map(h=>c(h,e.slice(s+1),o)):o}else return o}else n=n[l]}return n}catch(s){if(s instanceof TypeError)return o;throw s}}function MC(n,e){for(const[o,s]of Object.entries(e)){const l=o.split("."),u=s.split("."),d=new Set;let h=-1;for(let y=0;y<l.length;y++)if(l[y]==="*"){h=y;break}if(h!==-1&&u.length>h)for(let y=h;y<u.length;y++){const m=u[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&d.add(m)}lc(n,l,u,0,d)}}function lc(n,e,o,s,l){if(s>=e.length||typeof n!="object"||n===null)return;const u=e[s];if(u.endsWith("[]")){const d=u.slice(0,-2),h=n;if(d in h&&Array.isArray(h[d]))for(const y of h[d])lc(y,e,o,s+1,l)}else if(u==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const d=n,h=Object.keys(d).filter(m=>!m.startsWith("_")&&!l.has(m)),y={};for(const m of h)y[m]=d[m];for(const[m,v]of Object.entries(y)){const _=[];for(const T of o.slice(s))T==="*"?_.push(m):_.push(T);f(d,_,v)}for(const m of h)delete d[m]}}else{const d=n;u in d&&lc(d[u],e,o,s+1,l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dc(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IC(n){const e={},o=c(n,["operationName"]);o!=null&&f(e,["operationName"],o);const s=c(n,["resourceName"]);return s!=null&&f(e,["_url","resourceName"],s),e}function DC(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],wC(d)),e}function kC(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],UC(d)),e}function wC(n){const e={},o=c(n,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>LC(d))),f(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function UC(n){const e={},o=c(n,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>PC(d))),f(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function LC(n){const e={},o=c(n,["video"]);return o!=null&&f(e,["video"],BC(o)),e}function PC(n){const e={},o=c(n,["_self"]);return o!=null&&f(e,["video"],qC(o)),e}function OC(n){const e={},o=c(n,["operationName"]);return o!=null&&f(e,["_url","operationName"],o),e}function GC(n){const e={},o=c(n,["operationName"]);return o!=null&&f(e,["_url","operationName"],o),e}function zC(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],HC(d)),e}function HC(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["parent"]);s!=null&&f(e,["parent"],s);const l=c(n,["documentName"]);return l!=null&&f(e,["documentName"],l),e}function $g(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],VC(d)),e}function VC(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["parent"]);s!=null&&f(e,["parent"],s);const l=c(n,["documentName"]);return l!=null&&f(e,["documentName"],l),e}function BC(n){const e={},o=c(n,["uri"]);o!=null&&f(e,["uri"],o);const s=c(n,["encodedVideo"]);s!=null&&f(e,["videoBytes"],Dc(s));const l=c(n,["encoding"]);return l!=null&&f(e,["mimeType"],l),e}function qC(n){const e={},o=c(n,["gcsUri"]);o!=null&&f(e,["uri"],o);const s=c(n,["bytesBase64Encoded"]);s!=null&&f(e,["videoBytes"],Dc(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(vm||(vm={}));var _m;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(_m||(_m={}));var Sm;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Sm||(Sm={}));var yt;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(yt||(yt={}));var Tm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Tm||(Tm={}));var Cm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Cm||(Cm={}));var xm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(xm||(xm={}));var Em;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Em||(Em={}));var bm;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(bm||(bm={}));var Am;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(Am||(Am={}));var Rm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Rm||(Rm={}));var Nm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Nm||(Nm={}));var Mm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Mm||(Mm={}));var Im;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(Im||(Im={}));var Dm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Dm||(Dm={}));var km;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(km||(km={}));var wm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(wm||(wm={}));var Um;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Um||(Um={}));var Lm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Lm||(Lm={}));var ul;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(ul||(ul={}));var Pm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Pm||(Pm={}));var Om;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Om||(Om={}));var Gm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Gm||(Gm={}));var ac;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ac||(ac={}));var zm;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(zm||(zm={}));var Hm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Hm||(Hm={}));var Vm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Vm||(Vm={}));var Bm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Bm||(Bm={}));var qm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(qm||(qm={}));var Fm;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Fm||(Fm={}));var Jm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Jm||(Jm={}));var Ym;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Ym||(Ym={}));var $m;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})($m||($m={}));var Km;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Km||(Km={}));var Qm;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Qm||(Qm={}));var Xm;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Xm||(Xm={}));var Zm;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Zm||(Zm={}));var Wm;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Wm||(Wm={}));var jm;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(jm||(jm={}));var e0;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(e0||(e0={}));var t0;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(t0||(t0={}));var n0;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(n0||(n0={}));var i0;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(i0||(i0={}));var o0;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(o0||(o0={}));var s0;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(s0||(s0={}));var r0;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(r0||(r0={}));var l0;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(l0||(l0={}));var a0;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(a0||(a0={}));var u0;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(u0||(u0={}));var c0;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(c0||(c0={}));var f0;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(f0||(f0={}));var d0;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(d0||(d0={}));var p0;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(p0||(p0={}));var h0;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(h0||(h0={}));var m0;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(m0||(m0={}));var go;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(go||(go={}));class uc{constructor(e){const o={};for(const s of e.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ss{get text(){var e,o,s,l,u,d,h,y;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const _=[];for(const T of(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[E,D]of Object.entries(T))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(D!==null||D!==void 0)&&_.push(E);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;v=!0,m+=T.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var e,o,s,l,u,d,h,y;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const _ of(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[T,E]of Object.entries(_))T!=="inlineData"&&(E!==null||E!==void 0)&&v.push(T);_.inlineData&&typeof _.inlineData.data=="string"&&(m+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,o,s,l,u,d,h,y;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,o,s,l,u,d,h,y,m;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,o,s,l,u,d,h,y,m;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class g0{}class y0{}class FC{}class JC{}class YC{}class $C{}class v0{}class _0{}class S0{}class KC{}class cl{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new cl;let l;const u=e;return o?l=kC(u):l=DC(u),Object.assign(s,l),s}}class T0{}class C0{}class x0{}class E0{}class QC{}class XC{}class ZC{}class kc{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new kc,u=zC(e);return Object.assign(s,u),s}}class WC{}class jC{}class ex{}class b0{}class tx{get text(){var e,o,s;let l="",u=!1;const d=[];for(const h of(s=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,m]of Object.entries(h))y!=="text"&&y!=="thought"&&m!==null&&d.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,l+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?l:void 0}get data(){var e,o,s;let l="";const u=[];for(const d of(s=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[h,y]of Object.entries(d))h!=="inlineData"&&y!==null&&u.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(l+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class nx{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class wc{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new wc,u=$g(e);return Object.assign(s,u),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function De(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Kg(n,e){const o=De(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function Qg(n){return Array.isArray(n)?n.map(e=>fl(e)):[fl(n)]}function fl(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Xg(n){const e=fl(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Zg(n){const e=fl(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function A0(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Wg(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>A0(e)):[A0(n)]}function cc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function R0(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function N0(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function pt(n){if(n==null)throw new Error("ContentUnion is required");return cc(n)?n:{role:"user",parts:Wg(n)}}function Uc(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const s=pt(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(n.isVertexAI()){const o=pt(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>pt(o)):[pt(e)]}function Xt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(R0(n)||N0(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[pt(n)]}const e=[],o=[],s=cc(n[0]);for(const l of n){const u=cc(l);if(u!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(l);else{if(R0(l)||N0(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(l)}}return s||e.push({role:"user",parts:Wg(o)}),e}function ix(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(s=>s!=="null");if(o.length===1)e.type=Object.values(yt).includes(o[0].toUpperCase())?o[0].toUpperCase():yt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of o)e.anyOf.push({type:Object.values(yt).includes(s.toUpperCase())?s.toUpperCase():yt.TYPE_UNSPECIFIED})}}function _o(n){const e={},o=["items"],s=["anyOf"],l=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=n.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,n=u[1]):u[1].type==="null"&&(e.nullable=!0,n=u[0])),n.type instanceof Array&&ix(n.type,e);for(const[d,h]of Object.entries(n))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(yt).includes(h.toUpperCase())?h.toUpperCase():yt.TYPE_UNSPECIFIED}else if(o.includes(d))e[d]=_o(h);else if(s.includes(d)){const y=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}y.push(_o(m))}e[d]=y}else if(l.includes(d)){const y={};for(const[m,v]of Object.entries(h))y[m]=_o(v);e[d]=y}else{if(d==="additionalProperties")continue;e[d]=h}return e}function Lc(n){return _o(n)}function Pc(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Oc(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function To(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=_o(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=_o(e.response));return n}function Co(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function ox(n,e,o,s=1){const l=!e.startsWith(`${o}/`)&&e.split("/").length===s;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:l?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:l?`${o}/${e}`:e}function Mn(n,e){if(typeof e!="string")throw new Error("name must be a string");return ox(n,e,"cachedContents")}function jg(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function si(n){return Dc(n)}function sx(n){return n!=null&&typeof n=="object"&&"name"in n}function rx(n){return n!=null&&typeof n=="object"&&"video"in n}function lx(n){return n!=null&&typeof n=="object"&&"uri"in n}function ey(n){var e;let o;if(sx(n)&&(o=n.name),!(lx(n)&&(o=n.uri,o===void 0))&&!(rx(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const l=o.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${o}`);o=l[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function ty(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function ny(n){for(const e of["models","tunedModels","publisherModels"])if(ax(n,e))return n[e];return[]}function ax(n,e){return n!==null&&typeof n=="object"&&e in n}function ux(n,e={}){const o=n,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function cx(n,e={}){const o=[],s=new Set;for(const l of n){const u=l.name;if(s.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);s.add(u);const d=ux(l,e);d.functionDeclarations&&o.push(...d.functionDeclarations)}return{functionDeclarations:o}}function iy(n,e){let o;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,l=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(n.isVertexAI()){if(l>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function fx(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function oy(n){if(typeof n!="object"||n===null)return{};const e=n,o=e.inlinedResponses;if(typeof o!="object"||o===null)return n;const l=o.inlinedResponses;if(!Array.isArray(l)||l.length===0)return n;let u=!1;for(const d of l){if(typeof d!="object"||d===null)continue;const y=d.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function xo(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function sy(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dx(n){const e={},o=c(n,["responsesFile"]);o!=null&&f(e,["fileName"],o);const s=c(n,["inlinedResponses","inlinedResponses"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Yx(d))),f(e,["inlinedResponses"],u)}const l=c(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["inlinedEmbedContentResponses"],u)}return e}function px(n){const e={},o=c(n,["predictionsFormat"]);o!=null&&f(e,["format"],o);const s=c(n,["gcsDestination","outputUriPrefix"]);s!=null&&f(e,["gcsUri"],s);const l=c(n,["bigqueryDestination","outputUri"]);return l!=null&&f(e,["bigqueryUri"],l),e}function hx(n){const e={},o=c(n,["format"]);o!=null&&f(e,["predictionsFormat"],o);const s=c(n,["gcsUri"]);s!=null&&f(e,["gcsDestination","outputUriPrefix"],s);const l=c(n,["bigqueryUri"]);if(l!=null&&f(e,["bigqueryDestination","outputUri"],l),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function il(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata","displayName"]);s!=null&&f(e,["displayName"],s);const l=c(n,["metadata","state"]);l!=null&&f(e,["state"],sy(l));const u=c(n,["metadata","createTime"]);u!=null&&f(e,["createTime"],u);const d=c(n,["metadata","endTime"]);d!=null&&f(e,["endTime"],d);const h=c(n,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const y=c(n,["metadata","model"]);y!=null&&f(e,["model"],y);const m=c(n,["metadata","output"]);return m!=null&&f(e,["dest"],dx(oy(m))),e}function fc(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["displayName"]);s!=null&&f(e,["displayName"],s);const l=c(n,["state"]);l!=null&&f(e,["state"],sy(l));const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["createTime"]);d!=null&&f(e,["createTime"],d);const h=c(n,["startTime"]);h!=null&&f(e,["startTime"],h);const y=c(n,["endTime"]);y!=null&&f(e,["endTime"],y);const m=c(n,["updateTime"]);m!=null&&f(e,["updateTime"],m);const v=c(n,["model"]);v!=null&&f(e,["model"],v);const _=c(n,["inputConfig"]);_!=null&&f(e,["src"],mx(_));const T=c(n,["outputConfig"]);T!=null&&f(e,["dest"],px(oy(T)));const E=c(n,["completionStats"]);return E!=null&&f(e,["completionStats"],E),e}function mx(n){const e={},o=c(n,["instancesFormat"]);o!=null&&f(e,["format"],o);const s=c(n,["gcsSource","uris"]);s!=null&&f(e,["gcsUri"],s);const l=c(n,["bigquerySource","inputUri"]);return l!=null&&f(e,["bigqueryUri"],l),e}function gx(n,e){const o={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=c(e,["fileName"]);s!=null&&f(o,["fileName"],s);const l=c(e,["inlinedRequests"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>Jx(n,d))),f(o,["requests","requests"],u)}return o}function yx(n){const e={},o=c(n,["format"]);o!=null&&f(e,["instancesFormat"],o);const s=c(n,["gcsUri"]);s!=null&&f(e,["gcsSource","uris"],s);const l=c(n,["bigqueryUri"]);if(l!=null&&f(e,["bigquerySource","inputUri"],l),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function vx(n){const e={},o=c(n,["data"]);if(o!=null&&f(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function _x(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],xo(n,s)),o}function Sx(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],xo(n,s)),o}function Tx(n){const e={},o=c(n,["content"]);o!=null&&f(e,["content"],o);const s=c(n,["citationMetadata"]);s!=null&&f(e,["citationMetadata"],Cx(s));const l=c(n,["tokenCount"]);l!=null&&f(e,["tokenCount"],l);const u=c(n,["finishReason"]);u!=null&&f(e,["finishReason"],u);const d=c(n,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const h=c(n,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const y=c(n,["index"]);y!=null&&f(e,["index"],y);const m=c(n,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const v=c(n,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(E=>E)),f(e,["safetyRatings"],T)}const _=c(n,["urlContextMetadata"]);return _!=null&&f(e,["urlContextMetadata"],_),e}function Cx(n){const e={},o=c(n,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),f(e,["citations"],s)}return e}function ry(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>jx(u))),f(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function xx(n,e){const o={},s=c(n,["displayName"]);if(e!==void 0&&s!=null&&f(e,["batch","displayName"],s),c(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function Ex(n,e){const o={},s=c(n,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const l=c(n,["dest"]);return e!==void 0&&l!=null&&f(e,["outputConfig"],hx(fx(l))),o}function M0(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],De(n,s));const l=c(e,["src"]);l!=null&&f(o,["batch","inputConfig"],gx(n,iy(n,l)));const u=c(e,["config"]);return u!=null&&xx(u,o),o}function bx(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["model"],De(n,s));const l=c(e,["src"]);l!=null&&f(o,["inputConfig"],yx(iy(n,l)));const u=c(e,["config"]);return u!=null&&Ex(u,o),o}function Ax(n,e){const o={},s=c(n,["displayName"]);return e!==void 0&&s!=null&&f(e,["batch","displayName"],s),o}function Rx(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],De(n,s));const l=c(e,["src"]);l!=null&&f(o,["batch","inputConfig"],Ux(n,l));const u=c(e,["config"]);return u!=null&&Ax(u,o),o}function Nx(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],xo(n,s)),o}function Mx(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],xo(n,s)),o}function Ix(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);return u!=null&&f(e,["error"],u),e}function Dx(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);return u!=null&&f(e,["error"],u),e}function kx(n,e){const o={},s=c(e,["contents"]);if(s!=null){let u=Uc(n,s);Array.isArray(u)&&(u=u.map(d=>d)),f(o,["requests[]","request","content"],u)}const l=c(e,["config"]);return l!=null&&(f(o,["_self"],wx(l,o)),MC(o,{"requests[].*":"requests[].request.*"})),o}function wx(n,e){const o={},s=c(n,["taskType"]);e!==void 0&&s!=null&&f(e,["requests[]","taskType"],s);const l=c(n,["title"]);e!==void 0&&l!=null&&f(e,["requests[]","title"],l);const u=c(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&f(e,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Ux(n,e){const o={},s=c(e,["fileName"]);s!=null&&f(o,["file_name"],s);const l=c(e,["inlinedRequests"]);return l!=null&&f(o,["requests"],kx(n,l)),o}function Lx(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Px(n){const e={},o=c(n,["id"]);o!=null&&f(e,["id"],o);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ox(n){const e={},o=c(n,["mode"]);o!=null&&f(e,["mode"],o);const s=c(n,["allowedFunctionNames"]);if(s!=null&&f(e,["allowedFunctionNames"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Gx(n,e,o){const s={},l=c(e,["systemInstruction"]);o!==void 0&&l!=null&&f(o,["systemInstruction"],ry(pt(l)));const u=c(e,["temperature"]);u!=null&&f(s,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(s,["topP"],d);const h=c(e,["topK"]);h!=null&&f(s,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const _=c(e,["responseLogprobs"]);_!=null&&f(s,["responseLogprobs"],_);const T=c(e,["logprobs"]);T!=null&&f(s,["logprobs"],T);const E=c(e,["presencePenalty"]);E!=null&&f(s,["presencePenalty"],E);const D=c(e,["frequencyPenalty"]);D!=null&&f(s,["frequencyPenalty"],D);const P=c(e,["seed"]);P!=null&&f(s,["seed"],P);const L=c(e,["responseMimeType"]);L!=null&&f(s,["responseMimeType"],L);const G=c(e,["responseSchema"]);G!=null&&f(s,["responseSchema"],Lc(G));const j=c(e,["responseJsonSchema"]);if(j!=null&&f(s,["responseJsonSchema"],j),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const $=c(e,["safetySettings"]);if(o!==void 0&&$!=null){let fe=$;Array.isArray(fe)&&(fe=fe.map(be=>eE(be))),f(o,["safetySettings"],fe)}const W=c(e,["tools"]);if(o!==void 0&&W!=null){let fe=Co(W);Array.isArray(fe)&&(fe=fe.map(be=>nE(To(be)))),f(o,["tools"],fe)}const ee=c(e,["toolConfig"]);if(o!==void 0&&ee!=null&&f(o,["toolConfig"],tE(ee)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const le=c(e,["cachedContent"]);o!==void 0&&le!=null&&f(o,["cachedContent"],Mn(n,le));const Q=c(e,["responseModalities"]);Q!=null&&f(s,["responseModalities"],Q);const ve=c(e,["mediaResolution"]);ve!=null&&f(s,["mediaResolution"],ve);const ie=c(e,["speechConfig"]);if(ie!=null&&f(s,["speechConfig"],Pc(ie)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=c(e,["thinkingConfig"]);ne!=null&&f(s,["thinkingConfig"],ne);const he=c(e,["imageConfig"]);he!=null&&f(s,["imageConfig"],Fx(he));const ge=c(e,["enableEnhancedCivicAnswers"]);return ge!=null&&f(s,["enableEnhancedCivicAnswers"],ge),s}function zx(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(m=>Tx(m))),f(e,["candidates"],y)}const l=c(n,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const u=c(n,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(n,["responseId"]);d!=null&&f(e,["responseId"],d);const h=c(n,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function Hx(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],xo(n,s)),o}function Vx(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],xo(n,s)),o}function Bx(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function qx(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function Fx(n){const e={},o=c(n,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const s=c(n,["imageSize"]);if(s!=null&&f(e,["imageSize"],s),c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Jx(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["request","model"],De(n,s));const l=c(e,["contents"]);if(l!=null){let h=Xt(l);Array.isArray(h)&&(h=h.map(y=>ry(y))),f(o,["request","contents"],h)}const u=c(e,["metadata"]);u!=null&&f(o,["metadata"],u);const d=c(e,["config"]);return d!=null&&f(o,["request","generationConfig"],Gx(n,d,c(o,["request"],{}))),o}function Yx(n){const e={},o=c(n,["response"]);o!=null&&f(e,["response"],zx(o));const s=c(n,["error"]);return s!=null&&f(e,["error"],s),e}function $x(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);if(e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),c(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function Kx(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const u=c(n,["filter"]);return e!==void 0&&u!=null&&f(e,["_query","filter"],u),o}function Qx(n){const e={},o=c(n,["config"]);return o!=null&&$x(o,e),e}function Xx(n){const e={},o=c(n,["config"]);return o!=null&&Kx(o,e),e}function Zx(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["operations"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>il(d))),f(e,["batchJobs"],u)}return e}function Wx(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["batchPredictionJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>fc(d))),f(e,["batchJobs"],u)}return e}function jx(n){const e={},o=c(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],Lx(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],Px(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],vx(y));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const T=c(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function eE(n){const e={},o=c(n,["category"]);if(o!=null&&f(e,["category"],o),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(n,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function tE(n){const e={},o=c(n,["functionCallingConfig"]);o!=null&&f(e,["functionCallingConfig"],Ox(o));const s=c(n,["retrievalConfig"]);return s!=null&&f(e,["retrievalConfig"],s),e}function nE(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const l=c(n,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(n,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(n,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],Bx(h));const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],qx(y));const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Rn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Rn||(Rn={}));class Mi{constructor(e,o,s,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,s,l)}init(e,o,s){var l,u;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!s||Object.keys(s).length===0?d={config:{}}:typeof s=="object"?d=Object.assign({},s):d=s,d.config&&(d.config.pageToken=o.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(u=(l=d.config)===null||l===void 0?void 0:l.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iE extends Nn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Mi(Rn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(e){const o=M0(this.apiClient,e),s=o._url,l=te("{model}:batchGenerateContent",s),h=o.batch.inputConfig.requests,y=h.requests,m=[];for(const v of y){const _=Object.assign({},v);if(_.systemInstruction){const T=_.systemInstruction;delete _.systemInstruction;const E=_.request;E.systemInstruction=T,_.request=E}m.push(_)}return h.requests=m,delete o.config,delete o._url,delete o._query,{path:l,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const s=o?Object.assign({},o):{},l=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${l}`),s.dest===void 0){const u=this.getGcsUri(e),d=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?s.dest=`${u.slice(0,-6)}/dest`:s.dest=`${u}_dest_${l}`;else if(d)s.dest=`${d}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=bx(this.apiClient,e);return h=te("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>fc(v))}else{const m=M0(this.apiClient,e);return h=te("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>il(v))}}async createEmbeddingsInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Rx(this.apiClient,e);return u=te("{model}:asyncBatchEmbedContent",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>il(y))}}async get(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Vx(this.apiClient,e);return h=te("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>fc(v))}else{const m=Hx(this.apiClient,e);return h=te("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>il(v))}}async cancel(e){var o,s,l,u;let d="",h={};if(this.apiClient.isVertexAI()){const y=Sx(this.apiClient,e);d=te("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=_x(this.apiClient,e);d=te("batches/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Xx(e);return h=te("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=Wx(v),T=new b0;return Object.assign(T,_),T})}else{const m=Qx(e);return h=te("batches",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=Zx(v),T=new b0;return Object.assign(T,_),T})}}async delete(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Mx(this.apiClient,e);return h=te("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>Dx(v))}else{const m=Nx(this.apiClient,e);return h=te("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>Ix(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oE(n){const e={},o=c(n,["data"]);if(o!=null&&f(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function I0(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>RE(u))),f(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function sE(n,e){const o={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const l=c(n,["expireTime"]);e!==void 0&&l!=null&&f(e,["expireTime"],l);const u=c(n,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(n,["contents"]);if(e!==void 0&&d!=null){let v=Xt(d);Array.isArray(v)&&(v=v.map(_=>I0(_))),f(e,["contents"],v)}const h=c(n,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],I0(pt(h)));const y=c(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(_=>ME(_))),f(e,["tools"],v)}const m=c(n,["toolConfig"]);if(e!==void 0&&m!=null&&f(e,["toolConfig"],NE(m)),c(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function rE(n,e){const o={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const l=c(n,["expireTime"]);e!==void 0&&l!=null&&f(e,["expireTime"],l);const u=c(n,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(n,["contents"]);if(e!==void 0&&d!=null){let _=Xt(d);Array.isArray(_)&&(_=_.map(T=>T)),f(e,["contents"],_)}const h=c(n,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],pt(h));const y=c(n,["tools"]);if(e!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(T=>IE(T))),f(e,["tools"],_)}const m=c(n,["toolConfig"]);e!==void 0&&m!=null&&f(e,["toolConfig"],m);const v=c(n,["kmsKeyName"]);return e!==void 0&&v!=null&&f(e,["encryption_spec","kmsKeyName"],v),o}function lE(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["model"],Kg(n,s));const l=c(e,["config"]);return l!=null&&sE(l,o),o}function aE(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["model"],Kg(n,s));const l=c(e,["config"]);return l!=null&&rE(l,o),o}function uE(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],Mn(n,s)),o}function cE(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],Mn(n,s)),o}function fE(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function dE(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function pE(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function hE(n){const e={},o=c(n,["id"]);o!=null&&f(e,["id"],o);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function mE(n){const e={},o=c(n,["mode"]);o!=null&&f(e,["mode"],o);const s=c(n,["allowedFunctionNames"]);if(s!=null&&f(e,["allowedFunctionNames"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function gE(n){const e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(n,["description"]);o!=null&&f(e,["description"],o);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const l=c(n,["parameters"]);l!=null&&f(e,["parameters"],l);const u=c(n,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(n,["response"]);d!=null&&f(e,["response"],d);const h=c(n,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function yE(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],Mn(n,s)),o}function vE(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],Mn(n,s)),o}function _E(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function SE(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function TE(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function CE(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function xE(n){const e={},o=c(n,["config"]);return o!=null&&TE(o,e),e}function EE(n){const e={},o=c(n,["config"]);return o!=null&&CE(o,e),e}function bE(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function AE(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function RE(n){const e={},o=c(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],pE(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],hE(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],oE(y));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const T=c(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function NE(n){const e={},o=c(n,["functionCallingConfig"]);o!=null&&f(e,["functionCallingConfig"],mE(o));const s=c(n,["retrievalConfig"]);return s!=null&&f(e,["retrievalConfig"],s),e}function ME(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const l=c(n,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(n,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(n,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],_E(h));const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],SE(y));const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function IE(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(T=>gE(T))),f(e,["functionDeclarations"],_)}const s=c(n,["retrieval"]);s!=null&&f(e,["retrieval"],s);const l=c(n,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const u=c(n,["computerUse"]);if(u!=null&&f(e,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(n,["codeExecution"]);d!=null&&f(e,["codeExecution"],d);const h=c(n,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const y=c(n,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const m=c(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],m);const v=c(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function DE(n,e){const o={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const l=c(n,["expireTime"]);return e!==void 0&&l!=null&&f(e,["expireTime"],l),o}function kE(n,e){const o={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const l=c(n,["expireTime"]);return e!==void 0&&l!=null&&f(e,["expireTime"],l),o}function wE(n,e){const o={},s=c(e,["name"]);s!=null&&f(o,["_url","name"],Mn(n,s));const l=c(e,["config"]);return l!=null&&DE(l,o),o}function UE(n,e){const o={},s=c(e,["name"]);s!=null&&f(o,["_url","name"],Mn(n,s));const l=c(e,["config"]);return l!=null&&kE(l,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LE extends Nn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Mi(Rn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=aE(this.apiClient,e);return h=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=lE(this.apiClient,e);return h=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async get(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=vE(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=yE(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async delete(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=cE(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=dE(v),T=new x0;return Object.assign(T,_),T})}else{const m=uE(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=fE(v),T=new x0;return Object.assign(T,_),T})}}async update(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=UE(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=wE(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async listInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=EE(e);return h=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=AE(v),T=new E0;return Object.assign(T,_),T})}else{const m=xE(e);return h=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=bE(v),T=new E0;return Object.assign(T,_),T})}}}function dl(n,e){var o={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(o[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(n);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(n,s[l])&&(o[s[l]]=n[s[l]]);return o}function D0(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],s=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ye(n){return this instanceof ye?(this.v=n,this):new ye(n)}function tn(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(n,e||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(E){return function(D){return Promise.resolve(D).then(E,_)}}function h(E,D){s[E]&&(l[E]=function(P){return new Promise(function(L,G){u.push([E,P,L,G])>1||y(E,P)})},D&&(l[E]=D(l[E])))}function y(E,D){try{m(s[E](D))}catch(P){T(u[0][3],P)}}function m(E){E.value instanceof ye?Promise.resolve(E.value.v).then(v,_):T(u[0][2],E)}function v(E){y("next",E)}function _(E){y("throw",E)}function T(E,D){E(D),u.shift(),u.length&&y(u[0][0],u[0][1])}}function nn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof D0=="function"?D0(n):n[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(u){o[u]=n[u]&&function(d){return new Promise(function(h,y){d=n[u](d),l(h,y,d.done,d.value)})}}function l(u,d,h,y){Promise.resolve(y).then(function(m){u({value:m,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PE(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:ly(o)}function ly(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function OE(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function k0(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let s=0;for(;s<o;)if(n[s].role==="user")e.push(n[s]),s++;else{const l=[];let u=!0;for(;s<o&&n[s].role==="model";)l.push(n[s]),u&&!ly(n[s])&&(u=!1),s++;u?e.push(...l):e.pop()}return e}class GE{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new zE(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class zE{constructor(e,o,s,l={},u=[]){this.apiClient=e,this.modelsModule=o,this.model=s,this.config=l,this.history=u,this.sendPromise=Promise.resolve(),OE(u)}async sendMessage(e){var o;await this.sendPromise;const s=pt(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var u,d,h;const y=await l,m=(d=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content,v=y.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let T=[];v!=null&&(T=(h=v.slice(_))!==null&&h!==void 0?h:[]);const E=m?[m]:[];this.recordHistory(s,E,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var o;await this.sendPromise;const s=pt(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const u=await l;return this.processStreamResponse(u,s)}getHistory(e=!1){const o=e?k0(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){return tn(this,arguments,function*(){var l,u,d,h,y,m;const v=[];try{for(var _=!0,T=nn(e),E;E=yield ye(T.next()),l=E.done,!l;_=!0){h=E.value,_=!1;const D=h;if(PE(D)){const P=(m=(y=D.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;P!==void 0&&v.push(P)}yield yield ye(D)}}catch(D){u={error:D}}finally{try{!_&&!l&&(d=T.return)&&(yield ye(d.call(T)))}finally{if(u)throw u.error}}this.recordHistory(o,v)})}recordHistory(e,o,s){let l=[];o.length>0&&o.every(u=>u.role!==void 0)?l=o:l.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...k0(s)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,yl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HE(n){const e={},o=c(n,["file"]);return o!=null&&f(e,["file"],o),e}function VE(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function BE(n){const e={},o=c(n,["name"]);return o!=null&&f(e,["_url","file"],ey(o)),e}function qE(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function FE(n){const e={},o=c(n,["name"]);return o!=null&&f(e,["_url","file"],ey(o)),e}function JE(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function YE(n){const e={},o=c(n,["config"]);return o!=null&&JE(o,e),e}function $E(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["files"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KE extends Nn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Mi(Rn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>o)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=YE(e);return u=te("files",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=$E(y),v=new WC;return Object.assign(v,m),v})}}async createInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=HE(e);return u=te("upload/v1beta/files",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=VE(y),v=new jC;return Object.assign(v,m),v})}}async get(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=FE(e);return u=te("files/{file}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=BE(e);return u=te("files/{file}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=qE(y),v=new ex;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ol(n){const e={},o=c(n,["data"]);if(o!=null&&f(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function QE(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>fb(u))),f(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function XE(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function ZE(n){const e={},o=c(n,["id"]);o!=null&&f(e,["id"],o);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function WE(n){const e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(n,["description"]);o!=null&&f(e,["description"],o);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const l=c(n,["parameters"]);l!=null&&f(e,["parameters"],l);const u=c(n,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(n,["response"]);d!=null&&f(e,["response"],d);const h=c(n,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function jE(n){const e={},o=c(n,["modelSelectionConfig"]);o!=null&&f(e,["modelConfig"],o);const s=c(n,["responseJsonSchema"]);s!=null&&f(e,["responseJsonSchema"],s);const l=c(n,["audioTimestamp"]);l!=null&&f(e,["audioTimestamp"],l);const u=c(n,["candidateCount"]);u!=null&&f(e,["candidateCount"],u);const d=c(n,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const h=c(n,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const y=c(n,["logprobs"]);y!=null&&f(e,["logprobs"],y);const m=c(n,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const v=c(n,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const _=c(n,["presencePenalty"]);_!=null&&f(e,["presencePenalty"],_);const T=c(n,["responseLogprobs"]);T!=null&&f(e,["responseLogprobs"],T);const E=c(n,["responseMimeType"]);E!=null&&f(e,["responseMimeType"],E);const D=c(n,["responseModalities"]);D!=null&&f(e,["responseModalities"],D);const P=c(n,["responseSchema"]);P!=null&&f(e,["responseSchema"],P);const L=c(n,["routingConfig"]);L!=null&&f(e,["routingConfig"],L);const G=c(n,["seed"]);G!=null&&f(e,["seed"],G);const j=c(n,["speechConfig"]);j!=null&&f(e,["speechConfig"],j);const $=c(n,["stopSequences"]);$!=null&&f(e,["stopSequences"],$);const W=c(n,["temperature"]);W!=null&&f(e,["temperature"],W);const ee=c(n,["thinkingConfig"]);ee!=null&&f(e,["thinkingConfig"],ee);const le=c(n,["topK"]);le!=null&&f(e,["topK"],le);const Q=c(n,["topP"]);if(Q!=null&&f(e,["topP"],Q),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function eb(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function tb(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function nb(n,e){const o={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const l=c(n,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const u=c(n,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const v=c(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],Oc(_));const T=c(n,["thinkingConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","thinkingConfig"],T);const E=c(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],E);const D=c(n,["systemInstruction"]);e!==void 0&&D!=null&&f(e,["setup","systemInstruction"],QE(pt(D)));const P=c(n,["tools"]);if(e!==void 0&&P!=null){let le=Co(P);Array.isArray(le)&&(le=le.map(Q=>pb(To(Q)))),f(e,["setup","tools"],le)}const L=c(n,["sessionResumption"]);e!==void 0&&L!=null&&f(e,["setup","sessionResumption"],db(L));const G=c(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&f(e,["setup","inputAudioTranscription"],G);const j=c(n,["outputAudioTranscription"]);e!==void 0&&j!=null&&f(e,["setup","outputAudioTranscription"],j);const $=c(n,["realtimeInputConfig"]);e!==void 0&&$!=null&&f(e,["setup","realtimeInputConfig"],$);const W=c(n,["contextWindowCompression"]);e!==void 0&&W!=null&&f(e,["setup","contextWindowCompression"],W);const ee=c(n,["proactivity"]);if(e!==void 0&&ee!=null&&f(e,["setup","proactivity"],ee),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function ib(n,e){const o={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],jE(s));const l=c(n,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const u=c(n,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const v=c(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],Oc(_));const T=c(n,["thinkingConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","thinkingConfig"],T);const E=c(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],E);const D=c(n,["systemInstruction"]);e!==void 0&&D!=null&&f(e,["setup","systemInstruction"],pt(D));const P=c(n,["tools"]);if(e!==void 0&&P!=null){let Q=Co(P);Array.isArray(Q)&&(Q=Q.map(ve=>hb(To(ve)))),f(e,["setup","tools"],Q)}const L=c(n,["sessionResumption"]);e!==void 0&&L!=null&&f(e,["setup","sessionResumption"],L);const G=c(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&f(e,["setup","inputAudioTranscription"],G);const j=c(n,["outputAudioTranscription"]);e!==void 0&&j!=null&&f(e,["setup","outputAudioTranscription"],j);const $=c(n,["realtimeInputConfig"]);e!==void 0&&$!=null&&f(e,["setup","realtimeInputConfig"],$);const W=c(n,["contextWindowCompression"]);e!==void 0&&W!=null&&f(e,["setup","contextWindowCompression"],W);const ee=c(n,["proactivity"]);e!==void 0&&ee!=null&&f(e,["setup","proactivity"],ee);const le=c(n,["explicitVadSignal"]);return e!==void 0&&le!=null&&f(e,["setup","explicitVadSignal"],le),o}function ob(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["setup","model"],De(n,s));const l=c(e,["config"]);return l!=null&&f(o,["config"],nb(l,o)),o}function sb(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["setup","model"],De(n,s));const l=c(e,["config"]);return l!=null&&f(o,["config"],ib(l,o)),o}function rb(n){const e={},o=c(n,["musicGenerationConfig"]);return o!=null&&f(e,["musicGenerationConfig"],o),e}function lb(n){const e={},o=c(n,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),f(e,["weightedPrompts"],s)}return e}function ab(n){const e={},o=c(n,["media"]);if(o!=null){let m=Qg(o);Array.isArray(m)&&(m=m.map(v=>ol(v))),f(e,["mediaChunks"],m)}const s=c(n,["audio"]);s!=null&&f(e,["audio"],ol(Zg(s)));const l=c(n,["audioStreamEnd"]);l!=null&&f(e,["audioStreamEnd"],l);const u=c(n,["video"]);u!=null&&f(e,["video"],ol(Xg(u)));const d=c(n,["text"]);d!=null&&f(e,["text"],d);const h=c(n,["activityStart"]);h!=null&&f(e,["activityStart"],h);const y=c(n,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function ub(n){const e={},o=c(n,["media"]);if(o!=null){let m=Qg(o);Array.isArray(m)&&(m=m.map(v=>v)),f(e,["mediaChunks"],m)}const s=c(n,["audio"]);s!=null&&f(e,["audio"],Zg(s));const l=c(n,["audioStreamEnd"]);l!=null&&f(e,["audioStreamEnd"],l);const u=c(n,["video"]);u!=null&&f(e,["video"],Xg(u));const d=c(n,["text"]);d!=null&&f(e,["text"],d);const h=c(n,["activityStart"]);h!=null&&f(e,["activityStart"],h);const y=c(n,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function cb(n){const e={},o=c(n,["setupComplete"]);o!=null&&f(e,["setupComplete"],o);const s=c(n,["serverContent"]);s!=null&&f(e,["serverContent"],s);const l=c(n,["toolCall"]);l!=null&&f(e,["toolCall"],l);const u=c(n,["toolCallCancellation"]);u!=null&&f(e,["toolCallCancellation"],u);const d=c(n,["usageMetadata"]);d!=null&&f(e,["usageMetadata"],mb(d));const h=c(n,["goAway"]);h!=null&&f(e,["goAway"],h);const y=c(n,["sessionResumptionUpdate"]);y!=null&&f(e,["sessionResumptionUpdate"],y);const m=c(n,["voiceActivityDetectionSignal"]);return m!=null&&f(e,["voiceActivityDetectionSignal"],m),e}function fb(n){const e={},o=c(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],XE(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],ZE(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],ol(y));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const T=c(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function db(n){const e={},o=c(n,["handle"]);if(o!=null&&f(e,["handle"],o),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function pb(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const l=c(n,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(n,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(n,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],eb(h));const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],tb(y));const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function hb(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(T=>WE(T))),f(e,["functionDeclarations"],_)}const s=c(n,["retrieval"]);s!=null&&f(e,["retrieval"],s);const l=c(n,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const u=c(n,["computerUse"]);if(u!=null&&f(e,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(n,["codeExecution"]);d!=null&&f(e,["codeExecution"],d);const h=c(n,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const y=c(n,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const m=c(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],m);const v=c(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function mb(n){const e={},o=c(n,["promptTokenCount"]);o!=null&&f(e,["promptTokenCount"],o);const s=c(n,["cachedContentTokenCount"]);s!=null&&f(e,["cachedContentTokenCount"],s);const l=c(n,["candidatesTokenCount"]);l!=null&&f(e,["responseTokenCount"],l);const u=c(n,["toolUsePromptTokenCount"]);u!=null&&f(e,["toolUsePromptTokenCount"],u);const d=c(n,["thoughtsTokenCount"]);d!=null&&f(e,["thoughtsTokenCount"],d);const h=c(n,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const y=c(n,["promptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(D=>D)),f(e,["promptTokensDetails"],E)}const m=c(n,["cacheTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(D=>D)),f(e,["cacheTokensDetails"],E)}const v=c(n,["candidatesTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(D=>D)),f(e,["responseTokensDetails"],E)}const _=c(n,["toolUsePromptTokensDetails"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(D=>D)),f(e,["toolUsePromptTokensDetails"],E)}const T=c(n,["trafficType"]);return T!=null&&f(e,["trafficType"],T),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gb(n){const e={},o=c(n,["data"]);if(o!=null&&f(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function yb(n){const e={},o=c(n,["content"]);o!=null&&f(e,["content"],o);const s=c(n,["citationMetadata"]);s!=null&&f(e,["citationMetadata"],vb(s));const l=c(n,["tokenCount"]);l!=null&&f(e,["tokenCount"],l);const u=c(n,["finishReason"]);u!=null&&f(e,["finishReason"],u);const d=c(n,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const h=c(n,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const y=c(n,["index"]);y!=null&&f(e,["index"],y);const m=c(n,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const v=c(n,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(E=>E)),f(e,["safetyRatings"],T)}const _=c(n,["urlContextMetadata"]);return _!=null&&f(e,["urlContextMetadata"],_),e}function vb(n){const e={},o=c(n,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),f(e,["citations"],s)}return e}function _b(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],De(n,s));const l=c(e,["contents"]);if(l!=null){let u=Xt(l);Array.isArray(u)&&(u=u.map(d=>d)),f(o,["contents"],u)}return o}function Sb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["tokensInfo"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),f(e,["tokensInfo"],l)}return e}function Tb(n){const e={},o=c(n,["values"]);o!=null&&f(e,["values"],o);const s=c(n,["statistics"]);return s!=null&&f(e,["statistics"],Cb(s)),e}function Cb(n){const e={},o=c(n,["truncated"]);o!=null&&f(e,["truncated"],o);const s=c(n,["token_count"]);return s!=null&&f(e,["tokenCount"],s),e}function vl(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>DA(u))),f(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function xb(n){const e={},o=c(n,["controlType"]);o!=null&&f(e,["controlType"],o);const s=c(n,["enableControlImageComputation"]);return s!=null&&f(e,["computeControl"],s),e}function Eb(n){const e={};if(c(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function bb(n,e){const o={},s=c(n,["systemInstruction"]);e!==void 0&&s!=null&&f(e,["systemInstruction"],pt(s));const l=c(n,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>fy(h))),f(e,["tools"],d)}const u=c(n,["generationConfig"]);return e!==void 0&&u!=null&&f(e,["generationConfig"],gA(u)),o}function Ab(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],De(n,s));const l=c(e,["contents"]);if(l!=null){let d=Xt(l);Array.isArray(d)&&(d=d.map(h=>vl(h))),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&Eb(u),o}function Rb(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],De(n,s));const l=c(e,["contents"]);if(l!=null){let d=Xt(l);Array.isArray(d)&&(d=d.map(h=>h)),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&bb(u,o),o}function Nb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["totalTokens"]);s!=null&&f(e,["totalTokens"],s);const l=c(n,["cachedContentTokenCount"]);return l!=null&&f(e,["cachedContentTokenCount"],l),e}function Mb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["totalTokens"]);return s!=null&&f(e,["totalTokens"],s),e}function Ib(n,e){const o={},s=c(e,["model"]);return s!=null&&f(o,["_url","name"],De(n,s)),o}function Db(n,e){const o={},s=c(e,["model"]);return s!=null&&f(o,["_url","name"],De(n,s)),o}function kb(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function wb(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function Ub(n,e){const o={},s=c(n,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const l=c(n,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);const u=c(n,["numberOfImages"]);e!==void 0&&u!=null&&f(e,["parameters","sampleCount"],u);const d=c(n,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const h=c(n,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const y=c(n,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const m=c(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const _=c(n,["includeSafetyAttributes"]);e!==void 0&&_!=null&&f(e,["parameters","includeSafetyAttributes"],_);const T=c(n,["includeRaiReason"]);e!==void 0&&T!=null&&f(e,["parameters","includeRaiReason"],T);const E=c(n,["language"]);e!==void 0&&E!=null&&f(e,["parameters","language"],E);const D=c(n,["outputMimeType"]);e!==void 0&&D!=null&&f(e,["parameters","outputOptions","mimeType"],D);const P=c(n,["outputCompressionQuality"]);e!==void 0&&P!=null&&f(e,["parameters","outputOptions","compressionQuality"],P);const L=c(n,["addWatermark"]);e!==void 0&&L!=null&&f(e,["parameters","addWatermark"],L);const G=c(n,["labels"]);e!==void 0&&G!=null&&f(e,["labels"],G);const j=c(n,["editMode"]);e!==void 0&&j!=null&&f(e,["parameters","editMode"],j);const $=c(n,["baseSteps"]);return e!==void 0&&$!=null&&f(e,["parameters","editConfig","baseSteps"],$),o}function Lb(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],De(n,s));const l=c(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const u=c(e,["referenceImages"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>OA(y))),f(o,["instances[0]","referenceImages"],h)}const d=c(e,["config"]);return d!=null&&Ub(d,o),o}function Pb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>_l(u))),f(e,["generatedImages"],l)}return e}function Ob(n,e){const o={},s=c(n,["taskType"]);e!==void 0&&s!=null&&f(e,["requests[]","taskType"],s);const l=c(n,["title"]);e!==void 0&&l!=null&&f(e,["requests[]","title"],l);const u=c(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&f(e,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Gb(n,e){const o={},s=c(n,["taskType"]);e!==void 0&&s!=null&&f(e,["instances[]","task_type"],s);const l=c(n,["title"]);e!==void 0&&l!=null&&f(e,["instances[]","title"],l);const u=c(n,["outputDimensionality"]);e!==void 0&&u!=null&&f(e,["parameters","outputDimensionality"],u);const d=c(n,["mimeType"]);e!==void 0&&d!=null&&f(e,["instances[]","mimeType"],d);const h=c(n,["autoTruncate"]);return e!==void 0&&h!=null&&f(e,["parameters","autoTruncate"],h),o}function zb(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],De(n,s));const l=c(e,["contents"]);if(l!=null){let h=Uc(n,l);Array.isArray(h)&&(h=h.map(y=>y)),f(o,["requests[]","content"],h)}const u=c(e,["config"]);u!=null&&Ob(u,o);const d=c(e,["model"]);return d!==void 0&&f(o,["requests[]","model"],De(n,d)),o}function Hb(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],De(n,s));const l=c(e,["contents"]);if(l!=null){let d=Uc(n,l);Array.isArray(d)&&(d=d.map(h=>h)),f(o,["instances[]","content"],d)}const u=c(e,["config"]);return u!=null&&Gb(u,o),o}function Vb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["embeddings"],u)}const l=c(n,["metadata"]);return l!=null&&f(e,["metadata"],l),e}function Bb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["predictions[]","embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Tb(d))),f(e,["embeddings"],u)}const l=c(n,["metadata"]);return l!=null&&f(e,["metadata"],l),e}function qb(n){const e={},o=c(n,["endpoint"]);o!=null&&f(e,["name"],o);const s=c(n,["deployedModelId"]);return s!=null&&f(e,["deployedModelId"],s),e}function Fb(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Jb(n){const e={},o=c(n,["id"]);o!=null&&f(e,["id"],o);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Yb(n){const e={},o=c(n,["mode"]);o!=null&&f(e,["mode"],o);const s=c(n,["allowedFunctionNames"]);if(s!=null&&f(e,["allowedFunctionNames"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function $b(n){const e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(n,["description"]);o!=null&&f(e,["description"],o);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const l=c(n,["parameters"]);l!=null&&f(e,["parameters"],l);const u=c(n,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(n,["response"]);d!=null&&f(e,["response"],d);const h=c(n,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function Kb(n,e,o){const s={},l=c(e,["systemInstruction"]);o!==void 0&&l!=null&&f(o,["systemInstruction"],vl(pt(l)));const u=c(e,["temperature"]);u!=null&&f(s,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(s,["topP"],d);const h=c(e,["topK"]);h!=null&&f(s,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const _=c(e,["responseLogprobs"]);_!=null&&f(s,["responseLogprobs"],_);const T=c(e,["logprobs"]);T!=null&&f(s,["logprobs"],T);const E=c(e,["presencePenalty"]);E!=null&&f(s,["presencePenalty"],E);const D=c(e,["frequencyPenalty"]);D!=null&&f(s,["frequencyPenalty"],D);const P=c(e,["seed"]);P!=null&&f(s,["seed"],P);const L=c(e,["responseMimeType"]);L!=null&&f(s,["responseMimeType"],L);const G=c(e,["responseSchema"]);G!=null&&f(s,["responseSchema"],Lc(G));const j=c(e,["responseJsonSchema"]);if(j!=null&&f(s,["responseJsonSchema"],j),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const $=c(e,["safetySettings"]);if(o!==void 0&&$!=null){let fe=$;Array.isArray(fe)&&(fe=fe.map(be=>GA(be))),f(o,["safetySettings"],fe)}const W=c(e,["tools"]);if(o!==void 0&&W!=null){let fe=Co(W);Array.isArray(fe)&&(fe=fe.map(be=>JA(To(be)))),f(o,["tools"],fe)}const ee=c(e,["toolConfig"]);if(o!==void 0&&ee!=null&&f(o,["toolConfig"],FA(ee)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const le=c(e,["cachedContent"]);o!==void 0&&le!=null&&f(o,["cachedContent"],Mn(n,le));const Q=c(e,["responseModalities"]);Q!=null&&f(s,["responseModalities"],Q);const ve=c(e,["mediaResolution"]);ve!=null&&f(s,["mediaResolution"],ve);const ie=c(e,["speechConfig"]);if(ie!=null&&f(s,["speechConfig"],Pc(ie)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=c(e,["thinkingConfig"]);ne!=null&&f(s,["thinkingConfig"],ne);const he=c(e,["imageConfig"]);he!=null&&f(s,["imageConfig"],TA(he));const ge=c(e,["enableEnhancedCivicAnswers"]);return ge!=null&&f(s,["enableEnhancedCivicAnswers"],ge),s}function Qb(n,e,o){const s={},l=c(e,["systemInstruction"]);o!==void 0&&l!=null&&f(o,["systemInstruction"],pt(l));const u=c(e,["temperature"]);u!=null&&f(s,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(s,["topP"],d);const h=c(e,["topK"]);h!=null&&f(s,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const _=c(e,["responseLogprobs"]);_!=null&&f(s,["responseLogprobs"],_);const T=c(e,["logprobs"]);T!=null&&f(s,["logprobs"],T);const E=c(e,["presencePenalty"]);E!=null&&f(s,["presencePenalty"],E);const D=c(e,["frequencyPenalty"]);D!=null&&f(s,["frequencyPenalty"],D);const P=c(e,["seed"]);P!=null&&f(s,["seed"],P);const L=c(e,["responseMimeType"]);L!=null&&f(s,["responseMimeType"],L);const G=c(e,["responseSchema"]);G!=null&&f(s,["responseSchema"],Lc(G));const j=c(e,["responseJsonSchema"]);j!=null&&f(s,["responseJsonSchema"],j);const $=c(e,["routingConfig"]);$!=null&&f(s,["routingConfig"],$);const W=c(e,["modelSelectionConfig"]);W!=null&&f(s,["modelConfig"],W);const ee=c(e,["safetySettings"]);if(o!==void 0&&ee!=null){let R=ee;Array.isArray(R)&&(R=R.map(q=>q)),f(o,["safetySettings"],R)}const le=c(e,["tools"]);if(o!==void 0&&le!=null){let R=Co(le);Array.isArray(R)&&(R=R.map(q=>fy(To(q)))),f(o,["tools"],R)}const Q=c(e,["toolConfig"]);o!==void 0&&Q!=null&&f(o,["toolConfig"],Q);const ve=c(e,["labels"]);o!==void 0&&ve!=null&&f(o,["labels"],ve);const ie=c(e,["cachedContent"]);o!==void 0&&ie!=null&&f(o,["cachedContent"],Mn(n,ie));const ne=c(e,["responseModalities"]);ne!=null&&f(s,["responseModalities"],ne);const he=c(e,["mediaResolution"]);he!=null&&f(s,["mediaResolution"],he);const ge=c(e,["speechConfig"]);ge!=null&&f(s,["speechConfig"],Pc(ge));const fe=c(e,["audioTimestamp"]);fe!=null&&f(s,["audioTimestamp"],fe);const be=c(e,["thinkingConfig"]);be!=null&&f(s,["thinkingConfig"],be);const qe=c(e,["imageConfig"]);if(qe!=null&&f(s,["imageConfig"],CA(qe)),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}function w0(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],De(n,s));const l=c(e,["contents"]);if(l!=null){let d=Xt(l);Array.isArray(d)&&(d=d.map(h=>vl(h))),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&f(o,["generationConfig"],Kb(n,u,o)),o}function U0(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],De(n,s));const l=c(e,["contents"]);if(l!=null){let d=Xt(l);Array.isArray(d)&&(d=d.map(h=>h)),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&f(o,["generationConfig"],Qb(n,u,o)),o}function L0(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(m=>yb(m))),f(e,["candidates"],y)}const l=c(n,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const u=c(n,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(n,["responseId"]);d!=null&&f(e,["responseId"],d);const h=c(n,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function P0(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(v=>v)),f(e,["candidates"],m)}const l=c(n,["createTime"]);l!=null&&f(e,["createTime"],l);const u=c(n,["modelVersion"]);u!=null&&f(e,["modelVersion"],u);const d=c(n,["promptFeedback"]);d!=null&&f(e,["promptFeedback"],d);const h=c(n,["responseId"]);h!=null&&f(e,["responseId"],h);const y=c(n,["usageMetadata"]);return y!=null&&f(e,["usageMetadata"],y),e}function Xb(n,e){const o={};if(c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=c(n,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const l=c(n,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);const u=c(n,["guidanceScale"]);if(e!==void 0&&u!=null&&f(e,["parameters","guidanceScale"],u),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=c(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&f(e,["parameters","safetySetting"],d);const h=c(n,["personGeneration"]);e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h);const y=c(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&f(e,["parameters","includeSafetyAttributes"],y);const m=c(n,["includeRaiReason"]);e!==void 0&&m!=null&&f(e,["parameters","includeRaiReason"],m);const v=c(n,["language"]);e!==void 0&&v!=null&&f(e,["parameters","language"],v);const _=c(n,["outputMimeType"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","mimeType"],_);const T=c(n,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&f(e,["parameters","outputOptions","compressionQuality"],T),c(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=c(n,["imageSize"]);if(e!==void 0&&E!=null&&f(e,["parameters","sampleImageSize"],E),c(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function Zb(n,e){const o={},s=c(n,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const l=c(n,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);const u=c(n,["numberOfImages"]);e!==void 0&&u!=null&&f(e,["parameters","sampleCount"],u);const d=c(n,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const h=c(n,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const y=c(n,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const m=c(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const _=c(n,["includeSafetyAttributes"]);e!==void 0&&_!=null&&f(e,["parameters","includeSafetyAttributes"],_);const T=c(n,["includeRaiReason"]);e!==void 0&&T!=null&&f(e,["parameters","includeRaiReason"],T);const E=c(n,["language"]);e!==void 0&&E!=null&&f(e,["parameters","language"],E);const D=c(n,["outputMimeType"]);e!==void 0&&D!=null&&f(e,["parameters","outputOptions","mimeType"],D);const P=c(n,["outputCompressionQuality"]);e!==void 0&&P!=null&&f(e,["parameters","outputOptions","compressionQuality"],P);const L=c(n,["addWatermark"]);e!==void 0&&L!=null&&f(e,["parameters","addWatermark"],L);const G=c(n,["labels"]);e!==void 0&&G!=null&&f(e,["labels"],G);const j=c(n,["imageSize"]);e!==void 0&&j!=null&&f(e,["parameters","sampleImageSize"],j);const $=c(n,["enhancePrompt"]);return e!==void 0&&$!=null&&f(e,["parameters","enhancePrompt"],$),o}function Wb(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],De(n,s));const l=c(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const u=c(e,["config"]);return u!=null&&Xb(u,o),o}function jb(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],De(n,s));const l=c(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const u=c(e,["config"]);return u!=null&&Zb(u,o),o}function eA(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>dA(d))),f(e,["generatedImages"],u)}const l=c(n,["positivePromptSafetyAttributes"]);return l!=null&&f(e,["positivePromptSafetyAttributes"],uy(l)),e}function tA(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>_l(d))),f(e,["generatedImages"],u)}const l=c(n,["positivePromptSafetyAttributes"]);return l!=null&&f(e,["positivePromptSafetyAttributes"],cy(l)),e}function nA(n,e){const o={},s=c(n,["numberOfVideos"]);if(e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s),c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=c(n,["durationSeconds"]);if(e!==void 0&&l!=null&&f(e,["parameters","durationSeconds"],l),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(n,["aspectRatio"]);e!==void 0&&u!=null&&f(e,["parameters","aspectRatio"],u);const d=c(n,["resolution"]);e!==void 0&&d!=null&&f(e,["parameters","resolution"],d);const h=c(n,["personGeneration"]);if(e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h),c(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=c(n,["negativePrompt"]);e!==void 0&&y!=null&&f(e,["parameters","negativePrompt"],y);const m=c(n,["enhancePrompt"]);if(e!==void 0&&m!=null&&f(e,["parameters","enhancePrompt"],m),c(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=c(n,["lastFrame"]);e!==void 0&&v!=null&&f(e,["instances[0]","lastFrame"],Sl(v));const _=c(n,["referenceImages"]);if(e!==void 0&&_!=null){let T=_;Array.isArray(T)&&(T=T.map(E=>o1(E))),f(e,["instances[0]","referenceImages"],T)}if(c(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function iA(n,e){const o={},s=c(n,["numberOfVideos"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const l=c(n,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const u=c(n,["fps"]);e!==void 0&&u!=null&&f(e,["parameters","fps"],u);const d=c(n,["durationSeconds"]);e!==void 0&&d!=null&&f(e,["parameters","durationSeconds"],d);const h=c(n,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const y=c(n,["aspectRatio"]);e!==void 0&&y!=null&&f(e,["parameters","aspectRatio"],y);const m=c(n,["resolution"]);e!==void 0&&m!=null&&f(e,["parameters","resolution"],m);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const _=c(n,["pubsubTopic"]);e!==void 0&&_!=null&&f(e,["parameters","pubsubTopic"],_);const T=c(n,["negativePrompt"]);e!==void 0&&T!=null&&f(e,["parameters","negativePrompt"],T);const E=c(n,["enhancePrompt"]);e!==void 0&&E!=null&&f(e,["parameters","enhancePrompt"],E);const D=c(n,["generateAudio"]);e!==void 0&&D!=null&&f(e,["parameters","generateAudio"],D);const P=c(n,["lastFrame"]);e!==void 0&&P!=null&&f(e,["instances[0]","lastFrame"],on(P));const L=c(n,["referenceImages"]);if(e!==void 0&&L!=null){let $=L;Array.isArray($)&&($=$.map(W=>s1(W))),f(e,["instances[0]","referenceImages"],$)}const G=c(n,["mask"]);e!==void 0&&G!=null&&f(e,["instances[0]","mask"],i1(G));const j=c(n,["compressionQuality"]);return e!==void 0&&j!=null&&f(e,["parameters","compressionQuality"],j),o}function oA(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],aA(d)),e}function sA(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],uA(d)),e}function rA(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],De(n,s));const l=c(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const u=c(e,["image"]);u!=null&&f(o,["instances[0]","image"],Sl(u));const d=c(e,["video"]);d!=null&&f(o,["instances[0]","video"],dy(d));const h=c(e,["source"]);h!=null&&cA(h,o);const y=c(e,["config"]);return y!=null&&nA(y,o),o}function lA(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],De(n,s));const l=c(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const u=c(e,["image"]);u!=null&&f(o,["instances[0]","image"],on(u));const d=c(e,["video"]);d!=null&&f(o,["instances[0]","video"],py(d));const h=c(e,["source"]);h!=null&&fA(h,o);const y=c(e,["config"]);return y!=null&&iA(y,o),o}function aA(n){const e={},o=c(n,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>hA(d))),f(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function uA(n){const e={},o=c(n,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>mA(d))),f(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function cA(n,e){const o={},s=c(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const l=c(n,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],Sl(l));const u=c(n,["video"]);return e!==void 0&&u!=null&&f(e,["instances[0]","video"],dy(u)),o}function fA(n,e){const o={},s=c(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const l=c(n,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],on(l));const u=c(n,["video"]);return e!==void 0&&u!=null&&f(e,["instances[0]","video"],py(u)),o}function dA(n){const e={},o=c(n,["_self"]);o!=null&&f(e,["image"],xA(o));const s=c(n,["raiFilteredReason"]);s!=null&&f(e,["raiFilteredReason"],s);const l=c(n,["_self"]);return l!=null&&f(e,["safetyAttributes"],uy(l)),e}function _l(n){const e={},o=c(n,["_self"]);o!=null&&f(e,["image"],ay(o));const s=c(n,["raiFilteredReason"]);s!=null&&f(e,["raiFilteredReason"],s);const l=c(n,["_self"]);l!=null&&f(e,["safetyAttributes"],cy(l));const u=c(n,["prompt"]);return u!=null&&f(e,["enhancedPrompt"],u),e}function pA(n){const e={},o=c(n,["_self"]);o!=null&&f(e,["mask"],ay(o));const s=c(n,["labels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),f(e,["labels"],l)}return e}function hA(n){const e={},o=c(n,["video"]);return o!=null&&f(e,["video"],t1(o)),e}function mA(n){const e={},o=c(n,["_self"]);return o!=null&&f(e,["video"],n1(o)),e}function gA(n){const e={},o=c(n,["modelSelectionConfig"]);o!=null&&f(e,["modelConfig"],o);const s=c(n,["responseJsonSchema"]);s!=null&&f(e,["responseJsonSchema"],s);const l=c(n,["audioTimestamp"]);l!=null&&f(e,["audioTimestamp"],l);const u=c(n,["candidateCount"]);u!=null&&f(e,["candidateCount"],u);const d=c(n,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const h=c(n,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const y=c(n,["logprobs"]);y!=null&&f(e,["logprobs"],y);const m=c(n,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const v=c(n,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const _=c(n,["presencePenalty"]);_!=null&&f(e,["presencePenalty"],_);const T=c(n,["responseLogprobs"]);T!=null&&f(e,["responseLogprobs"],T);const E=c(n,["responseMimeType"]);E!=null&&f(e,["responseMimeType"],E);const D=c(n,["responseModalities"]);D!=null&&f(e,["responseModalities"],D);const P=c(n,["responseSchema"]);P!=null&&f(e,["responseSchema"],P);const L=c(n,["routingConfig"]);L!=null&&f(e,["routingConfig"],L);const G=c(n,["seed"]);G!=null&&f(e,["seed"],G);const j=c(n,["speechConfig"]);j!=null&&f(e,["speechConfig"],j);const $=c(n,["stopSequences"]);$!=null&&f(e,["stopSequences"],$);const W=c(n,["temperature"]);W!=null&&f(e,["temperature"],W);const ee=c(n,["thinkingConfig"]);ee!=null&&f(e,["thinkingConfig"],ee);const le=c(n,["topK"]);le!=null&&f(e,["topK"],le);const Q=c(n,["topP"]);if(Q!=null&&f(e,["topP"],Q),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function yA(n,e){const o={},s=c(e,["model"]);return s!=null&&f(o,["_url","name"],De(n,s)),o}function vA(n,e){const o={},s=c(e,["model"]);return s!=null&&f(o,["_url","name"],De(n,s)),o}function _A(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function SA(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function TA(n){const e={},o=c(n,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const s=c(n,["imageSize"]);if(s!=null&&f(e,["imageSize"],s),c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function CA(n){const e={},o=c(n,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const s=c(n,["imageSize"]);s!=null&&f(e,["imageSize"],s);const l=c(n,["outputMimeType"]);l!=null&&f(e,["imageOutputOptions","mimeType"],l);const u=c(n,["outputCompressionQuality"]);return u!=null&&f(e,["imageOutputOptions","compressionQuality"],u),e}function xA(n){const e={},o=c(n,["bytesBase64Encoded"]);o!=null&&f(e,["imageBytes"],si(o));const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function ay(n){const e={},o=c(n,["gcsUri"]);o!=null&&f(e,["gcsUri"],o);const s=c(n,["bytesBase64Encoded"]);s!=null&&f(e,["imageBytes"],si(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function Sl(n){const e={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=c(n,["imageBytes"]);o!=null&&f(e,["bytesBase64Encoded"],si(o));const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function on(n){const e={},o=c(n,["gcsUri"]);o!=null&&f(e,["gcsUri"],o);const s=c(n,["imageBytes"]);s!=null&&f(e,["bytesBase64Encoded"],si(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function EA(n,e,o){const s={},l=c(e,["pageSize"]);o!==void 0&&l!=null&&f(o,["_query","pageSize"],l);const u=c(e,["pageToken"]);o!==void 0&&u!=null&&f(o,["_query","pageToken"],u);const d=c(e,["filter"]);o!==void 0&&d!=null&&f(o,["_query","filter"],d);const h=c(e,["queryBase"]);return o!==void 0&&h!=null&&f(o,["_url","models_url"],ty(n,h)),s}function bA(n,e,o){const s={},l=c(e,["pageSize"]);o!==void 0&&l!=null&&f(o,["_query","pageSize"],l);const u=c(e,["pageToken"]);o!==void 0&&u!=null&&f(o,["_query","pageToken"],u);const d=c(e,["filter"]);o!==void 0&&d!=null&&f(o,["_query","filter"],d);const h=c(e,["queryBase"]);return o!==void 0&&h!=null&&f(o,["_url","models_url"],ty(n,h)),s}function AA(n,e){const o={},s=c(e,["config"]);return s!=null&&EA(n,s,o),o}function RA(n,e){const o={},s=c(e,["config"]);return s!=null&&bA(n,s,o),o}function NA(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["_self"]);if(l!=null){let u=ny(l);Array.isArray(u)&&(u=u.map(d=>dc(d))),f(e,["models"],u)}return e}function MA(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["_self"]);if(l!=null){let u=ny(l);Array.isArray(u)&&(u=u.map(d=>pc(d))),f(e,["models"],u)}return e}function IA(n){const e={},o=c(n,["maskMode"]);o!=null&&f(e,["maskMode"],o);const s=c(n,["segmentationClasses"]);s!=null&&f(e,["maskClasses"],s);const l=c(n,["maskDilation"]);return l!=null&&f(e,["dilation"],l),e}function dc(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["displayName"]);s!=null&&f(e,["displayName"],s);const l=c(n,["description"]);l!=null&&f(e,["description"],l);const u=c(n,["version"]);u!=null&&f(e,["version"],u);const d=c(n,["_self"]);d!=null&&f(e,["tunedModelInfo"],YA(d));const h=c(n,["inputTokenLimit"]);h!=null&&f(e,["inputTokenLimit"],h);const y=c(n,["outputTokenLimit"]);y!=null&&f(e,["outputTokenLimit"],y);const m=c(n,["supportedGenerationMethods"]);m!=null&&f(e,["supportedActions"],m);const v=c(n,["temperature"]);v!=null&&f(e,["temperature"],v);const _=c(n,["maxTemperature"]);_!=null&&f(e,["maxTemperature"],_);const T=c(n,["topP"]);T!=null&&f(e,["topP"],T);const E=c(n,["topK"]);E!=null&&f(e,["topK"],E);const D=c(n,["thinking"]);return D!=null&&f(e,["thinking"],D),e}function pc(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["displayName"]);s!=null&&f(e,["displayName"],s);const l=c(n,["description"]);l!=null&&f(e,["description"],l);const u=c(n,["versionId"]);u!=null&&f(e,["version"],u);const d=c(n,["deployedModels"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(T=>qb(T))),f(e,["endpoints"],_)}const h=c(n,["labels"]);h!=null&&f(e,["labels"],h);const y=c(n,["_self"]);y!=null&&f(e,["tunedModelInfo"],$A(y));const m=c(n,["defaultCheckpointId"]);m!=null&&f(e,["defaultCheckpointId"],m);const v=c(n,["checkpoints"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(T=>T)),f(e,["checkpoints"],_)}return e}function DA(n){const e={},o=c(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],Fb(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],Jb(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],gb(y));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const T=c(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function kA(n){const e={},o=c(n,["productImage"]);return o!=null&&f(e,["image"],on(o)),e}function wA(n,e){const o={},s=c(n,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const l=c(n,["baseSteps"]);e!==void 0&&l!=null&&f(e,["parameters","baseSteps"],l);const u=c(n,["outputGcsUri"]);e!==void 0&&u!=null&&f(e,["parameters","storageUri"],u);const d=c(n,["seed"]);e!==void 0&&d!=null&&f(e,["parameters","seed"],d);const h=c(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&f(e,["parameters","safetySetting"],h);const y=c(n,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const m=c(n,["addWatermark"]);e!==void 0&&m!=null&&f(e,["parameters","addWatermark"],m);const v=c(n,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);const _=c(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","compressionQuality"],_);const T=c(n,["enhancePrompt"]);e!==void 0&&T!=null&&f(e,["parameters","enhancePrompt"],T);const E=c(n,["labels"]);return e!==void 0&&E!=null&&f(e,["labels"],E),o}function UA(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],De(n,s));const l=c(e,["source"]);l!=null&&PA(l,o);const u=c(e,["config"]);return u!=null&&wA(u,o),o}function LA(n){const e={},o=c(n,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>_l(l))),f(e,["generatedImages"],s)}return e}function PA(n,e){const o={},s=c(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const l=c(n,["personImage"]);e!==void 0&&l!=null&&f(e,["instances[0]","personImage","image"],on(l));const u=c(n,["productImages"]);if(e!==void 0&&u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>kA(h))),f(e,["instances[0]","productImages"],d)}return o}function OA(n){const e={},o=c(n,["referenceImage"]);o!=null&&f(e,["referenceImage"],on(o));const s=c(n,["referenceId"]);s!=null&&f(e,["referenceId"],s);const l=c(n,["referenceType"]);l!=null&&f(e,["referenceType"],l);const u=c(n,["maskImageConfig"]);u!=null&&f(e,["maskImageConfig"],IA(u));const d=c(n,["controlImageConfig"]);d!=null&&f(e,["controlImageConfig"],xb(d));const h=c(n,["styleImageConfig"]);h!=null&&f(e,["styleImageConfig"],h);const y=c(n,["subjectImageConfig"]);return y!=null&&f(e,["subjectImageConfig"],y),e}function uy(n){const e={},o=c(n,["safetyAttributes","categories"]);o!=null&&f(e,["categories"],o);const s=c(n,["safetyAttributes","scores"]);s!=null&&f(e,["scores"],s);const l=c(n,["contentType"]);return l!=null&&f(e,["contentType"],l),e}function cy(n){const e={},o=c(n,["safetyAttributes","categories"]);o!=null&&f(e,["categories"],o);const s=c(n,["safetyAttributes","scores"]);s!=null&&f(e,["scores"],s);const l=c(n,["contentType"]);return l!=null&&f(e,["contentType"],l),e}function GA(n){const e={},o=c(n,["category"]);if(o!=null&&f(e,["category"],o),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(n,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function zA(n){const e={},o=c(n,["image"]);return o!=null&&f(e,["image"],on(o)),e}function HA(n,e){const o={},s=c(n,["mode"]);e!==void 0&&s!=null&&f(e,["parameters","mode"],s);const l=c(n,["maxPredictions"]);e!==void 0&&l!=null&&f(e,["parameters","maxPredictions"],l);const u=c(n,["confidenceThreshold"]);e!==void 0&&u!=null&&f(e,["parameters","confidenceThreshold"],u);const d=c(n,["maskDilation"]);e!==void 0&&d!=null&&f(e,["parameters","maskDilation"],d);const h=c(n,["binaryColorThreshold"]);e!==void 0&&h!=null&&f(e,["parameters","binaryColorThreshold"],h);const y=c(n,["labels"]);return e!==void 0&&y!=null&&f(e,["labels"],y),o}function VA(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],De(n,s));const l=c(e,["source"]);l!=null&&qA(l,o);const u=c(e,["config"]);return u!=null&&HA(u,o),o}function BA(n){const e={},o=c(n,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>pA(l))),f(e,["generatedMasks"],s)}return e}function qA(n,e){const o={},s=c(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const l=c(n,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],on(l));const u=c(n,["scribbleImage"]);return e!==void 0&&u!=null&&f(e,["instances[0]","scribble"],zA(u)),o}function FA(n){const e={},o=c(n,["functionCallingConfig"]);o!=null&&f(e,["functionCallingConfig"],Yb(o));const s=c(n,["retrievalConfig"]);return s!=null&&f(e,["retrievalConfig"],s),e}function JA(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const l=c(n,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(n,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(n,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],_A(h));const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],SA(y));const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function fy(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(T=>$b(T))),f(e,["functionDeclarations"],_)}const s=c(n,["retrieval"]);s!=null&&f(e,["retrieval"],s);const l=c(n,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const u=c(n,["computerUse"]);if(u!=null&&f(e,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(n,["codeExecution"]);d!=null&&f(e,["codeExecution"],d);const h=c(n,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const y=c(n,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const m=c(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],m);const v=c(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function YA(n){const e={},o=c(n,["baseModel"]);o!=null&&f(e,["baseModel"],o);const s=c(n,["createTime"]);s!=null&&f(e,["createTime"],s);const l=c(n,["updateTime"]);return l!=null&&f(e,["updateTime"],l),e}function $A(n){const e={},o=c(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&f(e,["baseModel"],o);const s=c(n,["createTime"]);s!=null&&f(e,["createTime"],s);const l=c(n,["updateTime"]);return l!=null&&f(e,["updateTime"],l),e}function KA(n,e){const o={},s=c(n,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const l=c(n,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const u=c(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&f(e,["defaultCheckpointId"],u),o}function QA(n,e){const o={},s=c(n,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const l=c(n,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const u=c(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&f(e,["defaultCheckpointId"],u),o}function XA(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","name"],De(n,s));const l=c(e,["config"]);return l!=null&&KA(l,o),o}function ZA(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],De(n,s));const l=c(e,["config"]);return l!=null&&QA(l,o),o}function WA(n,e){const o={},s=c(n,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const l=c(n,["safetyFilterLevel"]);e!==void 0&&l!=null&&f(e,["parameters","safetySetting"],l);const u=c(n,["personGeneration"]);e!==void 0&&u!=null&&f(e,["parameters","personGeneration"],u);const d=c(n,["includeRaiReason"]);e!==void 0&&d!=null&&f(e,["parameters","includeRaiReason"],d);const h=c(n,["outputMimeType"]);e!==void 0&&h!=null&&f(e,["parameters","outputOptions","mimeType"],h);const y=c(n,["outputCompressionQuality"]);e!==void 0&&y!=null&&f(e,["parameters","outputOptions","compressionQuality"],y);const m=c(n,["enhanceInputImage"]);e!==void 0&&m!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],m);const v=c(n,["imagePreservationFactor"]);e!==void 0&&v!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const _=c(n,["labels"]);e!==void 0&&_!=null&&f(e,["labels"],_);const T=c(n,["numberOfImages"]);e!==void 0&&T!=null&&f(e,["parameters","sampleCount"],T);const E=c(n,["mode"]);return e!==void 0&&E!=null&&f(e,["parameters","mode"],E),o}function jA(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],De(n,s));const l=c(e,["image"]);l!=null&&f(o,["instances[0]","image"],on(l));const u=c(e,["upscaleFactor"]);u!=null&&f(o,["parameters","upscaleConfig","upscaleFactor"],u);const d=c(e,["config"]);return d!=null&&WA(d,o),o}function e1(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>_l(u))),f(e,["generatedImages"],l)}return e}function t1(n){const e={},o=c(n,["uri"]);o!=null&&f(e,["uri"],o);const s=c(n,["encodedVideo"]);s!=null&&f(e,["videoBytes"],si(s));const l=c(n,["encoding"]);return l!=null&&f(e,["mimeType"],l),e}function n1(n){const e={},o=c(n,["gcsUri"]);o!=null&&f(e,["uri"],o);const s=c(n,["bytesBase64Encoded"]);s!=null&&f(e,["videoBytes"],si(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function i1(n){const e={},o=c(n,["image"]);o!=null&&f(e,["_self"],on(o));const s=c(n,["maskMode"]);return s!=null&&f(e,["maskMode"],s),e}function o1(n){const e={},o=c(n,["image"]);o!=null&&f(e,["image"],Sl(o));const s=c(n,["referenceType"]);return s!=null&&f(e,["referenceType"],s),e}function s1(n){const e={},o=c(n,["image"]);o!=null&&f(e,["image"],on(o));const s=c(n,["referenceType"]);return s!=null&&f(e,["referenceType"],s),e}function dy(n){const e={},o=c(n,["uri"]);o!=null&&f(e,["uri"],o);const s=c(n,["videoBytes"]);s!=null&&f(e,["encodedVideo"],si(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["encoding"],l),e}function py(n){const e={},o=c(n,["uri"]);o!=null&&f(e,["gcsUri"],o);const s=c(n,["videoBytes"]);s!=null&&f(e,["bytesBase64Encoded"],si(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r1(n,e){const o={},s=c(n,["displayName"]);return e!==void 0&&s!=null&&f(e,["displayName"],s),o}function l1(n){const e={},o=c(n,["config"]);return o!=null&&r1(o,e),e}function a1(n,e){const o={},s=c(n,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),o}function u1(n){const e={},o=c(n,["name"]);o!=null&&f(e,["_url","name"],o);const s=c(n,["config"]);return s!=null&&a1(s,e),e}function c1(n){const e={},o=c(n,["name"]);return o!=null&&f(e,["_url","name"],o),e}function f1(n,e){const o={},s=c(n,["customMetadata"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["customMetadata"],u)}const l=c(n,["chunkingConfig"]);return e!==void 0&&l!=null&&f(e,["chunkingConfig"],l),o}function d1(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],h1(d)),e}function p1(n){const e={},o=c(n,["fileSearchStoreName"]);o!=null&&f(e,["_url","file_search_store_name"],o);const s=c(n,["fileName"]);s!=null&&f(e,["fileName"],s);const l=c(n,["config"]);return l!=null&&f1(l,e),e}function h1(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["parent"]);s!=null&&f(e,["parent"],s);const l=c(n,["documentName"]);return l!=null&&f(e,["documentName"],l),e}function m1(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function g1(n){const e={},o=c(n,["config"]);return o!=null&&m1(o,e),e}function y1(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["fileSearchStores"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["fileSearchStores"],u)}return e}function hy(n,e){const o={},s=c(n,["mimeType"]);e!==void 0&&s!=null&&f(e,["mimeType"],s);const l=c(n,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const u=c(n,["customMetadata"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>y)),f(e,["customMetadata"],h)}const d=c(n,["chunkingConfig"]);return e!==void 0&&d!=null&&f(e,["chunkingConfig"],d),o}function v1(n){const e={},o=c(n,["fileSearchStoreName"]);o!=null&&f(e,["_url","file_search_store_name"],o);const s=c(n,["config"]);return s!=null&&hy(s,e),e}function _1(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const S1="Content-Type",T1="X-Server-Timeout",C1="User-Agent",hc="x-goog-api-client",x1="1.34.0",E1=`google-genai-sdk/${x1}`,b1="v1beta1",A1="v1beta";class R1{constructor(e){var o,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:b1,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:A1,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,s){const l=[this.getRequestUrlInternal(o)];return s&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,o,s);if(e.queryParams)for(const[d,h]of Object.entries(e.queryParams))l.searchParams.append(d,String(h));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,o,l.toString(),e.abortSignal),this.unaryApiCall(l,u,e.httpMethod)}patchHttpOptions(e,o){const s=JSON.parse(JSON.stringify(e));for(const[l,u]of Object.entries(o))typeof u=="object"?s[l]=Object.assign(Object.assign({},s[l]),u):u!==void 0&&(s[l]=u);return s}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,o,s);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,o,l.toString(),e.abortSignal),this.streamApiCall(l,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,s,l){if(o&&o.timeout||l){const u=new AbortController,d=u.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const h=setTimeout(()=>u.abort(),o.timeout);h&&typeof h.unref=="function"&&h.unref()}l&&l.addEventListener("abort",()=>{u.abort()}),e.signal=d}return o&&o.extraBody!==null&&N1(e,o.extraBody),e.headers=await this.getHeadersInternal(o,s),e}async unaryApiCall(e,o,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:s})).then(async l=>(await O0(l),new uc(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,o,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:s})).then(async l=>(await O0(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){return tn(this,arguments,function*(){var s;const l=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),u=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let d="";const h="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield ye(l.read());if(m){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=u.decode(v,{stream:!0});try{const D=JSON.parse(_);if("error"in D){const P=JSON.parse(JSON.stringify(D.error)),L=P.status,G=P.code,j=`got status: ${L}. ${JSON.stringify(D)}`;if(G>=400&&G<600)throw new yl({message:j,status:G})}}catch(D){if(D.name==="ApiError")throw D}d+=_;let T=-1,E=0;for(;;){T=-1,E=0;for(const L of y){const G=d.indexOf(L);G!==-1&&(T===-1||G<T)&&(T=G,E=L.length)}if(T===-1)break;const D=d.substring(0,T);d=d.substring(T+E);const P=D.trim();if(P.startsWith(h)){const L=P.substring(h.length).trim();try{const G=new Response(L,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ye(new uc(G))}catch(G){throw new Error(`exception parsing stream chunk ${L}. ${G}`)}}}}}finally{l.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},o=E1+" "+this.clientOptions.userAgentExtra;return e[C1]=o,e[hc]=o,e[S1]="application/json",e}async getHeadersInternal(e,o){const s=new Headers;if(e&&e.headers){for(const[l,u]of Object.entries(e.headers))s.append(l,u);e.timeout&&e.timeout>0&&s.append(T1,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(e){var o;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(e,o){var s;const l={};o!=null&&(l.mimeType=o.mimeType,l.name=o.name,l.displayName=o.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const u=this.clientOptions.uploader,d=await u.stat(e);l.sizeBytes=String(d.size);const h=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=h;const y={file:l},m=this.getFileName(e),v=te("upload/v1beta/files",y._url),_=await this.fetchUploadUrl(v,l.sizeBytes,l.mimeType,m,y,o==null?void 0:o.httpOptions);return u.upload(e,_,this)}async uploadFileToFileSearchStore(e,o,s){var l;const u=this.clientOptions.uploader,d=await u.stat(o),h=String(d.size),y=(l=s==null?void 0:s.mimeType)!==null&&l!==void 0?l:d.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(o),_={};s!=null&&hy(s,_);const T=await this.fetchUploadUrl(m,h,y,v,_,s==null?void 0:s.httpOptions);return u.uploadToFileSearchStore(o,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o,s,l,u,d){var h;let y={};d?y=d:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},l?{"X-Goog-Upload-File-Name":l}:{})};const m=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=m==null?void 0:m.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function O0(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let s;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await n.json():s={error:{message:await n.text(),code:n.status,status:n.statusText}};const l=JSON.stringify(s);throw o>=400&&o<600?new yl({message:l,status:o}):new Error(l)}}function N1(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const u=JSON.parse(n.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))o=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(u,d){const h=Object.assign({},u);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y)){const m=d[y],v=h[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?h[y]=s(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),h[y]=m)}return h}const l=s(o,e);n.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const M1="mcp_used/unknown";let I1=!1;function my(n){for(const e of n)if(D1(e)||typeof e=="object"&&"inputSchema"in e)return!0;return I1}function gy(n){var e;const o=(e=n[hc])!==null&&e!==void 0?e:"";n[hc]=(o+` ${M1}`).trimStart()}function D1(n){return n!==null&&typeof n=="object"&&n instanceof Gc}function k1(n){return tn(this,arguments,function*(o,s=100){let l,u=0;for(;u<s;){const d=yield ye(o.listTools({cursor:l}));for(const h of d.tools)yield yield ye(h),u++;if(!d.nextCursor)break;l=d.nextCursor}})}class Gc{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new Gc(e,o)}async initialize(){var e,o,s,l;if(this.mcpTools.length>0)return;const u={},d=[];for(const v of this.mcpClients)try{for(var h=!0,y=(o=void 0,nn(k1(v))),m;m=await y.next(),e=m.done,!e;h=!0){l=m.value,h=!1;const _=l;d.push(_);const T=_.name;if(u[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);u[T]=v}}catch(_){o={error:_}}finally{try{!h&&!e&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}this.mcpTools=d,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),cx(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[s.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const d=await l.callTool({name:s.name,arguments:s.args},void 0,u);o.push({functionResponse:{name:s.name,response:d.isError?{error:d}:d}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function w1(n,e,o){const s=new nx;let l;o.data instanceof Blob?l=JSON.parse(await o.data.text()):l=JSON.parse(o.data),Object.assign(s,l),e(s)}class U1{constructor(e,o,s){this.apiClient=e,this.auth=o,this.webSocketFactory=s}async connect(e){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),d=O1(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const v=new Promise($=>{m=$}),_=e.callbacks,T=function(){m({})},E=this.apiClient,D={onopen:T,onmessage:$=>{w1(E,_.onmessage,$)},onerror:(o=_==null?void 0:_.onerror)!==null&&o!==void 0?o:function($){},onclose:(s=_==null?void 0:_.onclose)!==null&&s!==void 0?s:function($){}},P=this.webSocketFactory.create(y,P1(d),D);P.connect(),await v;const j={setup:{model:De(this.apiClient,e.model)}};return P.send(JSON.stringify(j)),new L1(P,this.apiClient)}}class L1{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=lb(e);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=rb(e);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const o={playbackControl:e};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(go.PLAY)}pause(){this.sendPlaybackControl(go.PAUSE)}stop(){this.sendPlaybackControl(go.STOP)}resetContext(){this.sendPlaybackControl(go.RESET_CONTEXT)}close(){this.conn.close()}}function P1(n){const e={};return n.forEach((o,s)=>{e[s]=o}),e}function O1(n){const e=new Headers;for(const[o,s]of Object.entries(n))e.append(o,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G1="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function z1(n,e,o){const s=new tx;let l;o.data instanceof Blob?l=await o.data.text():o.data instanceof ArrayBuffer?l=new TextDecoder().decode(o.data):l=o.data;const u=JSON.parse(l);if(n.isVertexAI()){const d=cb(u);Object.assign(s,d)}else Object.assign(s,u);e(s)}class H1{constructor(e,o,s){this.apiClient=e,this.auth=o,this.webSocketFactory=s,this.music=new U1(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,s,l,u,d,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&my(e.config.tools)&&gy(_);const T=F1(_);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,v);else{const ie=this.apiClient.getApiKey();let ne="BidiGenerateContent",he="key";ie!=null&&ie.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ne="BidiGenerateContentConstrained",he="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ne}?${he}=${ie}`}let E=()=>{};const D=new Promise(ie=>{E=ie}),P=e.callbacks,L=function(){var ie;(ie=P==null?void 0:P.onopen)===null||ie===void 0||ie.call(P),E({})},G=this.apiClient,j={onopen:L,onmessage:ie=>{z1(G,P.onmessage,ie)},onerror:(o=P==null?void 0:P.onerror)!==null&&o!==void 0?o:function(ie){},onclose:(s=P==null?void 0:P.onclose)!==null&&s!==void 0?s:function(ie){}},$=this.webSocketFactory.create(v,q1(T),j);$.connect(),await D;let W=De(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&W.startsWith("publishers/")){const ie=this.apiClient.getProject(),ne=this.apiClient.getLocation();W=`projects/${ie}/locations/${ne}/`+W}let ee={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ul.AUDIO]}:e.config.responseModalities=[ul.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const le=(h=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],Q=[];for(const ie of le)if(this.isCallableTool(ie)){const ne=ie;Q.push(await ne.tool())}else Q.push(ie);Q.length>0&&(e.config.tools=Q);const ve={model:W,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?ee=sb(this.apiClient,ve):ee=ob(this.apiClient,ve),delete ee.config,$.send(JSON.stringify(ee)),new B1($,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const V1={turnComplete:!0};class B1{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=Xt(o.turns),e.isVertexAI()||(s=s.map(l=>vl(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(G1)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},V1),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:ub(e)}:o={realtimeInput:ab(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function q1(n){const e={};return n.forEach((o,s)=>{e[s]=o}),e}function F1(n){const e=new Headers;for(const[o,s]of Object.entries(n))e.append(o,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G0=10;function z0(n){var e,o,s;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const d of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(So(d)){l=!0;break}if(!l)return!0;const u=(s=n==null?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function So(n){return"callTool"in n&&typeof n.callTool=="function"}function J1(n){var e,o,s;return(s=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(l=>So(l)))!==null&&s!==void 0?s:!1}function H0(n){var e;const o=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((s,l)=>{if(So(s))return;const u=s;u.functionDeclarations&&u.functionDeclarations.length>0&&o.push(l)}),o}function V0(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Y1 extends Nn{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var s,l,u,d,h;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!J1(o)||z0(o.config))return await this.generateContentInternal(y);const m=H0(o);if(m.length>0){const P=m.map(L=>`tools[${L}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${P}.`)}let v,_;const T=Xt(y.contents),E=(u=(l=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&u!==void 0?u:G0;let D=0;for(;D<E&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const P=v.candidates[0].content,L=[];for(const G of(h=(d=o.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(So(G)){const $=await G.callTool(v.functionCalls);L.push(...$)}D++,_={role:"user",parts:L},y.contents=Xt(y.contents),y.contents.push(P),y.contents.push(_),V0(y.config)&&(T.push(P),T.push(_))}return V0(y.config)&&(v.automaticFunctionCallingHistory=T),v},this.generateContentStream=async o=>{var s,l,u,d,h;if(this.maybeMoveToResponseJsonSchem(o),z0(o.config)){const _=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(_)}const y=H0(o);if(y.length>0){const _=y.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(u=(l=(s=o==null?void 0:o.config)===null||s===void 0?void 0:s.toolConfig)===null||l===void 0?void 0:l.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(h=(d=o==null?void 0:o.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var l;let u;const d=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((l=y==null?void 0:y.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:d.push(y);let h;return u?h={generatedImages:d,positivePromptSafetyAttributes:u,sdkHttpResponse:s.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:s.sdkHttpResponse},h}),this.list=async o=>{var s;const d={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((s=d.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Mi(Rn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const l={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(l)},this.generateVideos=async o=>{var s,l,u,d,h,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((l=o.video)===null||l===void 0)&&l.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((d=(u=o.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.uri&&(!((y=(h=o.source)===null||h===void 0?void 0:h.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,s,l;const u=(o=e.config)===null||o===void 0?void 0:o.tools;if(!u)return e;const d=await Promise.all(u.map(async y=>So(y)?await y.tool():y)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(h.config.tools=d,e.config&&e.config.tools&&my(e.config.tools)){const y=(l=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&l!==void 0?l:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),gy(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var o,s,l;const u=new Map;for(const d of(s=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(So(d)){const h=d,y=await h.tool();for(const m of(l=y.functionDeclarations)!==null&&l!==void 0?l:[]){if(!m.name)throw new Error("Function declaration name is required.");if(u.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);u.set(m.name,h)}}return u}async processAfcStream(e){var o,s,l;const u=(l=(s=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&l!==void 0?l:G0;let d=!1,h=0;const y=await this.initAfcToolsMap(e);return(function(m,v,_){return tn(this,arguments,function*(){for(var T,E,D,P,L,G;h<u;){d&&(h++,d=!1);const ee=yield ye(m.processParamsMaybeAddMcpUsage(_)),le=yield ye(m.generateContentStreamInternal(ee)),Q=[],ve=[];try{for(var j=!0,$=(E=void 0,nn(le)),W;W=yield ye($.next()),T=W.done,!T;j=!0){P=W.value,j=!1;const ie=P;if(yield yield ye(ie),ie.candidates&&(!((L=ie.candidates[0])===null||L===void 0)&&L.content)){ve.push(ie.candidates[0].content);for(const ne of(G=ie.candidates[0].content.parts)!==null&&G!==void 0?G:[])if(h<u&&ne.functionCall){if(!ne.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ne.functionCall.name)){const he=yield ye(v.get(ne.functionCall.name).callTool([ne.functionCall]));Q.push(...he)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ne.functionCall.name}`)}}}}catch(ie){E={error:ie}}finally{try{!j&&!T&&(D=$.return)&&(yield ye(D.call($)))}finally{if(E)throw E.error}}if(Q.length>0){d=!0;const ie=new Ss;ie.candidates=[{content:{role:"user",parts:Q}}],yield yield ye(ie);const ne=[];ne.push(...ve),ne.push({role:"user",parts:Q});const he=Xt(_.contents).concat(ne);_.contents=he}else break}})})(this,y,e)}async generateContentInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=U0(this.apiClient,e);return h=te("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=P0(v),T=new Ss;return Object.assign(T,_),T})}else{const m=w0(this.apiClient,e);return h=te("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=L0(v),T=new Ss;return Object.assign(T,_),T})}}async generateContentStreamInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=U0(this.apiClient,e);return h=te("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),d.then(function(_){return tn(this,arguments,function*(){var T,E,D,P;try{for(var L=!0,G=nn(_),j;j=yield ye(G.next()),T=j.done,!T;L=!0){P=j.value,L=!1;const $=P,W=P0(yield ye($.json()));W.sdkHttpResponse={headers:$.headers};const ee=new Ss;Object.assign(ee,W),yield yield ye(ee)}}catch($){E={error:$}}finally{try{!L&&!T&&(D=G.return)&&(yield ye(D.call(G)))}finally{if(E)throw E.error}}})})}else{const m=w0(this.apiClient,e);return h=te("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),d.then(function(_){return tn(this,arguments,function*(){var T,E,D,P;try{for(var L=!0,G=nn(_),j;j=yield ye(G.next()),T=j.done,!T;L=!0){P=j.value,L=!1;const $=P,W=L0(yield ye($.json()));W.sdkHttpResponse={headers:$.headers};const ee=new Ss;Object.assign(ee,W),yield yield ye(ee)}}catch($){E={error:$}}finally{try{!L&&!T&&(D=G.return)&&(yield ye(D.call(G)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Hb(this.apiClient,e);return h=te("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=Bb(v),T=new g0;return Object.assign(T,_),T})}else{const m=zb(this.apiClient,e);return h=te("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=Vb(v),T=new g0;return Object.assign(T,_),T})}}async generateImagesInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=jb(this.apiClient,e);return h=te("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=tA(v),T=new y0;return Object.assign(T,_),T})}else{const m=Wb(this.apiClient,e);return h=te("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=eA(v),T=new y0;return Object.assign(T,_),T})}}async editImageInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const h=Lb(this.apiClient,e);return u=te("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=Pb(y),v=new FC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const h=jA(this.apiClient,e);return u=te("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=e1(y),v=new JC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const h=UA(this.apiClient,e);return u=te("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=LA(y),v=new YC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const h=VA(this.apiClient,e);return u=te("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=BA(y),v=new $C;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=vA(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>pc(v))}else{const m=yA(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>dc(v))}}async listInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=RA(this.apiClient,e);return h=te("{models_url}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=MA(v),T=new v0;return Object.assign(T,_),T})}else{const m=AA(this.apiClient,e);return h=te("{models_url}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=NA(v),T=new v0;return Object.assign(T,_),T})}}async update(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=ZA(this.apiClient,e);return h=te("{model}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>pc(v))}else{const m=XA(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>dc(v))}}async delete(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Db(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=wb(v),T=new _0;return Object.assign(T,_),T})}else{const m=Ib(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=kb(v),T=new _0;return Object.assign(T,_),T})}}async countTokens(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Rb(this.apiClient,e);return h=te("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=Mb(v),T=new S0;return Object.assign(T,_),T})}else{const m=Ab(this.apiClient,e);return h=te("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=Nb(v),T=new S0;return Object.assign(T,_),T})}}async computeTokens(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const h=_b(this.apiClient,e);return u=te("{model}:computeTokens",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=Sb(y),v=new KC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=lA(this.apiClient,e);return h=te("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>{const _=sA(v),T=new cl;return Object.assign(T,_),T})}else{const m=rA(this.apiClient,e);return h=te("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>{const _=oA(v),T=new cl;return Object.assign(T,_),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $1 extends Nn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,s=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=o.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:l,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async get(e){const o=e.operation,s=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=o.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:l,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async getVideosOperationInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=GC(e);return h=te("{operationName}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d}else{const m=OC(e);return h=te("{operationName}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const h=IC(e);return u=te("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K1(n){const e={},o=c(n,["data"]);if(o!=null&&f(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Q1(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>oR(u))),f(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function X1(n,e,o){const s={},l=c(e,["expireTime"]);o!==void 0&&l!=null&&f(o,["expireTime"],l);const u=c(e,["newSessionExpireTime"]);o!==void 0&&u!=null&&f(o,["newSessionExpireTime"],u);const d=c(e,["uses"]);o!==void 0&&d!=null&&f(o,["uses"],d);const h=c(e,["liveConnectConstraints"]);o!==void 0&&h!=null&&f(o,["bidiGenerateContentSetup"],iR(n,h));const y=c(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&f(o,["fieldMask"],y),s}function Z1(n,e){const o={},s=c(e,["config"]);return s!=null&&f(o,["config"],X1(n,s,o)),o}function W1(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function j1(n){const e={},o=c(n,["id"]);o!=null&&f(e,["id"],o);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function eR(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function tR(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function nR(n,e){const o={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const l=c(n,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const u=c(n,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const v=c(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],Oc(_));const T=c(n,["thinkingConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","thinkingConfig"],T);const E=c(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],E);const D=c(n,["systemInstruction"]);e!==void 0&&D!=null&&f(e,["setup","systemInstruction"],Q1(pt(D)));const P=c(n,["tools"]);if(e!==void 0&&P!=null){let le=Co(P);Array.isArray(le)&&(le=le.map(Q=>rR(To(Q)))),f(e,["setup","tools"],le)}const L=c(n,["sessionResumption"]);e!==void 0&&L!=null&&f(e,["setup","sessionResumption"],sR(L));const G=c(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&f(e,["setup","inputAudioTranscription"],G);const j=c(n,["outputAudioTranscription"]);e!==void 0&&j!=null&&f(e,["setup","outputAudioTranscription"],j);const $=c(n,["realtimeInputConfig"]);e!==void 0&&$!=null&&f(e,["setup","realtimeInputConfig"],$);const W=c(n,["contextWindowCompression"]);e!==void 0&&W!=null&&f(e,["setup","contextWindowCompression"],W);const ee=c(n,["proactivity"]);if(e!==void 0&&ee!=null&&f(e,["setup","proactivity"],ee),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function iR(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["setup","model"],De(n,s));const l=c(e,["config"]);return l!=null&&f(o,["config"],nR(l,o)),o}function oR(n){const e={},o=c(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],W1(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],j1(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],K1(y));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const T=c(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function sR(n){const e={},o=c(n,["handle"]);if(o!=null&&f(e,["handle"],o),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function rR(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const l=c(n,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(n,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(n,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],eR(h));const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],tR(y));const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lR(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const s=n[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const l=Object.keys(s).map(u=>`${o}.${u}`);e.push(...l)}else e.push(o)}return e.join(",")}function aR(n,e){let o=null;const s=n.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const u=s.setup;typeof u=="object"&&u!==null?(n.bidiGenerateContentSetup=u,o=u):delete n.bidiGenerateContentSetup}else s!==void 0&&delete n.bidiGenerateContentSetup;const l=n.fieldMask;if(o){const u=lR(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?n.fieldMask=u:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];l.length>0&&(h=l.map(m=>d.includes(m)?`generationConfig.${m}`:m));const y=[];u&&y.push(u),h.length>0&&y.push(...h),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?n.fieldMask=l.join(","):delete n.fieldMask;return n}class uR extends Nn{constructor(e){super(),this.apiClient=e}async create(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=Z1(this.apiClient,e);u=te("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const y=aR(h,e.config);return l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cR(n,e){const o={},s=c(n,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),o}function fR(n){const e={},o=c(n,["name"]);o!=null&&f(e,["_url","name"],o);const s=c(n,["config"]);return s!=null&&cR(s,e),e}function dR(n){const e={},o=c(n,["name"]);return o!=null&&f(e,["_url","name"],o),e}function pR(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function hR(n){const e={},o=c(n,["parent"]);o!=null&&f(e,["_url","parent"],o);const s=c(n,["config"]);return s!=null&&pR(s,e),e}function mR(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["documents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gR extends Nn{constructor(e){super(),this.apiClient=e,this.list=async o=>new Mi(Rn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=dR(e);return u=te("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var o,s;let l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=fR(e);l=te("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=hR(e);return u=te("{parent}/documents",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=mR(y),v=new QC;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yR extends Nn{constructor(e,o=new gR(e)){super(),this.apiClient=e,this.documents=o,this.list=async(s={})=>new Mi(Rn.PAGED_ITEM_FILE_SEARCH_STORES,l=>this.listInternal(l),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=l1(e);return u=te("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async get(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=c1(e);return u=te("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var o,s;let l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=u1(e);l=te("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=g1(e);return u=te("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=y1(y),v=new XC;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=v1(e);return u=te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=_1(y),v=new ZC;return Object.assign(v,m),v})}}async importFile(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=p1(e);return u=te("{file_search_store_name}:importFile",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=d1(y),v=new kc;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let yy=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return yy=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),o=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^o()&15>>+s/4).toString(16))};const vR=()=>yy();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mc(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const gc=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zt extends Error{}class _t extends Zt{constructor(e,o,s,l){super(`${_t.makeMessage(e,o,s)}`),this.status=e,this.headers=l,this.error=o}static makeMessage(e,o,s){const l=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):s;return e&&l?`${e} ${l}`:e?`${e} status code (no body)`:l||"(no status code or body)"}static generate(e,o,s,l){if(!e||!l)return new Tl({message:s,cause:gc(o)});const u=o;return e===400?new _y(e,u,s,l):e===401?new Sy(e,u,s,l):e===403?new Ty(e,u,s,l):e===404?new Cy(e,u,s,l):e===409?new xy(e,u,s,l):e===422?new Ey(e,u,s,l):e===429?new by(e,u,s,l):e>=500?new Ay(e,u,s,l):new _t(e,u,s,l)}}class yc extends _t{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Tl extends _t{constructor({message:e,cause:o}){super(void 0,void 0,e||"Connection error.",void 0),o&&(this.cause=o)}}class vy extends Tl{constructor({message:e}={}){super({message:e??"Request timed out."})}}class _y extends _t{}class Sy extends _t{}class Ty extends _t{}class Cy extends _t{}class xy extends _t{}class Ey extends _t{}class by extends _t{}class Ay extends _t{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _R=/^[a-z][a-z0-9+.-]*:/i,SR=n=>_R.test(n);let vc=n=>(vc=Array.isArray,vc(n));const TR=vc;let CR=TR;const B0=CR;function xR(n){if(!n)return!0;for(const e in n)return!1;return!0}function ER(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const bR=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Zt(`${n} must be an integer`);if(e<0)throw new Zt(`${n} must be a positive integer`);return e},AR=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RR=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NR(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const MR=()=>{var n,e,o,s,l;const u=NR();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mo,"X-Stainless-OS":F0(Deno.build.os),"X-Stainless-Arch":q0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mo,"X-Stainless-OS":F0((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":q0((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(l=globalThis.process.version)!==null&&l!==void 0?l:"unknown"};const d=IR();return d?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${d.browser}`,"X-Stainless-Runtime-Version":d.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function IR(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:o}of n){const s=o.exec(navigator.userAgent);if(s){const l=s[1]||0,u=s[2]||0,d=s[3]||0;return{browser:e,version:`${l}.${u}.${d}`}}}return null}const q0=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",F0=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let Yr;const DR=()=>Yr??(Yr=MR());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kR(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ry(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function wR(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return Ry({start(){},async pull(o){const{done:s,value:l}=await e.next();s?o.close():o.enqueue(l)},async cancel(){var o;await((o=e.return)===null||o===void 0?void 0:o.call(e))}})}function Ny(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const o=await e.read();return o!=null&&o.done&&e.releaseLock(),o}catch(o){throw e.releaseLock(),o}},async return(){const o=e.cancel();return e.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function UR(n){var e,o;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((o=(e=n[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(e));return}const s=n.getReader(),l=s.cancel();s.releaseLock(),await l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LR=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const My=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,o=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Qu(n,e,o){return My(),new File(n,e??"unknown_file",o)}function PR(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const OR=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Iy=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",GR=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&Iy(n),zR=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function HR(n,e,o){if(My(),n=await n,GR(n))return n instanceof File?n:Qu([await n.arrayBuffer()],n.name);if(zR(n)){const l=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),Qu(await _c(l),e,o)}const s=await _c(n);if(e||(e=PR(n)),!(o!=null&&o.type)){const l=s.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof l=="string"&&(o=Object.assign(Object.assign({},o),{type:l}))}return Qu(s,e,o)}async function _c(n){var e,o,s,l,u;let d=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)d.push(n);else if(Iy(n))d.push(n instanceof Blob?n:await n.arrayBuffer());else if(OR(n))try{for(var h=!0,y=nn(n),m;m=await y.next(),e=m.done,!e;h=!0){l=m.value,h=!1;const v=l;d.push(...await _c(v))}}catch(v){o={error:v}}finally{try{!h&&!e&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}else{const v=(u=n==null?void 0:n.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof n}${v?`; constructor: ${v}`:""}${VR(n)}`)}return d}function VR(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dy{constructor(e){this._client=e}}Dy._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ky(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const J0=Object.freeze(Object.create(null)),BR=(n=ky)=>(function(o,...s){if(o.length===1)return o[0];let l=!1;const u=[],d=o.reduce((v,_,T)=>{var E,D,P;/[?#]/.test(_)&&(l=!0);const L=s[T];let G=(l?encodeURIComponent:n)(""+L);return T!==s.length&&(L==null||typeof L=="object"&&L.toString===((P=Object.getPrototypeOf((D=Object.getPrototypeOf((E=L.hasOwnProperty)!==null&&E!==void 0?E:J0))!==null&&D!==void 0?D:J0))===null||P===void 0?void 0:P.toString))&&(G=L+"",u.push({start:v.length+_.length,length:G.length,error:`Value of type ${Object.prototype.toString.call(L).slice(8,-1)} is not a valid path parameter`})),v+_+(T===s.length?"":G)},""),h=d.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=y.exec(h))!==null;)u.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(u.sort((v,_)=>v.start-_.start),u.length>0){let v=0;const _=u.reduce((T,E)=>{const D=" ".repeat(E.start-v),P="^".repeat(E.length);return v=E.start+E.length,T+D+P},"");throw new Zt(`Path parameters result in path with invalid segments:
${u.map(T=>T.error).join(`
`)}
${d}
${_}`)}return d}),$r=BR(ky);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wy extends Dy{create(e,o){var s;const{api_version:l=this._client.apiVersion}=e,u=dl(e,["api_version"]);if("model"in u&&"agent_config"in u)throw new Zt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new Zt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post($r`/${l}/interactions`,Object.assign(Object.assign({body:u},o),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,o={},s){const{api_version:l=this._client.apiVersion}=o??{};return this._client.delete($r`/${l}/interactions/${e}`,s)}cancel(e,o={},s){const{api_version:l=this._client.apiVersion}=o??{};return this._client.post($r`/${l}/interactions/${e}/cancel`,s)}get(e,o={},s){var l;const u=o??{},{api_version:d=this._client.apiVersion}=u,h=dl(u,["api_version"]);return this._client.get($r`/${d}/interactions/${e}`,Object.assign(Object.assign({query:h},s),{stream:(l=o==null?void 0:o.stream)!==null&&l!==void 0?l:!1}))}}wy._key=Object.freeze(["interactions"]);class Uy extends wy{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qR(n){let e=0;for(const l of n)e+=l.length;const o=new Uint8Array(e);let s=0;for(const l of n)o.set(l,s),s+=l.length;return o}let Kr;function zc(n){let e;return(Kr??(e=new globalThis.TextEncoder,Kr=e.encode.bind(e)))(n)}let Qr;function Y0(n){let e;return(Qr??(e=new globalThis.TextDecoder,Qr=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cl{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const o=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?zc(e):e;this.buffer=qR([this.buffer,o]);const s=[];let l;for(;(l=FR(this.buffer,this.carriageReturnIndex))!=null;){if(l.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=l.index;continue}if(this.carriageReturnIndex!=null&&(l.index!==this.carriageReturnIndex+1||l.carriage)){s.push(Y0(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?l.preceding-1:l.preceding,d=Y0(this.buffer.subarray(0,u));s.push(d),this.buffer=this.buffer.subarray(l.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Cl.NEWLINE_CHARS=new Set([`
`,"\r"]);Cl.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function FR(n,e){for(let l=e??0;l<n.length;l++){if(n[l]===10)return{preceding:l,index:l+1,carriage:!1};if(n[l]===13)return{preceding:l,index:l+1,carriage:!0}}return null}function JR(n){for(let s=0;s<n.length-1;s++){if(n[s]===10&&n[s+1]===10||n[s]===13&&n[s+1]===13)return s+2;if(n[s]===13&&n[s+1]===10&&s+3<n.length&&n[s+2]===13&&n[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pl={off:0,error:200,warn:300,info:400,debug:500},$0=(n,e,o)=>{if(n){if(ER(pl,n))return n;gt(o).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(pl))}`)}};function Es(){}function Xr(n,e,o){return!e||pl[n]>pl[o]?Es:e[n].bind(e)}const YR={error:Es,warn:Es,info:Es,debug:Es};let K0=new WeakMap;function gt(n){var e;const o=n.logger,s=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!o)return YR;const l=K0.get(o);if(l&&l[0]===s)return l[1];const u={error:Xr("error",o,s),warn:Xr("warn",o,s),info:Xr("info",o,s),debug:Xr("debug",o,s)};return K0.set(o,[s,u]),u}const Ei=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,o])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yo{constructor(e,o,s){this.iterator=e,this.controller=o,this.client=s}static fromSSEResponse(e,o,s){let l=!1;const u=s?gt(s):console;function d(){return tn(this,arguments,function*(){var y,m,v,_;if(l)throw new Zt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let T=!1;try{try{for(var E=!0,D=nn($R(e,o)),P;P=yield ye(D.next()),y=P.done,!y;E=!0){_=P.value,E=!1;const L=_;if(!T)if(L.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield ye(JSON.parse(L.data))}catch(G){throw u.error("Could not parse message into JSON:",L.data),u.error("From chunk:",L.raw),G}}}catch(L){m={error:L}}finally{try{!E&&!y&&(v=D.return)&&(yield ye(v.call(D)))}finally{if(m)throw m.error}}T=!0}catch(L){if(mc(L))return yield ye(void 0);throw L}finally{T||o.abort()}})}return new yo(d,o,s)}static fromReadableStream(e,o,s){let l=!1;function u(){return tn(this,arguments,function*(){var y,m,v,_;const T=new Cl,E=Ny(e);try{for(var D=!0,P=nn(E),L;L=yield ye(P.next()),y=L.done,!y;D=!0){_=L.value,D=!1;const G=_;for(const j of T.decode(G))yield yield ye(j)}}catch(G){m={error:G}}finally{try{!D&&!y&&(v=P.return)&&(yield ye(v.call(P)))}finally{if(m)throw m.error}}for(const G of T.flush())yield yield ye(G)})}function d(){return tn(this,arguments,function*(){var y,m,v,_;if(l)throw new Zt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let T=!1;try{try{for(var E=!0,D=nn(u()),P;P=yield ye(D.next()),y=P.done,!y;E=!0){_=P.value,E=!1;const L=_;T||L&&(yield yield ye(JSON.parse(L)))}}catch(L){m={error:L}}finally{try{!E&&!y&&(v=D.return)&&(yield ye(v.call(D)))}finally{if(m)throw m.error}}T=!0}catch(L){if(mc(L))return yield ye(void 0);throw L}finally{T||o.abort()}})}return new yo(d,o,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],o=[],s=this.iterator(),l=u=>({next:()=>{if(u.length===0){const d=s.next();e.push(d),o.push(d)}return u.shift()}});return[new yo(()=>l(e),this.controller,this.client),new yo(()=>l(o),this.controller,this.client)]}toReadableStream(){const e=this;let o;return Ry({async start(){o=e[Symbol.asyncIterator]()},async pull(s){try{const{value:l,done:u}=await o.next();if(u)return s.close();const d=zc(JSON.stringify(l)+`
`);s.enqueue(d)}catch(l){s.error(l)}},async cancel(){var s;await((s=o.return)===null||s===void 0?void 0:s.call(o))}})}}function $R(n,e){return tn(this,arguments,function*(){var s,l,u,d;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Zt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Zt("Attempted to iterate over a response with no body");const h=new QR,y=new Cl,m=Ny(n.body);try{for(var v=!0,_=nn(KR(m)),T;T=yield ye(_.next()),s=T.done,!s;v=!0){d=T.value,v=!1;const E=d;for(const D of y.decode(E)){const P=h.decode(D);P&&(yield yield ye(P))}}}catch(E){l={error:E}}finally{try{!v&&!s&&(u=_.return)&&(yield ye(u.call(_)))}finally{if(l)throw l.error}}for(const E of y.flush()){const D=h.decode(E);D&&(yield yield ye(D))}})}function KR(n){return tn(this,arguments,function*(){var o,s,l,u;let d=new Uint8Array;try{for(var h=!0,y=nn(n),m;m=yield ye(y.next()),o=m.done,!o;h=!0){u=m.value,h=!1;const v=u;if(v==null)continue;const _=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?zc(v):v;let T=new Uint8Array(d.length+_.length);T.set(d),T.set(_,d.length),d=T;let E;for(;(E=JR(d))!==-1;)yield yield ye(d.slice(0,E)),d=d.slice(E)}}catch(v){s={error:v}}finally{try{!h&&!o&&(l=y.return)&&(yield ye(l.call(y)))}finally{if(s)throw s.error}}d.length>0&&(yield yield ye(d))})}class QR{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[o,s,l]=XR(e,":");return l.startsWith(" ")&&(l=l.substring(1)),o==="event"?this.event=l:o==="data"&&this.data.push(l),null}}function XR(n,e){const o=n.indexOf(e);return o!==-1?[n.substring(0,o),e,n.substring(o+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ZR(n,e){const{response:o,requestLogID:s,retryOfRequestLogID:l,startTime:u}=e,d=await(async()=>{var h;if(e.options.stream)return gt(n).debug("response",o.status,o.url,o.headers,o.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(o,e.controller,n):yo.fromSSEResponse(o,e.controller,n);if(o.status===204)return null;if(e.options.__binaryResponse)return o;const y=o.headers.get("content-type"),m=(h=y==null?void 0:y.split(";")[0])===null||h===void 0?void 0:h.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await o.json():await o.text()})();return gt(n).debug(`[${s}] response parsed`,Ei({retryOfRequestLogID:l,url:o.url,status:o.status,body:d,durationMs:Date.now()-u})),d}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hc extends Promise{constructor(e,o,s=ZR){super(l=>{l(null)}),this.responsePromise=o,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new Hc(this.client,this.responsePromise,async(o,s)=>e(await this.parseResponse(o,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,o){return this.parse().then(e,o)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ly=Symbol("brand.privateNullableHeaders");function*WR(n){if(!n)return;if(Ly in n){const{values:s,nulls:l}=n;yield*s.entries();for(const u of l)yield[u,null];return}let e=!1,o;n instanceof Headers?o=n.entries():B0(n)?o=n:(e=!0,o=Object.entries(n??{}));for(let s of o){const l=s[0];if(typeof l!="string")throw new TypeError("expected header name to be a string");const u=B0(s[1])?s[1]:[s[1]];let d=!1;for(const h of u)h!==void 0&&(e&&!d&&(d=!0,yield[l,null]),yield[l,h])}}const Ts=n=>{const e=new Headers,o=new Set;for(const s of n){const l=new Set;for(const[u,d]of WR(s)){const h=u.toLowerCase();l.has(h)||(e.delete(u),l.add(h)),d===null?(e.delete(u),o.add(h)):(e.append(u,d),o.delete(h))}}return{[Ly]:!0,values:e,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xu=n=>{var e,o,s,l,u,d;if(typeof globalThis.process<"u")return(s=(o=(e=EC)===null||e===void 0?void 0:e[n])===null||o===void 0?void 0:o.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(d=(u=(l=globalThis.Deno.env)===null||l===void 0?void 0:l.get)===null||u===void 0?void 0:u.call(l,n))===null||d===void 0?void 0:d.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Py;class xl{constructor(e){var o,s,l,u,d,h,y,{baseURL:m=Xu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=Xu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:_="v1beta"}=e,T=dl(e,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:v,apiVersion:_},T),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(s=E.timeout)!==null&&s!==void 0?s:xl.DEFAULT_TIMEOUT,this.logger=(l=E.logger)!==null&&l!==void 0?l:console;const D="warn";this.logLevel=D,this.logLevel=(d=(u=$0(E.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:$0(Xu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&d!==void 0?d:D,this.fetchOptions=E.fetchOptions,this.maxRetries=(h=E.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(y=E.fetch)!==null&&y!==void 0?y:kR(),this.encoder=LR,this._options=E,this.apiKey=v,this.apiVersion=_,this.clientAdapter=E.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:o}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const o=Ts([e.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return Ts([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Ts([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([o,s])=>typeof s<"u").map(([o,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(o)}=`;throw new Zt(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${mo}`}defaultIdempotencyKey(){return`stainless-node-retry-${vR()}`}makeStatusError(e,o,s,l){return _t.generate(e,o,s,l)}buildURL(e,o,s){const l=!this.baseURLOverridden()&&s||this.baseURL,u=SR(e)?new URL(e):new URL(l+(l.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),d=this.defaultQuery();return xR(d)||(o=Object.assign(Object.assign({},d),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(u.search=this.stringifyQuery(o)),u.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const o=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(e,{url:o,options:s}){}get(e,o){return this.methodRequest("get",e,o)}post(e,o){return this.methodRequest("post",e,o)}patch(e,o){return this.methodRequest("patch",e,o)}put(e,o){return this.methodRequest("put",e,o)}delete(e,o){return this.methodRequest("delete",e,o)}methodRequest(e,o,s){return this.request(Promise.resolve(s).then(l=>Object.assign({method:e,path:o},l)))}request(e,o=null){return new Hc(this,this.makeRequest(e,o,void 0))}async makeRequest(e,o,s){var l,u,d;const h=await e,y=(l=h.maxRetries)!==null&&l!==void 0?l:this.maxRetries;o==null&&(o=y),await this.prepareOptions(h);const{req:m,url:v,timeout:_}=await this.buildRequest(h,{retryCount:y-o});await this.prepareRequest(m,{url:v,options:h});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=s===void 0?"":`, retryOf: ${s}`,D=Date.now();if(gt(this).debug(`[${T}] sending request`,Ei({retryOfRequestLogID:s,method:h.method,url:v,options:h,headers:m.headers})),!((u=h.signal)===null||u===void 0)&&u.aborted)throw new yc;const P=new AbortController,L=await this.fetchWithTimeout(v,m,_,P).catch(gc),G=Date.now();if(L instanceof globalThis.Error){const $=`retrying, ${o} attempts remaining`;if(!((d=h.signal)===null||d===void 0)&&d.aborted)throw new yc;const W=mc(L)||/timed? ?out/i.test(String(L)+("cause"in L?String(L.cause):""));if(o)return gt(this).info(`[${T}] connection ${W?"timed out":"failed"} - ${$}`),gt(this).debug(`[${T}] connection ${W?"timed out":"failed"} (${$})`,Ei({retryOfRequestLogID:s,url:v,durationMs:G-D,message:L.message})),this.retryRequest(h,o,s??T);throw gt(this).info(`[${T}] connection ${W?"timed out":"failed"} - error; no more retries left`),gt(this).debug(`[${T}] connection ${W?"timed out":"failed"} (error; no more retries left)`,Ei({retryOfRequestLogID:s,url:v,durationMs:G-D,message:L.message})),W?new vy:new Tl({cause:L})}const j=`[${T}${E}] ${m.method} ${v} ${L.ok?"succeeded":"failed"} with status ${L.status} in ${G-D}ms`;if(!L.ok){const $=await this.shouldRetry(L);if(o&&$){const ie=`retrying, ${o} attempts remaining`;return await UR(L.body),gt(this).info(`${j} - ${ie}`),gt(this).debug(`[${T}] response error (${ie})`,Ei({retryOfRequestLogID:s,url:L.url,status:L.status,headers:L.headers,durationMs:G-D})),this.retryRequest(h,o,s??T,L.headers)}const W=$?"error; no more retries left":"error; not retryable";gt(this).info(`${j} - ${W}`);const ee=await L.text().catch(ie=>gc(ie).message),le=AR(ee),Q=le?void 0:ee;throw gt(this).debug(`[${T}] response error (${W})`,Ei({retryOfRequestLogID:s,url:L.url,status:L.status,headers:L.headers,message:Q,durationMs:Date.now()-D})),this.makeStatusError(L.status,le,Q,L.headers)}return gt(this).info(j),gt(this).debug(`[${T}] response start`,Ei({retryOfRequestLogID:s,url:L.url,status:L.status,headers:L.headers,durationMs:G-D})),{response:L,options:h,controller:P,requestLogID:T,retryOfRequestLogID:s,startTime:D}}async fetchWithTimeout(e,o,s,l){const u=o||{},{signal:d,method:h}=u,y=dl(u,["signal","method"]);d&&d.addEventListener("abort",()=>l.abort());const m=setTimeout(()=>l.abort(),s),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,_=Object.assign(Object.assign(Object.assign({signal:l.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);h&&(_.method=h.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(m)}}async shouldRetry(e){const o=e.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,o,s,l){var u;let d;const h=l==null?void 0:l.get("retry-after-ms");if(h){const m=parseFloat(h);Number.isNaN(m)||(d=m)}const y=l==null?void 0:l.get("retry-after");if(y&&!d){const m=parseFloat(y);Number.isNaN(m)?d=Date.parse(y)-Date.now():d=m*1e3}if(!(d&&0<=d&&d<60*1e3)){const m=(u=e.maxRetries)!==null&&u!==void 0?u:this.maxRetries;d=this.calculateDefaultRetryTimeoutMillis(o,m)}return await RR(d),this.makeRequest(e,o-1,s)}calculateDefaultRetryTimeoutMillis(e,o){const u=o-e,d=Math.min(.5*Math.pow(2,u),8),h=1-Math.random()*.25;return d*h*1e3}async buildRequest(e,{retryCount:o=0}={}){var s,l,u;const d=Object.assign({},e),{method:h,path:y,query:m,defaultBaseURL:v}=d,_=this.buildURL(y,m,v);"timeout"in d&&bR("timeout",d.timeout),d.timeout=(s=d.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:T,body:E}=this.buildBody({options:d}),D=await this.buildHeaders({options:e,method:h,bodyHeaders:T,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:D},d.signal&&{signal:d.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(l=this.fetchOptions)!==null&&l!==void 0?l:{}),(u=d.fetchOptions)!==null&&u!==void 0?u:{}),url:_,timeout:d.timeout}}async buildHeaders({options:e,method:o,bodyHeaders:s,retryCount:l}){let u={};this.idempotencyHeader&&o!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const d=await this.authHeaders(e);let h=Ts([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(l)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),DR()),this._options.defaultHeaders,s,e.headers,d]);return this.validateHeaders(h),h.values}buildBody({options:{body:e,headers:o}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=Ts([o]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:wR(e)}:this.encoder({body:e,headers:s})}}xl.DEFAULT_TIMEOUT=6e4;class ot extends xl{constructor(){super(...arguments),this.interactions=new Uy(this)}}Py=ot;ot.GeminiNextGenAPIClient=Py;ot.GeminiNextGenAPIClientError=Zt;ot.APIError=_t;ot.APIConnectionError=Tl;ot.APIConnectionTimeoutError=vy;ot.APIUserAbortError=yc;ot.NotFoundError=Cy;ot.ConflictError=xy;ot.RateLimitError=by;ot.BadRequestError=_y;ot.AuthenticationError=Sy;ot.InternalServerError=Ay;ot.PermissionDeniedError=Ty;ot.UnprocessableEntityError=Ey;ot.toFile=HR;ot.Interactions=Uy;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jR(n,e){const o={},s=c(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function eN(n,e){const o={},s=c(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function tN(n,e){const o={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(o,["sdkHttpResponse"],s),o}function nN(n,e){const o={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(o,["sdkHttpResponse"],s),o}function iN(n,e,o){const s={};if(c(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=c(n,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&f(e,["displayName"],l),c(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(n,["epochCount"]);e!==void 0&&u!=null&&f(e,["tuningTask","hyperparameters","epochCount"],u);const d=c(n,["learningRateMultiplier"]);if(d!=null&&f(s,["tuningTask","hyperparameters","learningRateMultiplier"],d),c(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=c(n,["batchSize"]);e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","batchSize"],h);const y=c(n,["learningRate"]);if(e!==void 0&&y!=null&&f(e,["tuningTask","hyperparameters","learningRate"],y),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function oN(n,e,o){const s={};let l=c(o,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const E=c(n,["validationDataset"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec"],Q0(E))}else if(l==="PREFERENCE_TUNING"){const E=c(n,["validationDataset"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec"],Q0(E))}const u=c(n,["tunedModelDisplayName"]);e!==void 0&&u!=null&&f(e,["tunedModelDisplayName"],u);const d=c(n,["description"]);e!==void 0&&d!=null&&f(e,["description"],d);let h=c(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const E=c(n,["epochCount"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(h==="PREFERENCE_TUNING"){const E=c(n,["epochCount"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let y=c(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const E=c(n,["learningRateMultiplier"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(y==="PREFERENCE_TUNING"){const E=c(n,["learningRateMultiplier"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let m=c(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const E=c(n,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(m==="PREFERENCE_TUNING"){const E=c(n,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let v=c(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const E=c(n,["adapterSize"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(v==="PREFERENCE_TUNING"){const E=c(n,["adapterSize"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(c(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=c(n,["labels"]);e!==void 0&&_!=null&&f(e,["labels"],_);const T=c(n,["beta"]);return e!==void 0&&T!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],T),s}function sN(n,e){const o={},s=c(n,["baseModel"]);s!=null&&f(o,["baseModel"],s);const l=c(n,["preTunedModel"]);l!=null&&f(o,["preTunedModel"],l);const u=c(n,["trainingDataset"]);u!=null&&gN(u);const d=c(n,["config"]);return d!=null&&iN(d,o),o}function rN(n,e){const o={},s=c(n,["baseModel"]);s!=null&&f(o,["baseModel"],s);const l=c(n,["preTunedModel"]);l!=null&&f(o,["preTunedModel"],l);const u=c(n,["trainingDataset"]);u!=null&&yN(u,o,e);const d=c(n,["config"]);return d!=null&&oN(d,o,e),o}function lN(n,e){const o={},s=c(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function aN(n,e){const o={},s=c(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function uN(n,e,o){const s={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(n,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),s}function cN(n,e,o){const s={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(n,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),s}function fN(n,e){const o={},s=c(n,["config"]);return s!=null&&uN(s,o),o}function dN(n,e){const o={},s=c(n,["config"]);return s!=null&&cN(s,o),o}function pN(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&f(o,["nextPageToken"],l);const u=c(n,["tunedModels"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>Oy(h))),f(o,["tuningJobs"],d)}return o}function hN(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&f(o,["nextPageToken"],l);const u=c(n,["tuningJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>Sc(h))),f(o,["tuningJobs"],d)}return o}function mN(n,e){const o={},s=c(n,["name"]);s!=null&&f(o,["model"],s);const l=c(n,["name"]);return l!=null&&f(o,["endpoint"],l),o}function gN(n,e){const o={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=c(n,["examples"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),f(o,["examples","examples"],l)}return o}function yN(n,e,o){const s={};let l=c(o,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const d=c(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(l==="PREFERENCE_TUNING"){const d=c(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}let u=c(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const d=c(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(u==="PREFERENCE_TUNING"){const d=c(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}if(c(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Oy(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=c(n,["name"]);l!=null&&f(o,["name"],l);const u=c(n,["state"]);u!=null&&f(o,["state"],jg(u));const d=c(n,["createTime"]);d!=null&&f(o,["createTime"],d);const h=c(n,["tuningTask","startTime"]);h!=null&&f(o,["startTime"],h);const y=c(n,["tuningTask","completeTime"]);y!=null&&f(o,["endTime"],y);const m=c(n,["updateTime"]);m!=null&&f(o,["updateTime"],m);const v=c(n,["description"]);v!=null&&f(o,["description"],v);const _=c(n,["baseModel"]);_!=null&&f(o,["baseModel"],_);const T=c(n,["_self"]);return T!=null&&f(o,["tunedModel"],mN(T)),o}function Sc(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=c(n,["name"]);l!=null&&f(o,["name"],l);const u=c(n,["state"]);u!=null&&f(o,["state"],jg(u));const d=c(n,["createTime"]);d!=null&&f(o,["createTime"],d);const h=c(n,["startTime"]);h!=null&&f(o,["startTime"],h);const y=c(n,["endTime"]);y!=null&&f(o,["endTime"],y);const m=c(n,["updateTime"]);m!=null&&f(o,["updateTime"],m);const v=c(n,["error"]);v!=null&&f(o,["error"],v);const _=c(n,["description"]);_!=null&&f(o,["description"],_);const T=c(n,["baseModel"]);T!=null&&f(o,["baseModel"],T);const E=c(n,["tunedModel"]);E!=null&&f(o,["tunedModel"],E);const D=c(n,["preTunedModel"]);D!=null&&f(o,["preTunedModel"],D);const P=c(n,["supervisedTuningSpec"]);P!=null&&f(o,["supervisedTuningSpec"],P);const L=c(n,["preferenceOptimizationSpec"]);L!=null&&f(o,["preferenceOptimizationSpec"],L);const G=c(n,["tuningDataStats"]);G!=null&&f(o,["tuningDataStats"],G);const j=c(n,["encryptionSpec"]);j!=null&&f(o,["encryptionSpec"],j);const $=c(n,["partnerModelTuningSpec"]);$!=null&&f(o,["partnerModelTuningSpec"],$);const W=c(n,["customBaseModel"]);W!=null&&f(o,["customBaseModel"],W);const ee=c(n,["experiment"]);ee!=null&&f(o,["experiment"],ee);const le=c(n,["labels"]);le!=null&&f(o,["labels"],le);const Q=c(n,["outputUri"]);Q!=null&&f(o,["outputUri"],Q);const ve=c(n,["pipelineJob"]);ve!=null&&f(o,["pipelineJob"],ve);const ie=c(n,["serviceAccount"]);ie!=null&&f(o,["serviceAccount"],ie);const ne=c(n,["tunedModelDisplayName"]);ne!=null&&f(o,["tunedModelDisplayName"],ne);const he=c(n,["veoTuningSpec"]);return he!=null&&f(o,["veoTuningSpec"],he),o}function vN(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=c(n,["name"]);l!=null&&f(o,["name"],l);const u=c(n,["metadata"]);u!=null&&f(o,["metadata"],u);const d=c(n,["done"]);d!=null&&f(o,["done"],d);const h=c(n,["error"]);return h!=null&&f(o,["error"],h),o}function Q0(n,e){const o={},s=c(n,["gcsUri"]);s!=null&&f(o,["validationDatasetUri"],s);const l=c(n,["vertexDatasetResource"]);return l!=null&&f(o,["validationDatasetUri"],l),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _N extends Nn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Mi(Rn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const l={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(l.checkpointId=o.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},o),{preTunedModel:l});return u.baseModel=void 0,await this.tuneInternal(u)}else{const l=Object.assign({},o);return await this.tuneInternal(l)}else{const l=Object.assign({},o),u=await this.tuneMldevInternal(l);let d="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?d=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(d=u.name.split("/operations/")[0]),{name:d,state:ac.JOB_STATE_QUEUED}}}}async getInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=aN(e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>Sc(v))}else{const m=lN(e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>Oy(v))}}async listInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=dN(e);return h=te("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=hN(v),T=new T0;return Object.assign(T,_),T})}else{const m=fN(e);return h=te("tunedModels",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=pN(v),T=new T0;return Object.assign(T,_),T})}}async cancel(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=eN(e);return h=te("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=nN(v),T=new C0;return Object.assign(T,_),T})}else{const m=jR(e);return h=te("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=tN(v),T=new C0;return Object.assign(T,_),T})}}async tuneInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const h=rN(e,e);return u=te("tuningJobs",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>Sc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=sN(e);return u=te("tunedModels",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>vN(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SN{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const TN=1024*1024*8,CN=3,xN=1e3,EN=2,hl="x-goog-upload-status";async function bN(n,e,o){var s;const l=await Gy(n,e,o),u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[hl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function AN(n,e,o){var s;const l=await Gy(n,e,o),u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[hl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=$g(u),h=new wc;return Object.assign(h,d),h}async function Gy(n,e,o){var s,l;let u=0,d=0,h=new uc(new Response),y="upload";for(u=n.size;d<u;){const m=Math.min(TN,u-d),v=n.slice(d,d+m);d+m>=u&&(y+=", finalize");let _=0,T=xN;for(;_<CN&&(h=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(d),"Content-Length":String(m)}}}),!(!((s=h==null?void 0:h.headers)===null||s===void 0)&&s[hl]));)_++,await NN(T),T=T*EN;if(d+=m,((l=h==null?void 0:h.headers)===null||l===void 0?void 0:l[hl])!=="active")break;if(u<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function RN(n){return{size:n.size,type:n.type}}function NN(n){return new Promise(e=>setTimeout(e,n))}class MN{async upload(e,o,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await bN(e,o,s)}async uploadToFileSearchStore(e,o,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await AN(e,o,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await RN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IN{create(e,o,s){return new DN(e,o,s)}}class DN{constructor(e,o,s){this.url=e,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X0="x-goog-api-key";class kN{constructor(e){this.apiKey=e}async addAuthHeaders(e,o){if(e.get(X0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(X0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wN="gl-node/";class UN{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new ot({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=o.interactions,this._interactions}constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const s=NC(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const l=new kN(this.apiKey);this.apiClient=new R1({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:wN+"web",uploader:new MN,downloader:new SN}),this.models=new Y1(this.apiClient),this.live=new H1(this.apiClient,l,new IN),this.batches=new iE(this.apiClient),this.chats=new GE(this.models,this.apiClient),this.caches=new LE(this.apiClient),this.files=new KE(this.apiClient),this.operations=new $1(this.apiClient),this.authTokens=new uR(this.apiClient),this.tunings=new _N(this.apiClient),this.fileSearchStores=new yR(this.apiClient)}}const LN=({onSave:n,onCancel:e,initialQuiz:o})=>{const[s,l]=oe.useState((o==null?void 0:o.title)||""),[u,d]=oe.useState((o==null?void 0:o.description)||""),[h,y]=oe.useState((o==null?void 0:o.coverImageUrl)||""),[m,v]=oe.useState((o==null?void 0:o.questions)||[{id:Date.now(),type:"MC",text:"",timeLimit:20,correctOptionId:"opt1",options:[{id:"opt1",color:"red",text:""},{id:"opt2",color:"blue",text:""},{id:"opt3",color:"green",text:""},{id:"opt4",color:"yellow",text:""}]}]),[_,T]=oe.useState(null),[E,D]=oe.useState(!1),[P,L]=oe.useState(!1),[G,j]=oe.useState(""),[$,W]=oe.useState(5),[ee,le]=oe.useState("gemini"),[Q,ve]=oe.useState(""),[ie,ne]=oe.useState(!1),he=()=>{v([...m,{id:Date.now(),type:"MC",text:"",timeLimit:20,correctOptionId:"opt1",options:[{id:"opt1",color:"red",text:""},{id:"opt2",color:"blue",text:""},{id:"opt3",color:"green",text:""},{id:"opt4",color:"yellow",text:""}]}])},ge=M=>{m.length!==1&&v(m.filter(Y=>Y.id!==M))},fe=(M,Y)=>{v(m.map(K=>{if(K.id!==M)return K;const X={...K,type:Y};switch(Y){case"MC":case"POLL":return{...X,options:[{id:"opt1",color:"red",text:""},{id:"opt2",color:"blue",text:""},{id:"opt3",color:"green",text:""},{id:"opt4",color:"yellow",text:""}],correctOptionId:"opt1"};case"TRUE_FALSE":return{...X,options:[{id:"true",color:"blue",text:"True"},{id:"false",color:"red",text:"False"}],correctOptionId:"true"};case"OPEN_ENDED":return{...X,correctAnswer:"",options:void 0};case"WORD_CLOUD":return{...X,options:void 0};case"SLIDER":return{...X,min:0,max:100,step:1,correctValue:50,options:void 0};default:return X}}))},be=(M,Y,K)=>{v(m.map(X=>X.id===M?{...X,[Y]:K}:X))},qe=(M,Y,K)=>{v(m.map(X=>X.id===M&&X.options?{...X,options:X.options.map(F=>F.id===Y?{...F,text:K}:F)}:X))},R=(M,Y)=>{v(m.map(K=>K.id===M?{...K,correctOptionId:Y}:K))},q=async()=>{if(!G.trim()){T("Please enter a topic.");return}if(ee!=="gemini"&&!Q.trim()){T("API Key is required for the selected provider.");return}ne(!0),T(null);try{let M=[];if(ee==="gemini"){const X=await new UN({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-3-flash-preview",contents:`Generate ${$} quiz questions about "${G}". 
                Mix types between Multiple Choice (MC), TRUE_FALSE, and OPEN_ENDED. 
                For MC, provide 4 options. 
                For TRUE_FALSE, the answer must be 'True' or 'False'.
                For OPEN_ENDED, provide a short text answer.`,config:{responseMimeType:"application/json",responseSchema:{type:yt.ARRAY,items:{type:yt.OBJECT,properties:{text:{type:yt.STRING},type:{type:yt.STRING,enum:["MC","TRUE_FALSE","OPEN_ENDED"]},options:{type:yt.ARRAY,items:{type:yt.STRING}},correctAnswer:{type:yt.STRING}},required:["text","type","correctAnswer"]}}}});M=JSON.parse(X.text)}else if(ee==="openai"){const K=`Generate ${$} quiz questions about "${G}". 
            Return a JSON object with a key "questions" containing an array. 
            Each question object must have:
            - text: string
            - type: "MC" | "TRUE_FALSE" | "OPEN_ENDED"
            - options: string[] (4 options for MC)
            - correctAnswer: string
            For TRUE_FALSE, options are implied.`,F=await(await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`},body:JSON.stringify({model:"gpt-3.5-turbo-0125",messages:[{role:"system",content:"You are a quiz generation assistant. You only output valid JSON."},{role:"user",content:K}],response_format:{type:"json_object"}})})).json();if(F.error)throw new Error(F.error.message);const J=JSON.parse(F.choices[0].message.content);M=J.questions||J}else if(ee==="claude"){const K=`Generate ${$} quiz questions about "${G}". 
            Return ONLY a JSON array. Do not include any other text.
            Structure:
            [
              {
                "text": "Question?",
                "type": "MC" (or TRUE_FALSE or OPEN_ENDED),
                "options": ["A", "B", "C", "D"],
                "correctAnswer": "A"
              }
            ]`,X=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"x-api-key":Q,"anthropic-version":"2023-06-01","content-type":"application/json"},body:JSON.stringify({model:"claude-3-haiku-20240307",max_tokens:1500,messages:[{role:"user",content:K}]})});if(!X.ok)throw new Error("Anthropic API request failed. Note: Claude API often blocks browser requests (CORS).");const J=(await X.json()).content[0].text,se=J.substring(J.indexOf("["),J.lastIndexOf("]")+1);M=JSON.parse(se)}if(!Array.isArray(M))throw new Error("Invalid format received from AI");const Y=M.map((K,X)=>{let F="MC";const J=String(K.type).toUpperCase();J.includes("TRUE")||J.includes("FALSE")||J==="TF"?F="TRUE_FALSE":J.includes("OPEN")||J==="text"?F="OPEN_ENDED":J.includes("POLL")&&(F="POLL");const se={id:Date.now()+X,text:K.text,type:F,timeLimit:20};if(se.type==="MC"){const st=[...K.options&&Array.isArray(K.options)?K.options:["A","B","C","D"],"Option","Option","Option"].slice(0,4);se.options=[{id:"opt1",color:"red",text:String(st[0]||"")},{id:"opt2",color:"blue",text:String(st[1]||"")},{id:"opt3",color:"green",text:String(st[2]||"")},{id:"opt4",color:"yellow",text:String(st[3]||"")}];const Mt=st.findIndex(Fe=>Fe===K.correctAnswer),ze=["opt1","opt2","opt3","opt4"];se.correctOptionId=Mt!==-1?ze[Mt]:"opt1"}else if(se.type==="TRUE_FALSE"){se.options=[{id:"true",color:"blue",text:"True"},{id:"false",color:"red",text:"False"}];const Je=String(K.correctAnswer).toLowerCase().includes("true");se.correctOptionId=Je?"true":"false"}else se.type==="OPEN_ENDED"&&(se.correctAnswer=K.correctAnswer||"");return se});m.length===1&&m[0].text===""?v(Y):v([...m,...Y]),L(!1),j(""),s||l(`${G} Quiz`)}catch(M){console.error(M),T(M.message||"Failed to generate questions.")}finally{ne(!1)}},Z=()=>{const M=["Type","Question Text","Time Limit","Correct Answer/Value","Option 1 / Min","Option 2 / Max","Option 3","Option 4"],Y=[["MC","Which planet is the Red Planet?","20","Mars","Mars","Venus","Jupiter","Saturn"],["TRUE_FALSE","The earth is flat.","15","False","","","",""],["OPEN_ENDED","Who wrote Romeo and Juliet?","30","Shakespeare","","","",""],["SLIDER","Days in a leap year?","20","366","300","400","",""],["POLL","Favorite Color?","20","","Red","Blue","Green","Yellow"],["WORD_CLOUD","Describe space in one word","30","","","","",""]],K=[M.join(","),...Y.map(se=>se.map(Je=>Je.includes(",")||Je.includes('"')?`"${Je.replace(/"/g,'""')}"`:Je).join(","))].join(`
`),X=new Blob([K],{type:"text/csv;charset=utf-8;"}),F=URL.createObjectURL(X),J=document.createElement("a");J.href=F,J.setAttribute("download","quizwiz_sample.csv"),document.body.appendChild(J),J.click(),document.body.removeChild(J)},ce=M=>{const Y=[];let K="",X=!1;for(let F=0;F<M.length;F++){const J=M[F];J==='"'?X&&M[F+1]==='"'?(K+='"',F++):X=!X:J===","&&!X?(Y.push(K.trim()),K=""):K+=J}return Y.push(K.trim()),Y},pe=M=>{var X;const Y=(X=M.target.files)==null?void 0:X[0];if(!Y)return;const K=new FileReader;K.onload=F=>{var J;A((J=F.target)==null?void 0:J.result)},K.readAsText(Y),M.target.value=""},A=M=>{try{const Y=M.split(/\r?\n/).filter(F=>F.trim().length>0),K=[],X=Y[0].toLowerCase().includes("type")?1:0;for(let F=X;F<Y.length;F++){const J=ce(Y[F]);if(J.length<2)continue;const se=J[0].toUpperCase(),Je=J[1],st=parseInt(J[2])||20,Mt=J[3];let ze="MC";se.includes("MC")||se.includes("MULTIPLE")?ze="MC":se.includes("TRUE")||se.includes("TF")?ze="TRUE_FALSE":se.includes("OPEN")?ze="OPEN_ENDED":se.includes("POLL")?ze="POLL":se.includes("CLOUD")?ze="WORD_CLOUD":se.includes("SLIDER")&&(ze="SLIDER");const Fe={id:Date.now()+F,type:ze,text:Je,timeLimit:st};if(ze==="MC"||ze==="POLL"){if(Fe.options=[{id:"opt1",color:"red",text:J[4]||""},{id:"opt2",color:"blue",text:J[5]||""},{id:"opt3",color:"green",text:J[6]||""},{id:"opt4",color:"yellow",text:J[7]||""}],ze==="MC"){const In=Fe.options.find(St=>St.text.toLowerCase()===Mt.toLowerCase());Fe.correctOptionId=In?In.id:"opt1"}}else ze==="TRUE_FALSE"?(Fe.options=[{id:"true",color:"blue",text:"True"},{id:"false",color:"red",text:"False"}],Fe.correctOptionId=Mt.toLowerCase().includes("true")?"true":"false"):ze==="OPEN_ENDED"?Fe.correctAnswer=Mt:ze==="SLIDER"&&(Fe.correctValue=Number(Mt)||50,Fe.min=Number(J[4])||0,Fe.max=Number(J[5])||100,Fe.step=1);K.push(Fe)}K.length>0?(v([...m,...K]),setTimeout(()=>window.scrollTo(0,document.body.scrollHeight),100)):T("Could not parse any questions. Check format.")}catch(Y){console.error(Y),T("Failed to process CSV file.")}},z=async()=>{var X,F;if(!s.trim()){T("Please enter a quiz title.");return}for(let J=0;J<m.length;J++){const se=m[J];if(!se.text.trim()){T(`Question ${J+1} is missing text.`);return}if((se.type==="MC"||se.type==="POLL")&&((X=se.options)!=null&&X.some(Je=>!Je.text.trim()))){T(`Question ${J+1} has empty options.`);return}if(se.type==="OPEN_ENDED"&&!((F=se.correctAnswer)!=null&&F.trim())){T(`Question ${J+1} needs a correct answer.`);return}}D(!0);const M=localStorage.getItem("quizwiz_quizzes");let Y=M?JSON.parse(M):[],K;o?(K={...o,title:s.trim(),description:u,coverImageUrl:h,questions:m},Y=Y.map(J=>J.id===o.id?K:J)):(K={id:"quiz-"+Date.now().toString(36)+Math.random().toString(36).substr(2,5),title:s.trim(),description:u,coverImageUrl:h,questions:m,createdAt:Date.now()},Y.push(K)),localStorage.setItem("quizwiz_quizzes",JSON.stringify(Y)),await Yg(K),D(!1),n()};return C.jsxs("div",{className:"min-h-screen bg-indigo-50 dark:bg-slate-900 pb-20 transition-colors",children:[C.jsx("div",{className:"sticky top-0 z-20 bg-white/90 dark:bg-slate-900/90 backdrop-blur border-b border-slate-200 dark:border-slate-800 p-4 shadow-sm",children:C.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[C.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:o?"Edit Quiz":"Create New Quiz"}),C.jsxs("div",{className:"flex gap-3",children:[C.jsx("button",{onClick:e,className:"px-4 py-2 text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors",children:"Cancel"}),C.jsxs("button",{onClick:z,disabled:E,className:"flex items-center gap-2 px-6 py-2 bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 text-white font-bold rounded-lg shadow-lg shadow-indigo-500/20 active:scale-95 transition-all",children:[E?C.jsx(sl,{className:"w-4 h-4 animate-spin"}):C.jsx(_T,{className:"w-4 h-4"})," ",E?"Saving...":"Save Quiz"]})]})]})}),C.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[C.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700 animate-pop",children:[C.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-900 dark:text-white flex items-center gap-2",children:[C.jsx(xT,{className:"w-5 h-5 text-indigo-500"})," Basic Information"]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[C.jsxs("div",{className:"md:col-span-2 space-y-6",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Quiz Title"}),C.jsx("input",{type:"text",value:s,onChange:M=>l(M.target.value),placeholder:"Enter a catchy title...",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 focus:border-indigo-500 rounded-xl px-4 py-3 text-lg font-bold text-slate-900 dark:text-white outline-none transition-colors placeholder-slate-400"})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Description (Optional)"}),C.jsx("textarea",{value:u,onChange:M=>d(M.target.value),placeholder:"Provide a short description for your quiz to increase visibility.",rows:4,maxLength:500,className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 focus:border-indigo-500 rounded-xl px-4 py-3 text-slate-700 dark:text-slate-300 outline-none transition-colors placeholder-slate-400 resize-none"}),C.jsxs("div",{className:"text-right text-xs text-slate-400",children:[u.length,"/500"]})]})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Cover Image"}),C.jsx("div",{className:"aspect-video bg-slate-100 dark:bg-slate-900 rounded-xl border-2 border-dashed border-slate-300 dark:border-slate-700 flex flex-col items-center justify-center overflow-hidden relative group",children:h?C.jsxs(C.Fragment,{children:[C.jsx("img",{src:h,className:"w-full h-full object-cover",alt:"Cover"}),C.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:C.jsx("button",{onClick:()=>y(""),className:"text-white bg-red-500 p-2 rounded-full hover:bg-red-600 transition-colors",children:C.jsx(Zu,{className:"w-5 h-5"})})})]}):C.jsxs("div",{className:"text-center p-4",children:[C.jsx(jh,{className:"w-10 h-10 mx-auto text-slate-400 mb-2"}),C.jsx("p",{className:"text-xs text-slate-500",children:"Preview Area"})]})}),C.jsx("input",{type:"text",value:h,onChange:M=>y(M.target.value),placeholder:"Paste image URL here...",className:"w-full text-sm bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 text-slate-700 dark:text-slate-300 outline-none focus:border-indigo-500 transition-colors"})]})]}),C.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200 dark:border-slate-700 flex flex-wrap gap-4 items-center",children:[C.jsx("span",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 mr-auto",children:"Actions:"}),C.jsxs("button",{onClick:()=>L(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white rounded-lg transition-colors text-sm font-bold shadow-md hover:shadow-lg hover:-translate-y-0.5",children:[C.jsx(Cs,{className:"w-4 h-4"})," Magic Generate"]}),C.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-lg cursor-pointer transition-colors text-slate-600 dark:text-slate-300 text-sm font-semibold",children:[C.jsx(kT,{className:"w-4 h-4"})," Import CSV",C.jsx("input",{type:"file",accept:".csv",onChange:pe,className:"hidden"})]}),C.jsxs("button",{onClick:Z,className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-lg transition-colors text-slate-600 dark:text-slate-300 text-sm font-semibold",children:[C.jsx(jS,{className:"w-4 h-4"})," Sample CSV"]})]})]}),C.jsx("div",{className:"space-y-8",children:m.map((M,Y)=>{var K,X;return C.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl p-6 relative group animate-pop shadow-sm",children:[C.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-4 gap-4",children:[C.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[C.jsxs("h3",{className:"text-indigo-600 dark:text-indigo-400 font-bold text-lg",children:["Q",Y+1]}),C.jsx("div",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-900 px-3 py-1 rounded-lg border border-slate-200 dark:border-slate-700",children:C.jsxs("select",{value:M.type,onChange:F=>fe(M.id,F.target.value),className:"bg-transparent text-slate-700 dark:text-white text-sm outline-none cursor-pointer font-semibold",children:[C.jsx("option",{value:"MC",children:"Multiple Choice"}),C.jsx("option",{value:"TRUE_FALSE",children:"True / False"}),C.jsx("option",{value:"POLL",children:"Poll (No Score)"}),C.jsx("option",{value:"OPEN_ENDED",children:"Open Ended"}),C.jsx("option",{value:"WORD_CLOUD",children:"Word Cloud"}),C.jsx("option",{value:"SLIDER",children:"Slider"})]})}),C.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-900 px-3 py-1 rounded-lg border border-slate-200 dark:border-slate-700",children:[C.jsx(FS,{className:"w-4 h-4 text-slate-400"}),C.jsxs("select",{value:M.timeLimit||20,onChange:F=>be(M.id,"timeLimit",Number(F.target.value)),className:"bg-transparent text-slate-700 dark:text-white text-sm outline-none cursor-pointer",children:[C.jsx("option",{value:10,children:"10s"}),C.jsx("option",{value:20,children:"20s"}),C.jsx("option",{value:30,children:"30s"}),C.jsx("option",{value:60,children:"60s"})]})]})]}),m.length>1&&C.jsx("button",{onClick:()=>ge(M.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-lg transition-colors self-end md:self-auto",children:C.jsx(Zu,{className:"w-5 h-5"})})]}),C.jsxs("div",{className:"space-y-4 mb-6",children:[C.jsx("input",{type:"text",value:M.text,onChange:F=>be(M.id,"text",F.target.value),placeholder:"Type your question here...",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 focus:border-indigo-500 rounded-lg px-4 py-3 text-lg text-slate-900 dark:text-white outline-none transition-colors"}),C.jsxs("div",{className:"flex gap-4",children:[C.jsx("div",{className:"flex-1",children:C.jsxs("div",{className:"relative",children:[C.jsx("input",{type:"text",value:M.mediaUrl||"",onChange:F=>be(M.id,"mediaUrl",F.target.value),placeholder:"Paste Image URL or YouTube Link (Optional)",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 focus:border-indigo-500 rounded-lg pl-10 pr-4 py-2 text-sm text-slate-900 dark:text-white outline-none"}),C.jsx("div",{className:"absolute left-3 top-2.5 text-slate-400",children:M.mediaUrl&&(M.mediaUrl.includes("youtube")||M.mediaUrl.includes("youtu.be"))?C.jsx(tm,{className:"w-4 h-4"}):C.jsx(jh,{className:"w-4 h-4"})})]})}),C.jsx("div",{className:"w-32",children:C.jsxs("select",{value:M.mediaType||"image",onChange:F=>be(M.id,"mediaType",F.target.value),className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-900 dark:text-white outline-none cursor-pointer",children:[C.jsx("option",{value:"image",children:"Image"}),C.jsx("option",{value:"youtube",children:"YouTube"})]})})]}),M.mediaUrl&&C.jsx("div",{className:"mt-2 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700 bg-slate-100 dark:bg-slate-900 max-h-48 w-full flex justify-center",children:M.mediaType==="youtube"||M.mediaUrl.includes("youtube")||M.mediaUrl.includes("youtu.be")?C.jsxs("div",{className:"text-slate-500 flex items-center gap-2 p-4 text-sm",children:[C.jsx(tm,{className:"w-5 h-5 text-red-500"})," Video will be embedded"]}):C.jsx("img",{src:M.mediaUrl,alt:"Preview",className:"h-full object-contain",onError:F=>F.currentTarget.style.display="none"})})]}),C.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/30 rounded-xl p-4 border border-slate-200 dark:border-slate-700/50",children:[(M.type==="MC"||M.type==="POLL")&&C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(K=M.options)==null?void 0:K.map(F=>C.jsxs("div",{className:"flex items-center gap-3 bg-white dark:bg-slate-900/80 p-3 rounded-lg border border-slate-200 dark:border-slate-700/50 shadow-sm",children:[C.jsxs("div",{className:`relative shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${M.type==="MC"?"cursor-pointer":""}`,onClick:()=>M.type==="MC"&&R(M.id,F.id),children:[C.jsx("div",{className:`absolute inset-0 rounded-full opacity-20 ${F.color==="red"?"bg-red-500":F.color==="blue"?"bg-blue-500":F.color==="green"?"bg-emerald-500":"bg-yellow-400"}`}),M.type==="MC"&&C.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${M.correctOptionId===F.id?"border-indigo-500 bg-indigo-500 dark:border-white dark:bg-white":"border-slate-300 dark:border-white/50 bg-transparent"}`}),M.type==="POLL"&&C.jsx(wS,{className:"w-4 h-4 text-slate-400"})]}),C.jsx("input",{type:"text",value:F.text,onChange:J=>qe(M.id,F.id,J.target.value),placeholder:`Option ${F.color.charAt(0).toUpperCase()+F.color.slice(1)}`,className:`w-full bg-transparent border-b-2 border-transparent focus:border-${F.color==="green"?"emerald":F.color}-500 px-2 py-1 text-slate-900 dark:text-white outline-none transition-colors placeholder-slate-400`})]},F.id))}),M.type==="TRUE_FALSE"&&C.jsx("div",{className:"flex gap-4",children:(X=M.options)==null?void 0:X.map(F=>C.jsx("button",{onClick:()=>R(M.id,F.id),className:`flex-1 py-4 rounded-xl border-2 font-bold text-lg transition-all ${M.correctOptionId===F.id?F.id==="true"?"bg-blue-100 border-blue-500 text-blue-600 dark:bg-blue-500/20 dark:text-blue-400":"bg-red-100 border-red-500 text-red-600 dark:bg-red-500/20 dark:text-red-400":"border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-500 bg-white dark:bg-slate-900"}`,children:F.text},F.id))}),M.type==="OPEN_ENDED"&&C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Correct Answer (Exact Match)"}),C.jsx("input",{type:"text",value:M.correctAnswer||"",onChange:F=>be(M.id,"correctAnswer",F.target.value),placeholder:"e.g. Paris",className:"w-full bg-white dark:bg-slate-900 border border-emerald-500/50 rounded-lg px-4 py-3 text-emerald-600 dark:text-emerald-400 font-bold outline-none"})]}),M.type==="SLIDER"&&C.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Min"}),C.jsx("input",{type:"number",value:M.min??0,onChange:F=>be(M.id,"min",Number(F.target.value)),className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 text-slate-900 dark:text-white outline-none"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Max"}),C.jsx("input",{type:"number",value:M.max??100,onChange:F=>be(M.id,"max",Number(F.target.value)),className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 text-slate-900 dark:text-white outline-none"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"text-xs font-bold text-emerald-500 uppercase",children:"Correct Value"}),C.jsx("input",{type:"number",value:M.correctValue??50,onChange:F=>be(M.id,"correctValue",Number(F.target.value)),className:"w-full bg-white dark:bg-slate-900 border border-emerald-500 rounded-lg px-3 py-2 text-emerald-600 dark:text-emerald-400 font-bold outline-none"})]})]}),M.type==="WORD_CLOUD"&&C.jsx("div",{className:"flex items-center justify-center p-8 border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-xl",children:C.jsxs("p",{className:"text-slate-500 flex items-center gap-2",children:[C.jsx(cT,{className:"w-5 h-5"})," Players will type a short answer. No scoring."]})})]}),M.type!=="POLL"&&M.type!=="WORD_CLOUD"&&C.jsx("p",{className:"mt-3 text-xs text-slate-500 text-center",children:M.type==="MC"||M.type==="TRUE_FALSE"?"Select the correct option bubble.":"Ensure the correct answer is set."})]},M.id)})}),C.jsxs("button",{onClick:he,className:"w-full py-4 border-2 border-dashed border-slate-300 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 hover:bg-slate-50 dark:hover:bg-slate-800/50 text-slate-500 dark:text-slate-400 hover:text-indigo-600 dark:hover:text-white rounded-xl transition-all flex items-center justify-center gap-2 font-semibold",children:[C.jsx(ig,{className:"w-5 h-5"})," Add Question"]})]}),P&&C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-pop",children:C.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6 border border-slate-200 dark:border-slate-700",children:[C.jsxs("div",{className:"flex justify-between items-center mb-6",children:[C.jsxs("h2",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-500 to-indigo-600 flex items-center gap-2",children:[C.jsx(Cs,{className:"w-6 h-6 text-purple-500 fill-current"})," Magic Generate"]}),C.jsx("button",{onClick:()=>!ie&&L(!1),className:"text-slate-500 hover:text-red-500",children:C.jsx(Wu,{className:"w-6 h-6"})})]}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-slate-500 dark:text-slate-400 mb-2 uppercase",children:"AI Model"}),C.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[C.jsxs("button",{onClick:()=>le("gemini"),className:`p-2 rounded-xl border flex flex-col items-center gap-1 transition-all ${ee==="gemini"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-500/20 text-indigo-600 dark:text-indigo-300":"border-slate-200 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-500"}`,children:[C.jsx(Cs,{className:"w-5 h-5"}),C.jsx("span",{className:"text-xs font-bold",children:"Gemini"})]}),C.jsxs("button",{onClick:()=>le("openai"),className:`p-2 rounded-xl border flex flex-col items-center gap-1 transition-all ${ee==="openai"?"border-green-500 bg-green-50 dark:bg-green-500/20 text-green-600 dark:text-green-300":"border-slate-200 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-500"}`,children:[C.jsx(MS,{className:"w-5 h-5"}),C.jsx("span",{className:"text-xs font-bold",children:"OpenAI"})]}),C.jsxs("button",{onClick:()=>le("claude"),className:`p-2 rounded-xl border flex flex-col items-center gap-1 transition-all ${ee==="claude"?"border-purple-500 bg-purple-50 dark:bg-purple-500/20 text-purple-600 dark:text-purple-300":"border-slate-200 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-500"}`,children:[C.jsx(DS,{className:"w-5 h-5"}),C.jsx("span",{className:"text-xs font-bold",children:"Claude"})]})]})]}),ee!=="gemini"&&C.jsxs("div",{className:"animate-pop",children:[C.jsxs("label",{className:"block text-sm font-bold text-slate-500 dark:text-slate-400 mb-2 uppercase flex items-center gap-2",children:[C.jsx(nT,{className:"w-3 h-3"})," API Key ",C.jsx("span",{className:"text-xs font-normal normal-case text-slate-400",children:"(Stored locally only)"})]}),C.jsx("input",{type:"password",value:Q,onChange:M=>ve(M.target.value),placeholder:`Enter your ${ee==="openai"?"OpenAI":"Anthropic"} API Key`,className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl px-4 py-3 outline-none focus:border-indigo-500 text-slate-900 dark:text-white"}),ee==="claude"&&C.jsx("p",{className:"text-[10px] text-amber-500 mt-1",children:"Note: Anthropic API may require a proxy due to strict browser CORS policies."})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-slate-500 dark:text-slate-400 mb-2 uppercase",children:"Topic"}),C.jsx("input",{type:"text",value:G,onChange:M=>j(M.target.value),placeholder:"e.g., 1980s Pop Music, Quantum Physics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl px-4 py-3 outline-none focus:border-indigo-500 text-slate-900 dark:text-white",autoFocus:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-slate-500 dark:text-slate-400 mb-2 uppercase",children:"Number of Questions"}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("input",{type:"range",min:"1",max:"10",value:$,onChange:M=>W(Number(M.target.value)),className:"flex-1 accent-indigo-500"}),C.jsx("span",{className:"font-mono text-xl font-bold text-indigo-500",children:$})]})]}),C.jsx("button",{onClick:q,disabled:ie||!G.trim()||ee!=="gemini"&&!Q.trim(),className:"w-full py-4 mt-4 bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-all active:scale-95",children:ie?C.jsxs(C.Fragment,{children:[C.jsx(sl,{className:"w-5 h-5 animate-spin"})," Generating..."]}):C.jsxs(C.Fragment,{children:[C.jsx(Cs,{className:"w-5 h-5"})," Generate Quiz"]})})]})]})}),_&&C.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 flex items-center gap-2 px-6 py-3 bg-red-500 text-white rounded-full shadow-2xl animate-pop z-50",children:[C.jsx(PS,{className:"w-5 h-5"})," ",C.jsx("span",{children:_})," ",C.jsx("button",{onClick:()=>T(null),className:"ml-2 hover:bg-white/20 rounded-full p-1",children:C.jsx(Wu,{className:"w-4 h-4"})})]})]})},PN=()=>{const[n,e]=oe.useState(()=>new URLSearchParams(window.location.search).has("join")?"PLAYER_JOIN":"LANDING"),[o,s]=oe.useState(null),[l,u]=oe.useState(null),[d,h]=oe.useState(()=>typeof window<"u"?localStorage.getItem("theme")==="dark"||!localStorage.getItem("theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches:!0);oe.useEffect(()=>{d?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[d]);const y=()=>h(!d),m=()=>{switch(n){case"PLAYER_JOIN":return C.jsx(_C,{onBack:()=>{const v=new URL(window.location.href);v.searchParams.delete("join"),window.history.replaceState({},"",v),e("LANDING")}});case"HOST_AUTH":return C.jsx(SC,{onSuccess:()=>e("HOST_DASHBOARD"),onBack:()=>e("LANDING")});case"HOST_DASHBOARD":return C.jsx(xC,{onPlay:v=>{s(v),e("HOST_LOBBY")},onCreate:()=>{u(null),e("HOST_CREATE")},onEdit:v=>{u(v),e("HOST_CREATE")},onBack:()=>e("LANDING")});case"HOST_CREATE":return C.jsx(LN,{initialQuiz:l,onSave:()=>{u(null),e("HOST_DASHBOARD")},onCancel:()=>{u(null),e("HOST_DASHBOARD")}});case"HOST_LOBBY":return o?C.jsx(vC,{quiz:o,onBack:()=>e("HOST_DASHBOARD")}):C.jsx("div",{children:"Error: No quiz selected"});case"LANDING":default:return C.jsx(qT,{onHost:()=>e("HOST_AUTH"),onJoin:()=>e("PLAYER_JOIN")})}};return C.jsxs("div",{className:"min-h-screen text-slate-900 dark:text-white selection:bg-indigo-500 selection:text-white transition-colors duration-300",children:[C.jsx("button",{onClick:y,className:"fixed top-4 right-4 z-50 p-3 rounded-full bg-white/80 dark:bg-slate-800/80 backdrop-blur shadow-lg border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-all active:scale-95",title:"Toggle Theme",children:d?C.jsx(NT,{className:"w-5 h-5"}):C.jsx(dT,{className:"w-5 h-5"})}),m()]})},zy=document.getElementById("root");if(!zy)throw new Error("Could not find root element to mount to");const ON=SS.createRoot(zy);ON.render(C.jsx(PN,{}));
