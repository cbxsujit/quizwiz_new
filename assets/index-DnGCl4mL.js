var cS=n=>{throw TypeError(n)};var _s=(n,e,o)=>e.has(n)?cS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,o);function fS(n,e){for(var o=0;o<e.length;o++){const s=e[o];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in n)){const u=Object.getOwnPropertyDescriptor(s,l);u&&Object.defineProperty(n,l,u.get?u:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function o(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=o(l);fetch(l.href,u)}})();function jg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hu={exports:{}},Ss={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fh;function dS(){if(Fh)return Ss;Fh=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:n,type:s,key:d,ref:l!==void 0?l:null,props:u}}return Ss.Fragment=e,Ss.jsx=o,Ss.jsxs=o,Ss}var Jh;function pS(){return Jh||(Jh=1,Hu.exports=dS()),Hu.exports}var C=pS(),Vu={exports:{}},Ts={},Bu={exports:{}},Fu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh;function hS(){return Yh||(Yh=1,(function(n){function e(P,D){var X=P.length;P.push(D);e:for(;0<X;){var oe=X-1>>>1,me=P[oe];if(0<l(me,D))P[oe]=D,P[X]=me,X=oe;else break e}}function o(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var D=P[0],X=P.pop();if(X!==D){P[0]=X;e:for(var oe=0,me=P.length,A=me>>>1;oe<A;){var z=2*(oe+1)-1,Q=P[z],ee=z+1,O=P[ee];if(0>l(Q,X))ee<me&&0>l(O,Q)?(P[oe]=O,P[ee]=X,oe=ee):(P[oe]=Q,P[z]=X,oe=z);else if(ee<me&&0>l(O,X))P[oe]=O,P[ee]=X,oe=ee;else break e}}return D}function l(P,D){var X=P.sortIndex-D.sortIndex;return X!==0?X:P.id-D.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var y=[],m=[],v=1,_=null,T=3,E=!1,M=!1,L=!1,w=!1,H=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function W(P){for(var D=o(m);D!==null;){if(D.callback===null)s(m);else if(D.startTime<=P)s(m),D.sortIndex=D.expirationTime,e(y,D);else break;D=o(m)}}function re(P){if(L=!1,W(P),!M)if(o(y)!==null)M=!0,le||(le=!0,Ce());else{var D=o(m);D!==null&&$e(re,D.startTime-P)}}var le=!1,$=-1,ge=5,ne=-1;function ie(){return w?!0:!(n.unstable_now()-ne<ge)}function de(){if(w=!1,le){var P=n.unstable_now();ne=P;var D=!0;try{e:{M=!1,L&&(L=!1,j($),$=-1),E=!0;var X=T;try{t:{for(W(P),_=o(y);_!==null&&!(_.expirationTime>P&&ie());){var oe=_.callback;if(typeof oe=="function"){_.callback=null,T=_.priorityLevel;var me=oe(_.expirationTime<=P);if(P=n.unstable_now(),typeof me=="function"){_.callback=me,W(P),D=!0;break t}_===o(y)&&s(y),W(P)}else s(y);_=o(y)}if(_!==null)D=!0;else{var A=o(m);A!==null&&$e(re,A.startTime-P),D=!1}}break e}finally{_=null,T=X,E=!1}D=void 0}}finally{D?Ce():le=!1}}}var Ce;if(typeof J=="function")Ce=function(){J(de)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Ie=_e.port2;_e.port1.onmessage=de,Ce=function(){Ie.postMessage(null)}}else Ce=function(){H(de,0)};function $e(P,D){$=H(function(){P(n.unstable_now())},D)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(P){switch(T){case 1:case 2:case 3:var D=3;break;default:D=T}var X=T;T=D;try{return P()}finally{T=X}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(P,D){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var X=T;T=P;try{return D()}finally{T=X}},n.unstable_scheduleCallback=function(P,D,X){var oe=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?oe+X:oe):X=oe,P){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=X+me,P={id:v++,callback:D,priorityLevel:P,startTime:X,expirationTime:me,sortIndex:-1},X>oe?(P.sortIndex=X,e(m,P),o(y)===null&&P===o(m)&&(L?(j($),$=-1):L=!0,$e(re,X-oe))):(P.sortIndex=me,e(y,P),M||E||(M=!0,le||(le=!0,Ce()))),P},n.unstable_shouldYield=ie,n.unstable_wrapCallback=function(P){var D=T;return function(){var X=T;T=D;try{return P.apply(this,arguments)}finally{T=X}}}})(Fu)),Fu}var $h;function mS(){return $h||($h=1,Bu.exports=hS()),Bu.exports}var Ju={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh;function gS(){if(Qh)return ve;Qh=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function E(A){return A===null||typeof A!="object"?null:(A=T&&A[T]||A["@@iterator"],typeof A=="function"?A:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,w={};function H(A,z,Q){this.props=A,this.context=z,this.refs=w,this.updater=Q||M}H.prototype.isReactComponent={},H.prototype.setState=function(A,z){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,z,"setState")},H.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function j(){}j.prototype=H.prototype;function J(A,z,Q){this.props=A,this.context=z,this.refs=w,this.updater=Q||M}var W=J.prototype=new j;W.constructor=J,L(W,H.prototype),W.isPureReactComponent=!0;var re=Array.isArray;function le(){}var $={H:null,A:null,T:null,S:null},ge=Object.prototype.hasOwnProperty;function ne(A,z,Q){var ee=Q.ref;return{$$typeof:n,type:A,key:z,ref:ee!==void 0?ee:null,props:Q}}function ie(A,z){return ne(A.type,z,A.props)}function de(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function Ce(A){var z={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(Q){return z[Q]})}var _e=/\/+/g;function Ie(A,z){return typeof A=="object"&&A!==null&&A.key!=null?Ce(""+A.key):z.toString(36)}function $e(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(le,le):(A.status="pending",A.then(function(z){A.status==="pending"&&(A.status="fulfilled",A.value=z)},function(z){A.status==="pending"&&(A.status="rejected",A.reason=z)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function P(A,z,Q,ee,O){var Z=typeof A;(Z==="undefined"||Z==="boolean")&&(A=null);var K=!1;if(A===null)K=!0;else switch(Z){case"bigint":case"string":case"number":K=!0;break;case"object":switch(A.$$typeof){case n:case e:K=!0;break;case v:return K=A._init,P(K(A._payload),z,Q,ee,O)}}if(K)return O=O(A),K=ee===""?"."+Ie(A,0):ee,re(O)?(Q="",K!=null&&(Q=K.replace(_e,"$&/")+"/"),P(O,z,Q,"",function(ae){return ae})):O!=null&&(de(O)&&(O=ie(O,Q+(O.key==null||A&&A.key===O.key?"":(""+O.key).replace(_e,"$&/")+"/")+K)),z.push(O)),1;K=0;var Y=ee===""?".":ee+":";if(re(A))for(var F=0;F<A.length;F++)ee=A[F],Z=Y+Ie(ee,F),K+=P(ee,z,Q,Z,O);else if(F=E(A),typeof F=="function")for(A=F.call(A),F=0;!(ee=A.next()).done;)ee=ee.value,Z=Y+Ie(ee,F++),K+=P(ee,z,Q,Z,O);else if(Z==="object"){if(typeof A.then=="function")return P($e(A),z,Q,ee,O);throw z=String(A),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return K}function D(A,z,Q){if(A==null)return A;var ee=[],O=0;return P(A,ee,"","",function(Z){return z.call(Q,Z,O++)}),ee}function X(A){if(A._status===-1){var z=A._result;z=z(),z.then(function(Q){(A._status===0||A._status===-1)&&(A._status=1,A._result=Q)},function(Q){(A._status===0||A._status===-1)&&(A._status=2,A._result=Q)}),A._status===-1&&(A._status=0,A._result=z)}if(A._status===1)return A._result.default;throw A._result}var oe=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},me={map:D,forEach:function(A,z,Q){D(A,function(){z.apply(this,arguments)},Q)},count:function(A){var z=0;return D(A,function(){z++}),z},toArray:function(A){return D(A,function(z){return z})||[]},only:function(A){if(!de(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return ve.Activity=_,ve.Children=me,ve.Component=H,ve.Fragment=o,ve.Profiler=l,ve.PureComponent=J,ve.StrictMode=s,ve.Suspense=y,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,ve.__COMPILER_RUNTIME={__proto__:null,c:function(A){return $.H.useMemoCache(A)}},ve.cache=function(A){return function(){return A.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(A,z,Q){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var ee=L({},A.props),O=A.key;if(z!=null)for(Z in z.key!==void 0&&(O=""+z.key),z)!ge.call(z,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&z.ref===void 0||(ee[Z]=z[Z]);var Z=arguments.length-2;if(Z===1)ee.children=Q;else if(1<Z){for(var K=Array(Z),Y=0;Y<Z;Y++)K[Y]=arguments[Y+2];ee.children=K}return ne(A.type,O,ee)},ve.createContext=function(A){return A={$$typeof:d,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},ve.createElement=function(A,z,Q){var ee,O={},Z=null;if(z!=null)for(ee in z.key!==void 0&&(Z=""+z.key),z)ge.call(z,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(O[ee]=z[ee]);var K=arguments.length-2;if(K===1)O.children=Q;else if(1<K){for(var Y=Array(K),F=0;F<K;F++)Y[F]=arguments[F+2];O.children=Y}if(A&&A.defaultProps)for(ee in K=A.defaultProps,K)O[ee]===void 0&&(O[ee]=K[ee]);return ne(A,Z,O)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(A){return{$$typeof:h,render:A}},ve.isValidElement=de,ve.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:X}},ve.memo=function(A,z){return{$$typeof:m,type:A,compare:z===void 0?null:z}},ve.startTransition=function(A){var z=$.T,Q={};$.T=Q;try{var ee=A(),O=$.S;O!==null&&O(Q,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(le,oe)}catch(Z){oe(Z)}finally{z!==null&&Q.types!==null&&(z.types=Q.types),$.T=z}},ve.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},ve.use=function(A){return $.H.use(A)},ve.useActionState=function(A,z,Q){return $.H.useActionState(A,z,Q)},ve.useCallback=function(A,z){return $.H.useCallback(A,z)},ve.useContext=function(A){return $.H.useContext(A)},ve.useDebugValue=function(){},ve.useDeferredValue=function(A,z){return $.H.useDeferredValue(A,z)},ve.useEffect=function(A,z){return $.H.useEffect(A,z)},ve.useEffectEvent=function(A){return $.H.useEffectEvent(A)},ve.useId=function(){return $.H.useId()},ve.useImperativeHandle=function(A,z,Q){return $.H.useImperativeHandle(A,z,Q)},ve.useInsertionEffect=function(A,z){return $.H.useInsertionEffect(A,z)},ve.useLayoutEffect=function(A,z){return $.H.useLayoutEffect(A,z)},ve.useMemo=function(A,z){return $.H.useMemo(A,z)},ve.useOptimistic=function(A,z){return $.H.useOptimistic(A,z)},ve.useReducer=function(A,z,Q){return $.H.useReducer(A,z,Q)},ve.useRef=function(A){return $.H.useRef(A)},ve.useState=function(A){return $.H.useState(A)},ve.useSyncExternalStore=function(A,z,Q){return $.H.useSyncExternalStore(A,z,Q)},ve.useTransition=function(){return $.H.useTransition()},ve.version="19.2.3",ve}var Kh;function Nc(){return Kh||(Kh=1,Ju.exports=gS()),Ju.exports}var Yu={exports:{}},ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh;function yS(){if(Xh)return ht;Xh=1;var n=Nc();function e(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,m,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:_==null?null:""+_,children:y,containerInfo:m,implementation:v}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ht.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(y,m,null,v)},ht.flushSync=function(y){var m=d.T,v=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=m,s.p=v,s.d.f()}},ht.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(y,m))},ht.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},ht.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,_=h(v,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:E}):v==="script"&&s.d.X(y,{crossOrigin:_,integrity:T,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ht.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=h(m.as,m.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(y)},ht.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,_=h(v,m.crossOrigin);s.d.L(y,v,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ht.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=h(m.as,m.crossOrigin);s.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(y)},ht.requestFormReset=function(y){s.d.r(y)},ht.unstable_batchedUpdates=function(y,m){return y(m)},ht.useFormState=function(y,m,v){return d.H.useFormState(y,m,v)},ht.useFormStatus=function(){return d.H.useHostTransitionStatus()},ht.version="19.2.3",ht}var Zh;function vS(){if(Zh)return Yu.exports;Zh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yu.exports=yS(),Yu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh;function _S(){if(Wh)return Ts;Wh=1;var n=mS(),e=Nc(),o=vS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(s(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var r=t,a=i;;){var p=r.return;if(p===null)break;var g=p.alternate;if(g===null){if(a=p.return,a!==null){r=a;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===r)return y(p),t;if(g===a)return y(p),i;g=g.sibling}throw Error(s(188))}if(r.return!==a.return)r=p,a=g;else{for(var S=!1,x=p.child;x;){if(x===r){S=!0,r=p,a=g;break}if(x===a){S=!0,a=p,r=g;break}x=x.sibling}if(!S){for(x=g.child;x;){if(x===r){S=!0,r=g,a=p;break}if(x===a){S=!0,a=g,r=p;break}x=x.sibling}if(!S)throw Error(s(189))}}if(r.alternate!==a)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),J=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function Ce(t){return t===null||typeof t!="object"?null:(t=de&&t[de]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Symbol.for("react.client.reference");function Ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===_e?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case H:return"Profiler";case w:return"StrictMode";case re:return"Suspense";case le:return"SuspenseList";case ne:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case J:return t.displayName||"Context";case j:return(t._context.displayName||"Context")+".Consumer";case W:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return i=t.displayName||null,i!==null?i:Ie(t.type)||"Memo";case ge:i=t._payload,t=t._init;try{return Ie(t(i))}catch{}}return null}var $e=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},oe=[],me=-1;function A(t){return{current:t}}function z(t){0>me||(t.current=oe[me],oe[me]=null,me--)}function Q(t,i){me++,oe[me]=t.current,t.current=i}var ee=A(null),O=A(null),Z=A(null),K=A(null);function Y(t,i){switch(Q(Z,i),Q(O,t),Q(ee,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?ph(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=ph(i),t=hh(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}z(ee),Q(ee,t)}function F(){z(ee),z(O),z(Z)}function ae(t){t.memoizedState!==null&&Q(K,t);var i=ee.current,r=hh(i,t.type);i!==r&&(Q(O,t),Q(ee,r))}function Ee(t){O.current===t&&(z(ee),z(O)),K.current===t&&(z(K),ms._currentValue=X)}var rt,lt;function at(t){if(rt===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);rt=i&&i[1]||"",lt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rt+t+lt}var Qe=!1;function He(t,i){if(!t||Qe)return"";Qe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(i){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(G){var U=G}Reflect.construct(t,[],B)}else{try{B.call()}catch(G){U=G}t.call(B.prototype)}}else{try{throw Error()}catch(G){U=G}(B=t())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(G){if(G&&U&&typeof G.stack=="string")return[G.stack,U.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=a.DetermineComponentFrameRoot(),S=g[0],x=g[1];if(S&&x){var b=S.split(`
`),k=x.split(`
`);for(p=a=0;a<b.length&&!b[a].includes("DetermineComponentFrameRoot");)a++;for(;p<k.length&&!k[p].includes("DetermineComponentFrameRoot");)p++;if(a===b.length||p===k.length)for(a=b.length-1,p=k.length-1;1<=a&&0<=p&&b[a]!==k[p];)p--;for(;1<=a&&0<=p;a--,p--)if(b[a]!==k[p]){if(a!==1||p!==1)do if(a--,p--,0>p||b[a]!==k[p]){var q=`
`+b[a].replace(" at new "," at ");return t.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",t.displayName)),q}while(1<=a&&0<=p);break}}}finally{Qe=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?at(r):""}function ri(t,i){switch(t.tag){case 26:case 27:case 5:return at(t.type);case 16:return at("Lazy");case 13:return t.child!==i&&i!==null?at("Suspense Fallback"):at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return He(t.type,!1);case 11:return He(t.type.render,!1);case 1:return He(t.type,!0);case 31:return at("Activity");default:return""}}function Ds(t){try{var i="",r=null;do i+=ri(t,r),r=t,t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Al=Object.prototype.hasOwnProperty,Rl=n.unstable_scheduleCallback,Nl=n.unstable_cancelCallback,Vy=n.unstable_shouldYield,By=n.unstable_requestPaint,Dt=n.unstable_now,Fy=n.unstable_getCurrentPriorityLevel,Fc=n.unstable_ImmediatePriority,Jc=n.unstable_UserBlockingPriority,ks=n.unstable_NormalPriority,Jy=n.unstable_LowPriority,Yc=n.unstable_IdlePriority,Yy=n.log,$y=n.unstable_setDisableYieldValue,Ro=null,kt=null;function Dn(t){if(typeof Yy=="function"&&$y(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(Ro,t)}catch{}}var wt=Math.clz32?Math.clz32:Xy,Qy=Math.log,Ky=Math.LN2;function Xy(t){return t>>>=0,t===0?32:31-(Qy(t)/Ky|0)|0}var ws=256,Us=262144,Ls=4194304;function li(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ps(t,i,r){var a=t.pendingLanes;if(a===0)return 0;var p=0,g=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var x=a&134217727;return x!==0?(a=x&~g,a!==0?p=li(a):(S&=x,S!==0?p=li(S):r||(r=x&~t,r!==0&&(p=li(r))))):(x=a&~g,x!==0?p=li(x):S!==0?p=li(S):r||(r=a&~t,r!==0&&(p=li(r)))),p===0?0:i!==0&&i!==p&&(i&g)===0&&(g=p&-p,r=i&-i,g>=r||g===32&&(r&4194048)!==0)?i:p}function No(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Zy(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $c(){var t=Ls;return Ls<<=1,(Ls&62914560)===0&&(Ls=4194304),t}function Ml(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function Mo(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wy(t,i,r,a,p,g){var S=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var x=t.entanglements,b=t.expirationTimes,k=t.hiddenUpdates;for(r=S&~r;0<r;){var q=31-wt(r),B=1<<q;x[q]=0,b[q]=-1;var U=k[q];if(U!==null)for(k[q]=null,q=0;q<U.length;q++){var G=U[q];G!==null&&(G.lane&=-536870913)}r&=~B}a!==0&&Qc(t,a,0),g!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=g&~(S&~i))}function Qc(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var a=31-wt(i);t.entangledLanes|=i,t.entanglements[a]=t.entanglements[a]|1073741824|r&261930}function Kc(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var a=31-wt(r),p=1<<a;p&i|t[a]&i&&(t[a]|=i),r&=~p}}function Xc(t,i){var r=i&-i;return r=(r&42)!==0?1:Il(r),(r&(t.suspendedLanes|i))!==0?0:r}function Il(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Dl(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Zc(){var t=D.p;return t!==0?t:(t=window.event,t===void 0?32:Oh(t.type))}function Wc(t,i){var r=D.p;try{return D.p=t,i()}finally{D.p=r}}var kn=Math.random().toString(36).slice(2),ut="__reactFiber$"+kn,xt="__reactProps$"+kn,wi="__reactContainer$"+kn,kl="__reactEvents$"+kn,jy="__reactListeners$"+kn,ev="__reactHandles$"+kn,jc="__reactResources$"+kn,Io="__reactMarker$"+kn;function wl(t){delete t[ut],delete t[xt],delete t[kl],delete t[jy],delete t[ev]}function Ui(t){var i=t[ut];if(i)return i;for(var r=t.parentNode;r;){if(i=r[wi]||r[ut]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=Th(t);t!==null;){if(r=t[ut])return r;t=Th(t)}return i}t=r,r=t.parentNode}return null}function Li(t){if(t=t[ut]||t[wi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Do(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Pi(t){var i=t[jc];return i||(i=t[jc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function it(t){t[Io]=!0}var ef=new Set,tf={};function ai(t,i){Oi(t,i),Oi(t+"Capture",i)}function Oi(t,i){for(tf[t]=i,t=0;t<i.length;t++)ef.add(i[t])}var tv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nf={},of={};function nv(t){return Al.call(of,t)?!0:Al.call(nf,t)?!1:tv.test(t)?of[t]=!0:(nf[t]=!0,!1)}function Os(t,i,r){if(nv(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var a=i.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function Gs(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function cn(t,i,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+a)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sf(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function iv(t,i,r){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,g=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return p.call(this)},set:function(S){r=""+S,g.call(this,S)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(S){r=""+S},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ul(t){if(!t._valueTracker){var i=sf(t)?"checked":"value";t._valueTracker=iv(t,i,""+t[i])}}function rf(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),a="";return t&&(a=sf(t)?t.checked?"true":"false":t.value),t=a,t!==r?(i.setValue(t),!0):!1}function zs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ov=/[\n"\\]/g;function Vt(t){return t.replace(ov,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ll(t,i,r,a,p,g,S,x){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),i!=null?S==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ht(i)):t.value!==""+Ht(i)&&(t.value=""+Ht(i)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),i!=null?Pl(t,S,Ht(i)):r!=null?Pl(t,S,Ht(r)):a!=null&&t.removeAttribute("value"),p==null&&g!=null&&(t.defaultChecked=!!g),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Ht(x):t.removeAttribute("name")}function lf(t,i,r,a,p,g,S,x){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),i!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){Ul(t);return}r=r!=null?""+Ht(r):"",i=i!=null?""+Ht(i):r,x||i===t.value||(t.value=i),t.defaultValue=i}a=a??p,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=x?t.checked:!!a,t.defaultChecked=!!a,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S),Ul(t)}function Pl(t,i,r){i==="number"&&zs(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Gi(t,i,r,a){if(t=t.options,i){i={};for(var p=0;p<r.length;p++)i["$"+r[p]]=!0;for(r=0;r<t.length;r++)p=i.hasOwnProperty("$"+t[r].value),t[r].selected!==p&&(t[r].selected=p),p&&a&&(t[r].defaultSelected=!0)}else{for(r=""+Ht(r),i=null,p=0;p<t.length;p++){if(t[p].value===r){t[p].selected=!0,a&&(t[p].defaultSelected=!0);return}i!==null||t[p].disabled||(i=t[p])}i!==null&&(i.selected=!0)}}function af(t,i,r){if(i!=null&&(i=""+Ht(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+Ht(r):""}function uf(t,i,r,a){if(i==null){if(a!=null){if(r!=null)throw Error(s(92));if($e(a)){if(1<a.length)throw Error(s(93));a=a[0]}r=a}r==null&&(r=""),i=r}r=Ht(i),t.defaultValue=r,a=t.textContent,a===r&&a!==""&&a!==null&&(t.value=a),Ul(t)}function zi(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var sv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cf(t,i,r){var a=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?a?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":a?t.setProperty(i,r):typeof r!="number"||r===0||sv.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function ff(t,i,r){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,r!=null){for(var a in r)!r.hasOwnProperty(a)||i!=null&&i.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var p in i)a=i[p],i.hasOwnProperty(p)&&r[p]!==a&&cf(t,p,a)}else for(var g in i)i.hasOwnProperty(g)&&cf(t,g,i[g])}function Ol(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qs(t){return lv.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function fn(){}var Gl=null;function zl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qi=null,Hi=null;function df(t){var i=Li(t);if(i&&(t=i.stateNode)){var r=t[xt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ll(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Vt(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var a=r[i];if(a!==t&&a.form===t.form){var p=a[xt]||null;if(!p)throw Error(s(90));Ll(a,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<r.length;i++)a=r[i],a.form===t.form&&rf(a)}break e;case"textarea":af(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&Gi(t,!!r.multiple,i,!1)}}}var ql=!1;function pf(t,i,r){if(ql)return t(i,r);ql=!0;try{var a=t(i);return a}finally{if(ql=!1,(qi!==null||Hi!==null)&&(Rr(),qi&&(i=qi,t=Hi,Hi=qi=null,df(i),t)))for(i=0;i<t.length;i++)df(t[i])}}function ko(t,i){var r=t.stateNode;if(r===null)return null;var a=r[xt]||null;if(a===null)return null;r=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,i,typeof r));return r}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hl=!1;if(dn)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){Hl=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{Hl=!1}var wn=null,Vl=null,Hs=null;function hf(){if(Hs)return Hs;var t,i=Vl,r=i.length,a,p="value"in wn?wn.value:wn.textContent,g=p.length;for(t=0;t<r&&i[t]===p[t];t++);var S=r-t;for(a=1;a<=S&&i[r-a]===p[g-a];a++);return Hs=p.slice(t,1<a?1-a:void 0)}function Vs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Bs(){return!0}function mf(){return!1}function Et(t){function i(r,a,p,g,S){this._reactName=r,this._targetInst=p,this.type=a,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(r=t[x],this[x]=r?r(g):g[x]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Bs:mf,this.isPropagationStopped=mf,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),i}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fs=Et(ui),Uo=_({},ui,{view:0,detail:0}),av=Et(Uo),Bl,Fl,Lo,Js=_({},Uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lo&&(Lo&&t.type==="mousemove"?(Bl=t.screenX-Lo.screenX,Fl=t.screenY-Lo.screenY):Fl=Bl=0,Lo=t),Bl)},movementY:function(t){return"movementY"in t?t.movementY:Fl}}),gf=Et(Js),uv=_({},Js,{dataTransfer:0}),cv=Et(uv),fv=_({},Uo,{relatedTarget:0}),Jl=Et(fv),dv=_({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),pv=Et(dv),hv=_({},ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mv=Et(hv),gv=_({},ui,{data:0}),yf=Et(gv),yv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_v={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sv(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=_v[t])?!!i[t]:!1}function Yl(){return Sv}var Tv=_({},Uo,{key:function(t){if(t.key){var i=yv[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Vs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yl,charCode:function(t){return t.type==="keypress"?Vs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cv=Et(Tv),xv=_({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vf=Et(xv),Ev=_({},Uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yl}),bv=Et(Ev),Av=_({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rv=Et(Av),Nv=_({},Js,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mv=Et(Nv),Iv=_({},ui,{newState:0,oldState:0}),Dv=Et(Iv),kv=[9,13,27,32],$l=dn&&"CompositionEvent"in window,Po=null;dn&&"documentMode"in document&&(Po=document.documentMode);var wv=dn&&"TextEvent"in window&&!Po,_f=dn&&(!$l||Po&&8<Po&&11>=Po),Sf=" ",Tf=!1;function Cf(t,i){switch(t){case"keyup":return kv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vi=!1;function Uv(t,i){switch(t){case"compositionend":return xf(i);case"keypress":return i.which!==32?null:(Tf=!0,Sf);case"textInput":return t=i.data,t===Sf&&Tf?null:t;default:return null}}function Lv(t,i){if(Vi)return t==="compositionend"||!$l&&Cf(t,i)?(t=hf(),Hs=Vl=wn=null,Vi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _f&&i.locale!=="ko"?null:i.data;default:return null}}var Pv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ef(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Pv[t.type]:i==="textarea"}function bf(t,i,r,a){qi?Hi?Hi.push(a):Hi=[a]:qi=a,i=Ur(i,"onChange"),0<i.length&&(r=new Fs("onChange","change",null,r,a),t.push({event:r,listeners:i}))}var Oo=null,Go=null;function Ov(t){lh(t,0)}function Ys(t){var i=Do(t);if(rf(i))return t}function Af(t,i){if(t==="change")return i}var Rf=!1;if(dn){var Ql;if(dn){var Kl="oninput"in document;if(!Kl){var Nf=document.createElement("div");Nf.setAttribute("oninput","return;"),Kl=typeof Nf.oninput=="function"}Ql=Kl}else Ql=!1;Rf=Ql&&(!document.documentMode||9<document.documentMode)}function Mf(){Oo&&(Oo.detachEvent("onpropertychange",If),Go=Oo=null)}function If(t){if(t.propertyName==="value"&&Ys(Go)){var i=[];bf(i,Go,t,zl(t)),pf(Ov,i)}}function Gv(t,i,r){t==="focusin"?(Mf(),Oo=i,Go=r,Oo.attachEvent("onpropertychange",If)):t==="focusout"&&Mf()}function zv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ys(Go)}function qv(t,i){if(t==="click")return Ys(i)}function Hv(t,i){if(t==="input"||t==="change")return Ys(i)}function Vv(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Ut=typeof Object.is=="function"?Object.is:Vv;function zo(t,i){if(Ut(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),a=Object.keys(i);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var p=r[a];if(!Al.call(i,p)||!Ut(t[p],i[p]))return!1}return!0}function Df(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kf(t,i){var r=Df(t);t=0;for(var a;r;){if(r.nodeType===3){if(a=t+r.textContent.length,t<=i&&a>=i)return{node:r,offset:i-t};t=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Df(r)}}function wf(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?wf(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Uf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=zs(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=zs(t.document)}return i}function Xl(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Bv=dn&&"documentMode"in document&&11>=document.documentMode,Bi=null,Zl=null,qo=null,Wl=!1;function Lf(t,i,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wl||Bi==null||Bi!==zs(a)||(a=Bi,"selectionStart"in a&&Xl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),qo&&zo(qo,a)||(qo=a,a=Ur(Zl,"onSelect"),0<a.length&&(i=new Fs("onSelect","select",null,i,r),t.push({event:i,listeners:a}),i.target=Bi)))}function ci(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var Fi={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionrun:ci("Transition","TransitionRun"),transitionstart:ci("Transition","TransitionStart"),transitioncancel:ci("Transition","TransitionCancel"),transitionend:ci("Transition","TransitionEnd")},jl={},Pf={};dn&&(Pf=document.createElement("div").style,"AnimationEvent"in window||(delete Fi.animationend.animation,delete Fi.animationiteration.animation,delete Fi.animationstart.animation),"TransitionEvent"in window||delete Fi.transitionend.transition);function fi(t){if(jl[t])return jl[t];if(!Fi[t])return t;var i=Fi[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in Pf)return jl[t]=i[r];return t}var Of=fi("animationend"),Gf=fi("animationiteration"),zf=fi("animationstart"),Fv=fi("transitionrun"),Jv=fi("transitionstart"),Yv=fi("transitioncancel"),qf=fi("transitionend"),Hf=new Map,ea="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ea.push("scrollEnd");function jt(t,i){Hf.set(t,i),ai(i,[t])}var $s=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Bt=[],Ji=0,ta=0;function Qs(){for(var t=Ji,i=ta=Ji=0;i<t;){var r=Bt[i];Bt[i++]=null;var a=Bt[i];Bt[i++]=null;var p=Bt[i];Bt[i++]=null;var g=Bt[i];if(Bt[i++]=null,a!==null&&p!==null){var S=a.pending;S===null?p.next=p:(p.next=S.next,S.next=p),a.pending=p}g!==0&&Vf(r,p,g)}}function Ks(t,i,r,a){Bt[Ji++]=t,Bt[Ji++]=i,Bt[Ji++]=r,Bt[Ji++]=a,ta|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function na(t,i,r,a){return Ks(t,i,r,a),Xs(t)}function di(t,i){return Ks(t,null,null,i),Xs(t)}function Vf(t,i,r){t.lanes|=r;var a=t.alternate;a!==null&&(a.lanes|=r);for(var p=!1,g=t.return;g!==null;)g.childLanes|=r,a=g.alternate,a!==null&&(a.childLanes|=r),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(p=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,p&&i!==null&&(p=31-wt(r),t=g.hiddenUpdates,a=t[p],a===null?t[p]=[i]:a.push(i),i.lane=r|536870912),g):null}function Xs(t){if(50<as)throw as=0,fu=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Yi={};function $v(t,i,r,a){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(t,i,r,a){return new $v(t,i,r,a)}function ia(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pn(t,i){var r=t.alternate;return r===null?(r=Lt(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Bf(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Zs(t,i,r,a,p,g){var S=0;if(a=t,typeof t=="function")ia(t)&&(S=1);else if(typeof t=="string")S=W_(t,r,ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ne:return t=Lt(31,r,i,p),t.elementType=ne,t.lanes=g,t;case L:return pi(r.children,p,g,i);case w:S=8,p|=24;break;case H:return t=Lt(12,r,i,p|2),t.elementType=H,t.lanes=g,t;case re:return t=Lt(13,r,i,p),t.elementType=re,t.lanes=g,t;case le:return t=Lt(19,r,i,p),t.elementType=le,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:S=10;break e;case j:S=9;break e;case W:S=11;break e;case $:S=14;break e;case ge:S=16,a=null;break e}S=29,r=Error(s(130,t===null?"null":typeof t,"")),a=null}return i=Lt(S,r,i,p),i.elementType=t,i.type=a,i.lanes=g,i}function pi(t,i,r,a){return t=Lt(7,t,a,i),t.lanes=r,t}function oa(t,i,r){return t=Lt(6,t,null,i),t.lanes=r,t}function Ff(t){var i=Lt(18,null,null,0);return i.stateNode=t,i}function sa(t,i,r){return i=Lt(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Jf=new WeakMap;function Ft(t,i){if(typeof t=="object"&&t!==null){var r=Jf.get(t);return r!==void 0?r:(i={value:t,source:i,stack:Ds(i)},Jf.set(t,i),i)}return{value:t,source:i,stack:Ds(i)}}var $i=[],Qi=0,Ws=null,Ho=0,Jt=[],Yt=0,Un=null,rn=1,ln="";function hn(t,i){$i[Qi++]=Ho,$i[Qi++]=Ws,Ws=t,Ho=i}function Yf(t,i,r){Jt[Yt++]=rn,Jt[Yt++]=ln,Jt[Yt++]=Un,Un=t;var a=rn;t=ln;var p=32-wt(a)-1;a&=~(1<<p),r+=1;var g=32-wt(i)+p;if(30<g){var S=p-p%5;g=(a&(1<<S)-1).toString(32),a>>=S,p-=S,rn=1<<32-wt(i)+p|r<<p|a,ln=g+t}else rn=1<<g|r<<p|a,ln=t}function ra(t){t.return!==null&&(hn(t,1),Yf(t,1,0))}function la(t){for(;t===Ws;)Ws=$i[--Qi],$i[Qi]=null,Ho=$i[--Qi],$i[Qi]=null;for(;t===Un;)Un=Jt[--Yt],Jt[Yt]=null,ln=Jt[--Yt],Jt[Yt]=null,rn=Jt[--Yt],Jt[Yt]=null}function $f(t,i){Jt[Yt++]=rn,Jt[Yt++]=ln,Jt[Yt++]=Un,rn=i.id,ln=i.overflow,Un=t}var ct=null,Ve=null,Me=!1,Ln=null,$t=!1,aa=Error(s(519));function Pn(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vo(Ft(i,t)),aa}function Qf(t){var i=t.stateNode,r=t.type,a=t.memoizedProps;switch(i[ut]=t,i[xt]=a,r){case"dialog":Ae("cancel",i),Ae("close",i);break;case"iframe":case"object":case"embed":Ae("load",i);break;case"video":case"audio":for(r=0;r<cs.length;r++)Ae(cs[r],i);break;case"source":Ae("error",i);break;case"img":case"image":case"link":Ae("error",i),Ae("load",i);break;case"details":Ae("toggle",i);break;case"input":Ae("invalid",i),lf(i,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ae("invalid",i);break;case"textarea":Ae("invalid",i),uf(i,a.value,a.defaultValue,a.children)}r=a.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||a.suppressHydrationWarning===!0||fh(i.textContent,r)?(a.popover!=null&&(Ae("beforetoggle",i),Ae("toggle",i)),a.onScroll!=null&&Ae("scroll",i),a.onScrollEnd!=null&&Ae("scrollend",i),a.onClick!=null&&(i.onclick=fn),i=!0):i=!1,i||Pn(t,!0)}function Kf(t){for(ct=t.return;ct;)switch(ct.tag){case 5:case 31:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:ct=ct.return}}function Ki(t){if(t!==ct)return!1;if(!Me)return Kf(t),Me=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Au(t.type,t.memoizedProps)),r=!r),r&&Ve&&Pn(t),Kf(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Ve=Sh(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Ve=Sh(t)}else i===27?(i=Ve,Xn(t.type)?(t=Du,Du=null,Ve=t):Ve=i):Ve=ct?Kt(t.stateNode.nextSibling):null;return!0}function hi(){Ve=ct=null,Me=!1}function ua(){var t=Ln;return t!==null&&(Nt===null?Nt=t:Nt.push.apply(Nt,t),Ln=null),t}function Vo(t){Ln===null?Ln=[t]:Ln.push(t)}var ca=A(null),mi=null,mn=null;function On(t,i,r){Q(ca,i._currentValue),i._currentValue=r}function gn(t){t._currentValue=ca.current,z(ca)}function fa(t,i,r){for(;t!==null;){var a=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),t===r)break;t=t.return}}function da(t,i,r,a){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var g=p.dependencies;if(g!==null){var S=p.child;g=g.firstContext;e:for(;g!==null;){var x=g;g=p;for(var b=0;b<i.length;b++)if(x.context===i[b]){g.lanes|=r,x=g.alternate,x!==null&&(x.lanes|=r),fa(g.return,r,t),a||(S=null);break e}g=x.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(s(341));S.lanes|=r,g=S.alternate,g!==null&&(g.lanes|=r),fa(S,r,t),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===t){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function Xi(t,i,r,a){t=null;for(var p=i,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var x=p.type;Ut(p.pendingProps.value,S.value)||(t!==null?t.push(x):t=[x])}}else if(p===K.current){if(S=p.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(ms):t=[ms])}p=p.return}t!==null&&da(i,t,r,a),i.flags|=262144}function js(t){for(t=t.firstContext;t!==null;){if(!Ut(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function gi(t){mi=t,mn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ft(t){return Xf(mi,t)}function er(t,i){return mi===null&&gi(t),Xf(t,i)}function Xf(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},mn===null){if(t===null)throw Error(s(308));mn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else mn=mn.next=i;return r}var Qv=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,a){t.push(a)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},Kv=n.unstable_scheduleCallback,Xv=n.unstable_NormalPriority,Ze={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pa(){return{controller:new Qv,data:new Map,refCount:0}}function Bo(t){t.refCount--,t.refCount===0&&Kv(Xv,function(){t.controller.abort()})}var Fo=null,ha=0,Zi=0,Wi=null;function Zv(t,i){if(Fo===null){var r=Fo=[];ha=0,Zi=yu(),Wi={status:"pending",value:void 0,then:function(a){r.push(a)}}}return ha++,i.then(Zf,Zf),i}function Zf(){if(--ha===0&&Fo!==null){Wi!==null&&(Wi.status="fulfilled");var t=Fo;Fo=null,Zi=0,Wi=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Wv(t,i){var r=[],a={status:"pending",value:null,reason:null,then:function(p){r.push(p)}};return t.then(function(){a.status="fulfilled",a.value=i;for(var p=0;p<r.length;p++)(0,r[p])(i)},function(p){for(a.status="rejected",a.reason=p,p=0;p<r.length;p++)(0,r[p])(void 0)}),a}var Wf=P.S;P.S=function(t,i){Lp=Dt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Zv(t,i),Wf!==null&&Wf(t,i)};var yi=A(null);function ma(){var t=yi.current;return t!==null?t:qe.pooledCache}function tr(t,i){i===null?Q(yi,yi.current):Q(yi,i.pool)}function jf(){var t=ma();return t===null?null:{parent:Ze._currentValue,pool:t}}var ji=Error(s(460)),ga=Error(s(474)),nr=Error(s(542)),ir={then:function(){}};function ed(t){return t=t.status,t==="fulfilled"||t==="rejected"}function td(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(fn,fn),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,id(t),t;default:if(typeof i.status=="string")i.then(fn,fn);else{if(t=qe,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(a){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=a}},function(a){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=a}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,id(t),t}throw _i=i,ji}}function vi(t){try{var i=t._init;return i(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(_i=r,ji):r}}var _i=null;function nd(){if(_i===null)throw Error(s(459));var t=_i;return _i=null,t}function id(t){if(t===ji||t===nr)throw Error(s(483))}var eo=null,Jo=0;function or(t){var i=Jo;return Jo+=1,eo===null&&(eo=[]),td(eo,t,i)}function Yo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function sr(t,i){throw i.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function od(t){function i(N,R){if(t){var I=N.deletions;I===null?(N.deletions=[R],N.flags|=16):I.push(R)}}function r(N,R){if(!t)return null;for(;R!==null;)i(N,R),R=R.sibling;return null}function a(N){for(var R=new Map;N!==null;)N.key!==null?R.set(N.key,N):R.set(N.index,N),N=N.sibling;return R}function p(N,R){return N=pn(N,R),N.index=0,N.sibling=null,N}function g(N,R,I){return N.index=I,t?(I=N.alternate,I!==null?(I=I.index,I<R?(N.flags|=67108866,R):I):(N.flags|=67108866,R)):(N.flags|=1048576,R)}function S(N){return t&&N.alternate===null&&(N.flags|=67108866),N}function x(N,R,I,V){return R===null||R.tag!==6?(R=oa(I,N.mode,V),R.return=N,R):(R=p(R,I),R.return=N,R)}function b(N,R,I,V){var pe=I.type;return pe===L?q(N,R,I.props.children,V,I.key):R!==null&&(R.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ge&&vi(pe)===R.type)?(R=p(R,I.props),Yo(R,I),R.return=N,R):(R=Zs(I.type,I.key,I.props,null,N.mode,V),Yo(R,I),R.return=N,R)}function k(N,R,I,V){return R===null||R.tag!==4||R.stateNode.containerInfo!==I.containerInfo||R.stateNode.implementation!==I.implementation?(R=sa(I,N.mode,V),R.return=N,R):(R=p(R,I.children||[]),R.return=N,R)}function q(N,R,I,V,pe){return R===null||R.tag!==7?(R=pi(I,N.mode,V,pe),R.return=N,R):(R=p(R,I),R.return=N,R)}function B(N,R,I){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=oa(""+R,N.mode,I),R.return=N,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case E:return I=Zs(R.type,R.key,R.props,null,N.mode,I),Yo(I,R),I.return=N,I;case M:return R=sa(R,N.mode,I),R.return=N,R;case ge:return R=vi(R),B(N,R,I)}if($e(R)||Ce(R))return R=pi(R,N.mode,I,null),R.return=N,R;if(typeof R.then=="function")return B(N,or(R),I);if(R.$$typeof===J)return B(N,er(N,R),I);sr(N,R)}return null}function U(N,R,I,V){var pe=R!==null?R.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return pe!==null?null:x(N,R,""+I,V);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case E:return I.key===pe?b(N,R,I,V):null;case M:return I.key===pe?k(N,R,I,V):null;case ge:return I=vi(I),U(N,R,I,V)}if($e(I)||Ce(I))return pe!==null?null:q(N,R,I,V,null);if(typeof I.then=="function")return U(N,R,or(I),V);if(I.$$typeof===J)return U(N,R,er(N,I),V);sr(N,I)}return null}function G(N,R,I,V,pe){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return N=N.get(I)||null,x(R,N,""+V,pe);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case E:return N=N.get(V.key===null?I:V.key)||null,b(R,N,V,pe);case M:return N=N.get(V.key===null?I:V.key)||null,k(R,N,V,pe);case ge:return V=vi(V),G(N,R,I,V,pe)}if($e(V)||Ce(V))return N=N.get(I)||null,q(R,N,V,pe,null);if(typeof V.then=="function")return G(N,R,I,or(V),pe);if(V.$$typeof===J)return G(N,R,I,er(R,V),pe);sr(R,V)}return null}function ue(N,R,I,V){for(var pe=null,De=null,fe=R,xe=R=0,Ne=null;fe!==null&&xe<I.length;xe++){fe.index>xe?(Ne=fe,fe=null):Ne=fe.sibling;var ke=U(N,fe,I[xe],V);if(ke===null){fe===null&&(fe=Ne);break}t&&fe&&ke.alternate===null&&i(N,fe),R=g(ke,R,xe),De===null?pe=ke:De.sibling=ke,De=ke,fe=Ne}if(xe===I.length)return r(N,fe),Me&&hn(N,xe),pe;if(fe===null){for(;xe<I.length;xe++)fe=B(N,I[xe],V),fe!==null&&(R=g(fe,R,xe),De===null?pe=fe:De.sibling=fe,De=fe);return Me&&hn(N,xe),pe}for(fe=a(fe);xe<I.length;xe++)Ne=G(fe,N,xe,I[xe],V),Ne!==null&&(t&&Ne.alternate!==null&&fe.delete(Ne.key===null?xe:Ne.key),R=g(Ne,R,xe),De===null?pe=Ne:De.sibling=Ne,De=Ne);return t&&fe.forEach(function(ti){return i(N,ti)}),Me&&hn(N,xe),pe}function he(N,R,I,V){if(I==null)throw Error(s(151));for(var pe=null,De=null,fe=R,xe=R=0,Ne=null,ke=I.next();fe!==null&&!ke.done;xe++,ke=I.next()){fe.index>xe?(Ne=fe,fe=null):Ne=fe.sibling;var ti=U(N,fe,ke.value,V);if(ti===null){fe===null&&(fe=Ne);break}t&&fe&&ti.alternate===null&&i(N,fe),R=g(ti,R,xe),De===null?pe=ti:De.sibling=ti,De=ti,fe=Ne}if(ke.done)return r(N,fe),Me&&hn(N,xe),pe;if(fe===null){for(;!ke.done;xe++,ke=I.next())ke=B(N,ke.value,V),ke!==null&&(R=g(ke,R,xe),De===null?pe=ke:De.sibling=ke,De=ke);return Me&&hn(N,xe),pe}for(fe=a(fe);!ke.done;xe++,ke=I.next())ke=G(fe,N,xe,ke.value,V),ke!==null&&(t&&ke.alternate!==null&&fe.delete(ke.key===null?xe:ke.key),R=g(ke,R,xe),De===null?pe=ke:De.sibling=ke,De=ke);return t&&fe.forEach(function(uS){return i(N,uS)}),Me&&hn(N,xe),pe}function ze(N,R,I,V){if(typeof I=="object"&&I!==null&&I.type===L&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case E:e:{for(var pe=I.key;R!==null;){if(R.key===pe){if(pe=I.type,pe===L){if(R.tag===7){r(N,R.sibling),V=p(R,I.props.children),V.return=N,N=V;break e}}else if(R.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ge&&vi(pe)===R.type){r(N,R.sibling),V=p(R,I.props),Yo(V,I),V.return=N,N=V;break e}r(N,R);break}else i(N,R);R=R.sibling}I.type===L?(V=pi(I.props.children,N.mode,V,I.key),V.return=N,N=V):(V=Zs(I.type,I.key,I.props,null,N.mode,V),Yo(V,I),V.return=N,N=V)}return S(N);case M:e:{for(pe=I.key;R!==null;){if(R.key===pe)if(R.tag===4&&R.stateNode.containerInfo===I.containerInfo&&R.stateNode.implementation===I.implementation){r(N,R.sibling),V=p(R,I.children||[]),V.return=N,N=V;break e}else{r(N,R);break}else i(N,R);R=R.sibling}V=sa(I,N.mode,V),V.return=N,N=V}return S(N);case ge:return I=vi(I),ze(N,R,I,V)}if($e(I))return ue(N,R,I,V);if(Ce(I)){if(pe=Ce(I),typeof pe!="function")throw Error(s(150));return I=pe.call(I),he(N,R,I,V)}if(typeof I.then=="function")return ze(N,R,or(I),V);if(I.$$typeof===J)return ze(N,R,er(N,I),V);sr(N,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,R!==null&&R.tag===6?(r(N,R.sibling),V=p(R,I),V.return=N,N=V):(r(N,R),V=oa(I,N.mode,V),V.return=N,N=V),S(N)):r(N,R)}return function(N,R,I,V){try{Jo=0;var pe=ze(N,R,I,V);return eo=null,pe}catch(fe){if(fe===ji||fe===nr)throw fe;var De=Lt(29,fe,null,N.mode);return De.lanes=V,De.return=N,De}finally{}}}var Si=od(!0),sd=od(!1),Gn=!1;function ya(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function va(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qn(t,i,r){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Ue&2)!==0){var p=a.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),a.pending=i,i=Xs(t),Vf(t,null,r),i}return Ks(t,a,i,r),Xs(t)}function $o(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var a=i.lanes;a&=t.pendingLanes,r|=a,i.lanes=r,Kc(t,r)}}function _a(t,i){var r=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var p=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var S={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?p=g=S:g=g.next=S,r=r.next}while(r!==null);g===null?p=g=i:g=g.next=i}else p=g=i;r={baseState:a.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:a.shared,callbacks:a.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var Sa=!1;function Qo(){if(Sa){var t=Wi;if(t!==null)throw t}}function Ko(t,i,r,a){Sa=!1;var p=t.updateQueue;Gn=!1;var g=p.firstBaseUpdate,S=p.lastBaseUpdate,x=p.shared.pending;if(x!==null){p.shared.pending=null;var b=x,k=b.next;b.next=null,S===null?g=k:S.next=k,S=b;var q=t.alternate;q!==null&&(q=q.updateQueue,x=q.lastBaseUpdate,x!==S&&(x===null?q.firstBaseUpdate=k:x.next=k,q.lastBaseUpdate=b))}if(g!==null){var B=p.baseState;S=0,q=k=b=null,x=g;do{var U=x.lane&-536870913,G=U!==x.lane;if(G?(Re&U)===U:(a&U)===U){U!==0&&U===Zi&&(Sa=!0),q!==null&&(q=q.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ue=t,he=x;U=i;var ze=r;switch(he.tag){case 1:if(ue=he.payload,typeof ue=="function"){B=ue.call(ze,B,U);break e}B=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=he.payload,U=typeof ue=="function"?ue.call(ze,B,U):ue,U==null)break e;B=_({},B,U);break e;case 2:Gn=!0}}U=x.callback,U!==null&&(t.flags|=64,G&&(t.flags|=8192),G=p.callbacks,G===null?p.callbacks=[U]:G.push(U))}else G={lane:U,tag:x.tag,payload:x.payload,callback:x.callback,next:null},q===null?(k=q=G,b=B):q=q.next=G,S|=U;if(x=x.next,x===null){if(x=p.shared.pending,x===null)break;G=x,x=G.next,G.next=null,p.lastBaseUpdate=G,p.shared.pending=null}}while(!0);q===null&&(b=B),p.baseState=b,p.firstBaseUpdate=k,p.lastBaseUpdate=q,g===null&&(p.shared.lanes=0),Jn|=S,t.lanes=S,t.memoizedState=B}}function rd(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ld(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)rd(r[t],i)}var to=A(null),rr=A(0);function ad(t,i){t=bn,Q(rr,t),Q(to,i),bn=t|i.baseLanes}function Ta(){Q(rr,bn),Q(to,to.current)}function Ca(){bn=rr.current,z(to),z(rr)}var Pt=A(null),Qt=null;function Hn(t){var i=t.alternate;Q(Ke,Ke.current&1),Q(Pt,t),Qt===null&&(i===null||to.current!==null||i.memoizedState!==null)&&(Qt=t)}function xa(t){Q(Ke,Ke.current),Q(Pt,t),Qt===null&&(Qt=t)}function ud(t){t.tag===22?(Q(Ke,Ke.current),Q(Pt,t),Qt===null&&(Qt=t)):Vn()}function Vn(){Q(Ke,Ke.current),Q(Pt,Pt.current)}function Ot(t){z(Pt),Qt===t&&(Qt=null),z(Ke)}var Ke=A(0);function lr(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Mu(r)||Iu(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var yn=0,Se=null,Oe=null,We=null,ar=!1,no=!1,Ti=!1,ur=0,Xo=0,io=null,jv=0;function Je(){throw Error(s(321))}function Ea(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!Ut(t[r],i[r]))return!1;return!0}function ba(t,i,r,a,p,g){return yn=g,Se=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,P.H=t===null||t.memoizedState===null?Yd:qa,Ti=!1,g=r(a,p),Ti=!1,no&&(g=fd(i,r,a,p)),cd(t),g}function cd(t){P.H=jo;var i=Oe!==null&&Oe.next!==null;if(yn=0,We=Oe=Se=null,ar=!1,Xo=0,io=null,i)throw Error(s(300));t===null||je||(t=t.dependencies,t!==null&&js(t)&&(je=!0))}function fd(t,i,r,a){Se=t;var p=0;do{if(no&&(io=null),Xo=0,no=!1,25<=p)throw Error(s(301));if(p+=1,We=Oe=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}P.H=$d,g=i(r,a)}while(no);return g}function e_(){var t=P.H,i=t.useState()[0];return i=typeof i.then=="function"?Zo(i):i,t=t.useState()[0],(Oe!==null?Oe.memoizedState:null)!==t&&(Se.flags|=1024),i}function Aa(){var t=ur!==0;return ur=0,t}function Ra(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function Na(t){if(ar){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ar=!1}yn=0,We=Oe=Se=null,no=!1,Xo=ur=0,io=null}function vt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Se.memoizedState=We=t:We=We.next=t,We}function Xe(){if(Oe===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var i=We===null?Se.memoizedState:We.next;if(i!==null)We=i,Oe=t;else{if(t===null)throw Se.alternate===null?Error(s(467)):Error(s(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},We===null?Se.memoizedState=We=t:We=We.next=t}return We}function cr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(t){var i=Xo;return Xo+=1,io===null&&(io=[]),t=td(io,t,i),i=Se,(We===null?i.memoizedState:We.next)===null&&(i=i.alternate,P.H=i===null||i.memoizedState===null?Yd:qa),t}function fr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Zo(t);if(t.$$typeof===J)return ft(t)}throw Error(s(438,String(t)))}function Ma(t){var i=null,r=Se.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var a=Se.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(i={data:a.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=cr(),Se.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),a=0;a<t;a++)r[a]=ie;return i.index++,r}function vn(t,i){return typeof i=="function"?i(t):i}function dr(t){var i=Xe();return Ia(i,Oe,t)}function Ia(t,i,r){var a=t.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=r;var p=t.baseQueue,g=a.pending;if(g!==null){if(p!==null){var S=p.next;p.next=g.next,g.next=S}i.baseQueue=p=g,a.pending=null}if(g=t.baseState,p===null)t.memoizedState=g;else{i=p.next;var x=S=null,b=null,k=i,q=!1;do{var B=k.lane&-536870913;if(B!==k.lane?(Re&B)===B:(yn&B)===B){var U=k.revertLane;if(U===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),B===Zi&&(q=!0);else if((yn&U)===U){k=k.next,U===Zi&&(q=!0);continue}else B={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},b===null?(x=b=B,S=g):b=b.next=B,Se.lanes|=U,Jn|=U;B=k.action,Ti&&r(g,B),g=k.hasEagerState?k.eagerState:r(g,B)}else U={lane:B,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},b===null?(x=b=U,S=g):b=b.next=U,Se.lanes|=B,Jn|=B;k=k.next}while(k!==null&&k!==i);if(b===null?S=g:b.next=x,!Ut(g,t.memoizedState)&&(je=!0,q&&(r=Wi,r!==null)))throw r;t.memoizedState=g,t.baseState=S,t.baseQueue=b,a.lastRenderedState=g}return p===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function Da(t){var i=Xe(),r=i.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var a=r.dispatch,p=r.pending,g=i.memoizedState;if(p!==null){r.pending=null;var S=p=p.next;do g=t(g,S.action),S=S.next;while(S!==p);Ut(g,i.memoizedState)||(je=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),r.lastRenderedState=g}return[g,a]}function dd(t,i,r){var a=Se,p=Xe(),g=Me;if(g){if(r===void 0)throw Error(s(407));r=r()}else r=i();var S=!Ut((Oe||p).memoizedState,r);if(S&&(p.memoizedState=r,je=!0),p=p.queue,Ua(md.bind(null,a,p,t),[t]),p.getSnapshot!==i||S||We!==null&&We.memoizedState.tag&1){if(a.flags|=2048,oo(9,{destroy:void 0},hd.bind(null,a,p,r,i),null),qe===null)throw Error(s(349));g||(yn&127)!==0||pd(a,i,r)}return r}function pd(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=Se.updateQueue,i===null?(i=cr(),Se.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function hd(t,i,r,a){i.value=r,i.getSnapshot=a,gd(i)&&yd(t)}function md(t,i,r){return r(function(){gd(i)&&yd(t)})}function gd(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!Ut(t,r)}catch{return!0}}function yd(t){var i=di(t,2);i!==null&&Mt(i,t,2)}function ka(t){var i=vt();if(typeof t=="function"){var r=t;if(t=r(),Ti){Dn(!0);try{r()}finally{Dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:t},i}function vd(t,i,r,a){return t.baseState=r,Ia(t,Oe,typeof a=="function"?a:vn)}function t_(t,i,r,a,p){if(mr(t))throw Error(s(485));if(t=i.action,t!==null){var g={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};P.T!==null?r(!0):g.isTransition=!1,a(g),r=i.pending,r===null?(g.next=i.pending=g,_d(i,g)):(g.next=r.next,i.pending=r.next=g)}}function _d(t,i){var r=i.action,a=i.payload,p=t.state;if(i.isTransition){var g=P.T,S={};P.T=S;try{var x=r(p,a),b=P.S;b!==null&&b(S,x),Sd(t,i,x)}catch(k){wa(t,i,k)}finally{g!==null&&S.types!==null&&(g.types=S.types),P.T=g}}else try{g=r(p,a),Sd(t,i,g)}catch(k){wa(t,i,k)}}function Sd(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(a){Td(t,i,a)},function(a){return wa(t,i,a)}):Td(t,i,r)}function Td(t,i,r){i.status="fulfilled",i.value=r,Cd(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,_d(t,r)))}function wa(t,i,r){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do i.status="rejected",i.reason=r,Cd(i),i=i.next;while(i!==a)}t.action=null}function Cd(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function xd(t,i){return i}function Ed(t,i){if(Me){var r=qe.formState;if(r!==null){e:{var a=Se;if(Me){if(Ve){t:{for(var p=Ve,g=$t;p.nodeType!==8;){if(!g){p=null;break t}if(p=Kt(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Ve=Kt(p.nextSibling),a=p.data==="F!";break e}}Pn(a)}a=!1}a&&(i=r[0])}}return r=vt(),r.memoizedState=r.baseState=i,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xd,lastRenderedState:i},r.queue=a,r=Bd.bind(null,Se,a),a.dispatch=r,a=ka(!1),g=za.bind(null,Se,!1,a.queue),a=vt(),p={state:i,dispatch:null,action:t,pending:null},a.queue=p,r=t_.bind(null,Se,p,g,r),p.dispatch=r,a.memoizedState=t,[i,r,!1]}function bd(t){var i=Xe();return Ad(i,Oe,t)}function Ad(t,i,r){if(i=Ia(t,i,xd)[0],t=dr(vn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var a=Zo(i)}catch(S){throw S===ji?nr:S}else a=i;i=Xe();var p=i.queue,g=p.dispatch;return r!==i.memoizedState&&(Se.flags|=2048,oo(9,{destroy:void 0},n_.bind(null,p,r),null)),[a,g,t]}function n_(t,i){t.action=i}function Rd(t){var i=Xe(),r=Oe;if(r!==null)return Ad(i,r,t);Xe(),i=i.memoizedState,r=Xe();var a=r.queue.dispatch;return r.memoizedState=t,[i,a,!1]}function oo(t,i,r,a){return t={tag:t,create:r,deps:a,inst:i,next:null},i=Se.updateQueue,i===null&&(i=cr(),Se.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(a=r.next,r.next=t,t.next=a,i.lastEffect=t),t}function Nd(){return Xe().memoizedState}function pr(t,i,r,a){var p=vt();Se.flags|=t,p.memoizedState=oo(1|i,{destroy:void 0},r,a===void 0?null:a)}function hr(t,i,r,a){var p=Xe();a=a===void 0?null:a;var g=p.memoizedState.inst;Oe!==null&&a!==null&&Ea(a,Oe.memoizedState.deps)?p.memoizedState=oo(i,g,r,a):(Se.flags|=t,p.memoizedState=oo(1|i,g,r,a))}function Md(t,i){pr(8390656,8,t,i)}function Ua(t,i){hr(2048,8,t,i)}function i_(t){Se.flags|=4;var i=Se.updateQueue;if(i===null)i=cr(),Se.updateQueue=i,i.events=[t];else{var r=i.events;r===null?i.events=[t]:r.push(t)}}function Id(t){var i=Xe().memoizedState;return i_({ref:i,nextImpl:t}),function(){if((Ue&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Dd(t,i){return hr(4,2,t,i)}function kd(t,i){return hr(4,4,t,i)}function wd(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ud(t,i,r){r=r!=null?r.concat([t]):null,hr(4,4,wd.bind(null,i,t),r)}function La(){}function Ld(t,i){var r=Xe();i=i===void 0?null:i;var a=r.memoizedState;return i!==null&&Ea(i,a[1])?a[0]:(r.memoizedState=[t,i],t)}function Pd(t,i){var r=Xe();i=i===void 0?null:i;var a=r.memoizedState;if(i!==null&&Ea(i,a[1]))return a[0];if(a=t(),Ti){Dn(!0);try{t()}finally{Dn(!1)}}return r.memoizedState=[a,i],a}function Pa(t,i,r){return r===void 0||(yn&1073741824)!==0&&(Re&261930)===0?t.memoizedState=i:(t.memoizedState=r,t=Op(),Se.lanes|=t,Jn|=t,r)}function Od(t,i,r,a){return Ut(r,i)?r:to.current!==null?(t=Pa(t,r,a),Ut(t,i)||(je=!0),t):(yn&42)===0||(yn&1073741824)!==0&&(Re&261930)===0?(je=!0,t.memoizedState=r):(t=Op(),Se.lanes|=t,Jn|=t,i)}function Gd(t,i,r,a,p){var g=D.p;D.p=g!==0&&8>g?g:8;var S=P.T,x={};P.T=x,za(t,!1,i,r);try{var b=p(),k=P.S;if(k!==null&&k(x,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var q=Wv(b,a);Wo(t,i,q,qt(t))}else Wo(t,i,a,qt(t))}catch(B){Wo(t,i,{then:function(){},status:"rejected",reason:B},qt())}finally{D.p=g,S!==null&&x.types!==null&&(S.types=x.types),P.T=S}}function o_(){}function Oa(t,i,r,a){if(t.tag!==5)throw Error(s(476));var p=zd(t).queue;Gd(t,p,i,X,r===null?o_:function(){return qd(t),r(a)})}function zd(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:X},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function qd(t){var i=zd(t);i.next===null&&(i=t.alternate.memoizedState),Wo(t,i.next.queue,{},qt())}function Ga(){return ft(ms)}function Hd(){return Xe().memoizedState}function Vd(){return Xe().memoizedState}function s_(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=qt();t=zn(r);var a=qn(i,t,r);a!==null&&(Mt(a,i,r),$o(a,i,r)),i={cache:pa()},t.payload=i;return}i=i.return}}function r_(t,i,r){var a=qt();r={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},mr(t)?Fd(i,r):(r=na(t,i,r,a),r!==null&&(Mt(r,t,a),Jd(r,i,a)))}function Bd(t,i,r){var a=qt();Wo(t,i,r,a)}function Wo(t,i,r,a){var p={lane:a,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(mr(t))Fd(i,p);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var S=i.lastRenderedState,x=g(S,r);if(p.hasEagerState=!0,p.eagerState=x,Ut(x,S))return Ks(t,i,p,0),qe===null&&Qs(),!1}catch{}finally{}if(r=na(t,i,p,a),r!==null)return Mt(r,t,a),Jd(r,i,a),!0}return!1}function za(t,i,r,a){if(a={lane:2,revertLane:yu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mr(t)){if(i)throw Error(s(479))}else i=na(t,r,a,2),i!==null&&Mt(i,t,2)}function mr(t){var i=t.alternate;return t===Se||i!==null&&i===Se}function Fd(t,i){no=ar=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function Jd(t,i,r){if((r&4194048)!==0){var a=i.lanes;a&=t.pendingLanes,r|=a,i.lanes=r,Kc(t,r)}}var jo={readContext:ft,use:fr,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};jo.useEffectEvent=Je;var Yd={readContext:ft,use:fr,useCallback:function(t,i){return vt().memoizedState=[t,i===void 0?null:i],t},useContext:ft,useEffect:Md,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,pr(4194308,4,wd.bind(null,i,t),r)},useLayoutEffect:function(t,i){return pr(4194308,4,t,i)},useInsertionEffect:function(t,i){pr(4,2,t,i)},useMemo:function(t,i){var r=vt();i=i===void 0?null:i;var a=t();if(Ti){Dn(!0);try{t()}finally{Dn(!1)}}return r.memoizedState=[a,i],a},useReducer:function(t,i,r){var a=vt();if(r!==void 0){var p=r(i);if(Ti){Dn(!0);try{r(i)}finally{Dn(!1)}}}else p=i;return a.memoizedState=a.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},a.queue=t,t=t.dispatch=r_.bind(null,Se,t),[a.memoizedState,t]},useRef:function(t){var i=vt();return t={current:t},i.memoizedState=t},useState:function(t){t=ka(t);var i=t.queue,r=Bd.bind(null,Se,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:La,useDeferredValue:function(t,i){var r=vt();return Pa(r,t,i)},useTransition:function(){var t=ka(!1);return t=Gd.bind(null,Se,t.queue,!0,!1),vt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var a=Se,p=vt();if(Me){if(r===void 0)throw Error(s(407));r=r()}else{if(r=i(),qe===null)throw Error(s(349));(Re&127)!==0||pd(a,i,r)}p.memoizedState=r;var g={value:r,getSnapshot:i};return p.queue=g,Md(md.bind(null,a,g,t),[t]),a.flags|=2048,oo(9,{destroy:void 0},hd.bind(null,a,g,r,i),null),r},useId:function(){var t=vt(),i=qe.identifierPrefix;if(Me){var r=ln,a=rn;r=(a&~(1<<32-wt(a)-1)).toString(32)+r,i="_"+i+"R_"+r,r=ur++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=jv++,i="_"+i+"r_"+r.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Ga,useFormState:Ed,useActionState:Ed,useOptimistic:function(t){var i=vt();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=za.bind(null,Se,!0,r),r.dispatch=i,[t,i]},useMemoCache:Ma,useCacheRefresh:function(){return vt().memoizedState=s_.bind(null,Se)},useEffectEvent:function(t){var i=vt(),r={impl:t};return i.memoizedState=r,function(){if((Ue&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},qa={readContext:ft,use:fr,useCallback:Ld,useContext:ft,useEffect:Ua,useImperativeHandle:Ud,useInsertionEffect:Dd,useLayoutEffect:kd,useMemo:Pd,useReducer:dr,useRef:Nd,useState:function(){return dr(vn)},useDebugValue:La,useDeferredValue:function(t,i){var r=Xe();return Od(r,Oe.memoizedState,t,i)},useTransition:function(){var t=dr(vn)[0],i=Xe().memoizedState;return[typeof t=="boolean"?t:Zo(t),i]},useSyncExternalStore:dd,useId:Hd,useHostTransitionStatus:Ga,useFormState:bd,useActionState:bd,useOptimistic:function(t,i){var r=Xe();return vd(r,Oe,t,i)},useMemoCache:Ma,useCacheRefresh:Vd};qa.useEffectEvent=Id;var $d={readContext:ft,use:fr,useCallback:Ld,useContext:ft,useEffect:Ua,useImperativeHandle:Ud,useInsertionEffect:Dd,useLayoutEffect:kd,useMemo:Pd,useReducer:Da,useRef:Nd,useState:function(){return Da(vn)},useDebugValue:La,useDeferredValue:function(t,i){var r=Xe();return Oe===null?Pa(r,t,i):Od(r,Oe.memoizedState,t,i)},useTransition:function(){var t=Da(vn)[0],i=Xe().memoizedState;return[typeof t=="boolean"?t:Zo(t),i]},useSyncExternalStore:dd,useId:Hd,useHostTransitionStatus:Ga,useFormState:Rd,useActionState:Rd,useOptimistic:function(t,i){var r=Xe();return Oe!==null?vd(r,Oe,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ma,useCacheRefresh:Vd};$d.useEffectEvent=Id;function Ha(t,i,r,a){i=t.memoizedState,r=r(a,i),r=r==null?i:_({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Va={enqueueSetState:function(t,i,r){t=t._reactInternals;var a=qt(),p=zn(a);p.payload=i,r!=null&&(p.callback=r),i=qn(t,p,a),i!==null&&(Mt(i,t,a),$o(i,t,a))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var a=qt(),p=zn(a);p.tag=1,p.payload=i,r!=null&&(p.callback=r),i=qn(t,p,a),i!==null&&(Mt(i,t,a),$o(i,t,a))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=qt(),a=zn(r);a.tag=2,i!=null&&(a.callback=i),i=qn(t,a,r),i!==null&&(Mt(i,t,r),$o(i,t,r))}};function Qd(t,i,r,a,p,g,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,g,S):i.prototype&&i.prototype.isPureReactComponent?!zo(r,a)||!zo(p,g):!0}function Kd(t,i,r,a){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,a),i.state!==t&&Va.enqueueReplaceState(i,i.state,null)}function Ci(t,i){var r=i;if("ref"in i){r={};for(var a in i)a!=="ref"&&(r[a]=i[a])}if(t=t.defaultProps){r===i&&(r=_({},r));for(var p in t)r[p]===void 0&&(r[p]=t[p])}return r}function Xd(t){$s(t)}function Zd(t){console.error(t)}function Wd(t){$s(t)}function gr(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(a){setTimeout(function(){throw a})}}function jd(t,i,r){try{var a=t.onCaughtError;a(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ba(t,i,r){return r=zn(r),r.tag=3,r.payload={element:null},r.callback=function(){gr(t,i)},r}function ep(t){return t=zn(t),t.tag=3,t}function tp(t,i,r,a){var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;t.payload=function(){return p(g)},t.callback=function(){jd(i,r,a)}}var S=r.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){jd(i,r,a),typeof p!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})})}function l_(t,i,r,a,p){if(r.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(i=r.alternate,i!==null&&Xi(i,r,p,!0),r=Pt.current,r!==null){switch(r.tag){case 31:case 13:return Qt===null?Nr():r.alternate===null&&Ye===0&&(Ye=3),r.flags&=-257,r.flags|=65536,r.lanes=p,a===ir?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([a]):i.add(a),hu(t,a,p)),!1;case 22:return r.flags|=65536,a===ir?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([a])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([a]):r.add(a)),hu(t,a,p)),!1}throw Error(s(435,r.tag))}return hu(t,a,p),Nr(),!1}if(Me)return i=Pt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,a!==aa&&(t=Error(s(422),{cause:a}),Vo(Ft(t,r)))):(a!==aa&&(i=Error(s(423),{cause:a}),Vo(Ft(i,r))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,a=Ft(a,r),p=Ba(t.stateNode,a,p),_a(t,p),Ye!==4&&(Ye=2)),!1;var g=Error(s(520),{cause:a});if(g=Ft(g,r),ls===null?ls=[g]:ls.push(g),Ye!==4&&(Ye=2),i===null)return!0;a=Ft(a,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=p&-p,r.lanes|=t,t=Ba(r.stateNode,a,t),_a(r,t),!1;case 1:if(i=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Yn===null||!Yn.has(g))))return r.flags|=65536,p&=-p,r.lanes|=p,p=ep(p),tp(p,t,r,a),_a(r,p),!1}r=r.return}while(r!==null);return!1}var Fa=Error(s(461)),je=!1;function dt(t,i,r,a){i.child=t===null?sd(i,null,r,a):Si(i,t.child,r,a)}function np(t,i,r,a,p){r=r.render;var g=i.ref;if("ref"in a){var S={};for(var x in a)x!=="ref"&&(S[x]=a[x])}else S=a;return gi(i),a=ba(t,i,r,S,g,p),x=Aa(),t!==null&&!je?(Ra(t,i,p),_n(t,i,p)):(Me&&x&&ra(i),i.flags|=1,dt(t,i,a,p),i.child)}function ip(t,i,r,a,p){if(t===null){var g=r.type;return typeof g=="function"&&!ia(g)&&g.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=g,op(t,i,g,a,p)):(t=Zs(r.type,null,a,i,i.mode,p),t.ref=i.ref,t.return=i,i.child=t)}if(g=t.child,!Wa(t,p)){var S=g.memoizedProps;if(r=r.compare,r=r!==null?r:zo,r(S,a)&&t.ref===i.ref)return _n(t,i,p)}return i.flags|=1,t=pn(g,a),t.ref=i.ref,t.return=i,i.child=t}function op(t,i,r,a,p){if(t!==null){var g=t.memoizedProps;if(zo(g,a)&&t.ref===i.ref)if(je=!1,i.pendingProps=a=g,Wa(t,p))(t.flags&131072)!==0&&(je=!0);else return i.lanes=t.lanes,_n(t,i,p)}return Ja(t,i,r,a,p)}function sp(t,i,r,a){var p=a.children,g=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|r:r,t!==null){for(a=i.child=t.child,p=0;a!==null;)p=p|a.lanes|a.childLanes,a=a.sibling;a=p&~g}else a=0,i.child=null;return rp(t,i,g,r,a)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&tr(i,g!==null?g.cachePool:null),g!==null?ad(i,g):Ta(),ud(i);else return a=i.lanes=536870912,rp(t,i,g!==null?g.baseLanes|r:r,r,a)}else g!==null?(tr(i,g.cachePool),ad(i,g),Vn(),i.memoizedState=null):(t!==null&&tr(i,null),Ta(),Vn());return dt(t,i,p,r),i.child}function es(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function rp(t,i,r,a,p){var g=ma();return g=g===null?null:{parent:Ze._currentValue,pool:g},i.memoizedState={baseLanes:r,cachePool:g},t!==null&&tr(i,null),Ta(),ud(i),t!==null&&Xi(t,i,a,!0),i.childLanes=p,null}function yr(t,i){return i=_r({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function lp(t,i,r){return Si(i,t.child,null,r),t=yr(i,i.pendingProps),t.flags|=2,Ot(i),i.memoizedState=null,t}function a_(t,i,r){var a=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Me){if(a.mode==="hidden")return t=yr(i,a),i.lanes=536870912,es(null,t);if(xa(i),(t=Ve)?(t=_h(t,$t),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Un!==null?{id:rn,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},r=Ff(t),r.return=i,i.child=r,ct=i,Ve=null)):t=null,t===null)throw Pn(i);return i.lanes=536870912,null}return yr(i,a)}var g=t.memoizedState;if(g!==null){var S=g.dehydrated;if(xa(i),p)if(i.flags&256)i.flags&=-257,i=lp(t,i,r);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(je||Xi(t,i,r,!1),p=(r&t.childLanes)!==0,je||p){if(a=qe,a!==null&&(S=Xc(a,r),S!==0&&S!==g.retryLane))throw g.retryLane=S,di(t,S),Mt(a,t,S),Fa;Nr(),i=lp(t,i,r)}else t=g.treeContext,Ve=Kt(S.nextSibling),ct=i,Me=!0,Ln=null,$t=!1,t!==null&&$f(i,t),i=yr(i,a),i.flags|=4096;return i}return t=pn(t.child,{mode:a.mode,children:a.children}),t.ref=i.ref,i.child=t,t.return=i,t}function vr(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function Ja(t,i,r,a,p){return gi(i),r=ba(t,i,r,a,void 0,p),a=Aa(),t!==null&&!je?(Ra(t,i,p),_n(t,i,p)):(Me&&a&&ra(i),i.flags|=1,dt(t,i,r,p),i.child)}function ap(t,i,r,a,p,g){return gi(i),i.updateQueue=null,r=fd(i,a,r,p),cd(t),a=Aa(),t!==null&&!je?(Ra(t,i,g),_n(t,i,g)):(Me&&a&&ra(i),i.flags|=1,dt(t,i,r,g),i.child)}function up(t,i,r,a,p){if(gi(i),i.stateNode===null){var g=Yi,S=r.contextType;typeof S=="object"&&S!==null&&(g=ft(S)),g=new r(a,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Va,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=a,g.state=i.memoizedState,g.refs={},ya(i),S=r.contextType,g.context=typeof S=="object"&&S!==null?ft(S):Yi,g.state=i.memoizedState,S=r.getDerivedStateFromProps,typeof S=="function"&&(Ha(i,r,S,a),g.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&Va.enqueueReplaceState(g,g.state,null),Ko(i,a,g,p),Qo(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),a=!0}else if(t===null){g=i.stateNode;var x=i.memoizedProps,b=Ci(r,x);g.props=b;var k=g.context,q=r.contextType;S=Yi,typeof q=="object"&&q!==null&&(S=ft(q));var B=r.getDerivedStateFromProps;q=typeof B=="function"||typeof g.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,q||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x||k!==S)&&Kd(i,g,a,S),Gn=!1;var U=i.memoizedState;g.state=U,Ko(i,a,g,p),Qo(),k=i.memoizedState,x||U!==k||Gn?(typeof B=="function"&&(Ha(i,r,B,a),k=i.memoizedState),(b=Gn||Qd(i,r,b,a,U,k,S))?(q||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=k),g.props=a,g.state=k,g.context=S,a=b):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{g=i.stateNode,va(t,i),S=i.memoizedProps,q=Ci(r,S),g.props=q,B=i.pendingProps,U=g.context,k=r.contextType,b=Yi,typeof k=="object"&&k!==null&&(b=ft(k)),x=r.getDerivedStateFromProps,(k=typeof x=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==B||U!==b)&&Kd(i,g,a,b),Gn=!1,U=i.memoizedState,g.state=U,Ko(i,a,g,p),Qo();var G=i.memoizedState;S!==B||U!==G||Gn||t!==null&&t.dependencies!==null&&js(t.dependencies)?(typeof x=="function"&&(Ha(i,r,x,a),G=i.memoizedState),(q=Gn||Qd(i,r,q,a,U,G,b)||t!==null&&t.dependencies!==null&&js(t.dependencies))?(k||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,G,b),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,G,b)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=G),g.props=a,g.state=G,g.context=b,a=q):(typeof g.componentDidUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&U===t.memoizedState||(i.flags|=1024),a=!1)}return g=a,vr(t,i),a=(i.flags&128)!==0,g||a?(g=i.stateNode,r=a&&typeof r.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,t!==null&&a?(i.child=Si(i,t.child,null,p),i.child=Si(i,null,r,p)):dt(t,i,r,p),i.memoizedState=g.state,t=i.child):t=_n(t,i,p),t}function cp(t,i,r,a){return hi(),i.flags|=256,dt(t,i,r,a),i.child}var Ya={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $a(t){return{baseLanes:t,cachePool:jf()}}function Qa(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=zt),t}function fp(t,i,r){var a=i.pendingProps,p=!1,g=(i.flags&128)!==0,S;if((S=g)||(S=t!==null&&t.memoizedState===null?!1:(Ke.current&2)!==0),S&&(p=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,t===null){if(Me){if(p?Hn(i):Vn(),(t=Ve)?(t=_h(t,$t),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Un!==null?{id:rn,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},r=Ff(t),r.return=i,i.child=r,ct=i,Ve=null)):t=null,t===null)throw Pn(i);return Iu(t)?i.lanes=32:i.lanes=536870912,null}var x=a.children;return a=a.fallback,p?(Vn(),p=i.mode,x=_r({mode:"hidden",children:x},p),a=pi(a,p,r,null),x.return=i,a.return=i,x.sibling=a,i.child=x,a=i.child,a.memoizedState=$a(r),a.childLanes=Qa(t,S,r),i.memoizedState=Ya,es(null,a)):(Hn(i),Ka(i,x))}var b=t.memoizedState;if(b!==null&&(x=b.dehydrated,x!==null)){if(g)i.flags&256?(Hn(i),i.flags&=-257,i=Xa(t,i,r)):i.memoizedState!==null?(Vn(),i.child=t.child,i.flags|=128,i=null):(Vn(),x=a.fallback,p=i.mode,a=_r({mode:"visible",children:a.children},p),x=pi(x,p,r,null),x.flags|=2,a.return=i,x.return=i,a.sibling=x,i.child=a,Si(i,t.child,null,r),a=i.child,a.memoizedState=$a(r),a.childLanes=Qa(t,S,r),i.memoizedState=Ya,i=es(null,a));else if(Hn(i),Iu(x)){if(S=x.nextSibling&&x.nextSibling.dataset,S)var k=S.dgst;S=k,a=Error(s(419)),a.stack="",a.digest=S,Vo({value:a,source:null,stack:null}),i=Xa(t,i,r)}else if(je||Xi(t,i,r,!1),S=(r&t.childLanes)!==0,je||S){if(S=qe,S!==null&&(a=Xc(S,r),a!==0&&a!==b.retryLane))throw b.retryLane=a,di(t,a),Mt(S,t,a),Fa;Mu(x)||Nr(),i=Xa(t,i,r)}else Mu(x)?(i.flags|=192,i.child=t.child,i=null):(t=b.treeContext,Ve=Kt(x.nextSibling),ct=i,Me=!0,Ln=null,$t=!1,t!==null&&$f(i,t),i=Ka(i,a.children),i.flags|=4096);return i}return p?(Vn(),x=a.fallback,p=i.mode,b=t.child,k=b.sibling,a=pn(b,{mode:"hidden",children:a.children}),a.subtreeFlags=b.subtreeFlags&65011712,k!==null?x=pn(k,x):(x=pi(x,p,r,null),x.flags|=2),x.return=i,a.return=i,a.sibling=x,i.child=a,es(null,a),a=i.child,x=t.child.memoizedState,x===null?x=$a(r):(p=x.cachePool,p!==null?(b=Ze._currentValue,p=p.parent!==b?{parent:b,pool:b}:p):p=jf(),x={baseLanes:x.baseLanes|r,cachePool:p}),a.memoizedState=x,a.childLanes=Qa(t,S,r),i.memoizedState=Ya,es(t.child,a)):(Hn(i),r=t.child,t=r.sibling,r=pn(r,{mode:"visible",children:a.children}),r.return=i,r.sibling=null,t!==null&&(S=i.deletions,S===null?(i.deletions=[t],i.flags|=16):S.push(t)),i.child=r,i.memoizedState=null,r)}function Ka(t,i){return i=_r({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function _r(t,i){return t=Lt(22,t,null,i),t.lanes=0,t}function Xa(t,i,r){return Si(i,t.child,null,r),t=Ka(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function dp(t,i,r){t.lanes|=i;var a=t.alternate;a!==null&&(a.lanes|=i),fa(t.return,i,r)}function Za(t,i,r,a,p,g){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:p,treeForkCount:g}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=a,S.tail=r,S.tailMode=p,S.treeForkCount=g)}function pp(t,i,r){var a=i.pendingProps,p=a.revealOrder,g=a.tail;a=a.children;var S=Ke.current,x=(S&2)!==0;if(x?(S=S&1|2,i.flags|=128):S&=1,Q(Ke,S),dt(t,i,a,r),a=Me?Ho:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dp(t,r,i);else if(t.tag===19)dp(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(r=i.child,p=null;r!==null;)t=r.alternate,t!==null&&lr(t)===null&&(p=r),r=r.sibling;r=p,r===null?(p=i.child,i.child=null):(p=r.sibling,r.sibling=null),Za(i,!1,p,r,g,a);break;case"backwards":case"unstable_legacy-backwards":for(r=null,p=i.child,i.child=null;p!==null;){if(t=p.alternate,t!==null&&lr(t)===null){i.child=p;break}t=p.sibling,p.sibling=r,r=p,p=t}Za(i,!0,r,null,g,a);break;case"together":Za(i,!1,null,null,void 0,a);break;default:i.memoizedState=null}return i.child}function _n(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),Jn|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(Xi(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,r=pn(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=pn(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function Wa(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&js(t)))}function u_(t,i,r){switch(i.tag){case 3:Y(i,i.stateNode.containerInfo),On(i,Ze,t.memoizedState.cache),hi();break;case 27:case 5:ae(i);break;case 4:Y(i,i.stateNode.containerInfo);break;case 10:On(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,xa(i),null;break;case 13:var a=i.memoizedState;if(a!==null)return a.dehydrated!==null?(Hn(i),i.flags|=128,null):(r&i.child.childLanes)!==0?fp(t,i,r):(Hn(i),t=_n(t,i,r),t!==null?t.sibling:null);Hn(i);break;case 19:var p=(t.flags&128)!==0;if(a=(r&i.childLanes)!==0,a||(Xi(t,i,r,!1),a=(r&i.childLanes)!==0),p){if(a)return pp(t,i,r);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Q(Ke,Ke.current),a)break;return null;case 22:return i.lanes=0,sp(t,i,r,i.pendingProps);case 24:On(i,Ze,t.memoizedState.cache)}return _n(t,i,r)}function hp(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)je=!0;else{if(!Wa(t,r)&&(i.flags&128)===0)return je=!1,u_(t,i,r);je=(t.flags&131072)!==0}else je=!1,Me&&(i.flags&1048576)!==0&&Yf(i,Ho,i.index);switch(i.lanes=0,i.tag){case 16:e:{var a=i.pendingProps;if(t=vi(i.elementType),i.type=t,typeof t=="function")ia(t)?(a=Ci(t,a),i.tag=1,i=up(null,i,t,a,r)):(i.tag=0,i=Ja(null,i,t,a,r));else{if(t!=null){var p=t.$$typeof;if(p===W){i.tag=11,i=np(null,i,t,a,r);break e}else if(p===$){i.tag=14,i=ip(null,i,t,a,r);break e}}throw i=Ie(t)||t,Error(s(306,i,""))}}return i;case 0:return Ja(t,i,i.type,i.pendingProps,r);case 1:return a=i.type,p=Ci(a,i.pendingProps),up(t,i,a,p,r);case 3:e:{if(Y(i,i.stateNode.containerInfo),t===null)throw Error(s(387));a=i.pendingProps;var g=i.memoizedState;p=g.element,va(t,i),Ko(i,a,null,r);var S=i.memoizedState;if(a=S.cache,On(i,Ze,a),a!==g.cache&&da(i,[Ze],r,!0),Qo(),a=S.element,g.isDehydrated)if(g={element:a,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=cp(t,i,a,r);break e}else if(a!==p){p=Ft(Error(s(424)),i),Vo(p),i=cp(t,i,a,r);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ve=Kt(t.firstChild),ct=i,Me=!0,Ln=null,$t=!0,r=sd(i,null,a,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(hi(),a===p){i=_n(t,i,r);break e}dt(t,i,a,r)}i=i.child}return i;case 26:return vr(t,i),t===null?(r=bh(i.type,null,i.pendingProps,null))?i.memoizedState=r:Me||(r=i.type,t=i.pendingProps,a=Lr(Z.current).createElement(r),a[ut]=i,a[xt]=t,pt(a,r,t),it(a),i.stateNode=a):i.memoizedState=bh(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ae(i),t===null&&Me&&(a=i.stateNode=Ch(i.type,i.pendingProps,Z.current),ct=i,$t=!0,p=Ve,Xn(i.type)?(Du=p,Ve=Kt(a.firstChild)):Ve=p),dt(t,i,i.pendingProps.children,r),vr(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Me&&((p=a=Ve)&&(a=z_(a,i.type,i.pendingProps,$t),a!==null?(i.stateNode=a,ct=i,Ve=Kt(a.firstChild),$t=!1,p=!0):p=!1),p||Pn(i)),ae(i),p=i.type,g=i.pendingProps,S=t!==null?t.memoizedProps:null,a=g.children,Au(p,g)?a=null:S!==null&&Au(p,S)&&(i.flags|=32),i.memoizedState!==null&&(p=ba(t,i,e_,null,null,r),ms._currentValue=p),vr(t,i),dt(t,i,a,r),i.child;case 6:return t===null&&Me&&((t=r=Ve)&&(r=q_(r,i.pendingProps,$t),r!==null?(i.stateNode=r,ct=i,Ve=null,t=!0):t=!1),t||Pn(i)),null;case 13:return fp(t,i,r);case 4:return Y(i,i.stateNode.containerInfo),a=i.pendingProps,t===null?i.child=Si(i,null,a,r):dt(t,i,a,r),i.child;case 11:return np(t,i,i.type,i.pendingProps,r);case 7:return dt(t,i,i.pendingProps,r),i.child;case 8:return dt(t,i,i.pendingProps.children,r),i.child;case 12:return dt(t,i,i.pendingProps.children,r),i.child;case 10:return a=i.pendingProps,On(i,i.type,a.value),dt(t,i,a.children,r),i.child;case 9:return p=i.type._context,a=i.pendingProps.children,gi(i),p=ft(p),a=a(p),i.flags|=1,dt(t,i,a,r),i.child;case 14:return ip(t,i,i.type,i.pendingProps,r);case 15:return op(t,i,i.type,i.pendingProps,r);case 19:return pp(t,i,r);case 31:return a_(t,i,r);case 22:return sp(t,i,r,i.pendingProps);case 24:return gi(i),a=ft(Ze),t===null?(p=ma(),p===null&&(p=qe,g=pa(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=r),p=g),i.memoizedState={parent:a,cache:p},ya(i),On(i,Ze,p)):((t.lanes&r)!==0&&(va(t,i),Ko(i,null,null,r),Qo()),p=t.memoizedState,g=i.memoizedState,p.parent!==a?(p={parent:a,cache:a},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),On(i,Ze,a)):(a=g.cache,On(i,Ze,a),a!==p.cache&&da(i,[Ze],r,!0))),dt(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Sn(t){t.flags|=4}function ja(t,i,r,a,p){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if(Hp())t.flags|=8192;else throw _i=ir,ga}else t.flags&=-16777217}function mp(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ih(i))if(Hp())t.flags|=8192;else throw _i=ir,ga}function Sr(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?$c():536870912,t.lanes|=i,ao|=i)}function ts(t,i){if(!Me)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function Be(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,a=0;if(i)for(var p=t.child;p!==null;)r|=p.lanes|p.childLanes,a|=p.subtreeFlags&65011712,a|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)r|=p.lanes|p.childLanes,a|=p.subtreeFlags,a|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=a,t.childLanes=r,i}function c_(t,i,r){var a=i.pendingProps;switch(la(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(i),null;case 1:return Be(i),null;case 3:return r=i.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),gn(Ze),F(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ki(i)?Sn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ua())),Be(i),null;case 26:var p=i.type,g=i.memoizedState;return t===null?(Sn(i),g!==null?(Be(i),mp(i,g)):(Be(i),ja(i,p,null,a,r))):g?g!==t.memoizedState?(Sn(i),Be(i),mp(i,g)):(Be(i),i.flags&=-16777217):(t=t.memoizedProps,t!==a&&Sn(i),Be(i),ja(i,p,t,a,r)),null;case 27:if(Ee(i),r=Z.current,p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==a&&Sn(i);else{if(!a){if(i.stateNode===null)throw Error(s(166));return Be(i),null}t=ee.current,Ki(i)?Qf(i):(t=Ch(p,a,r),i.stateNode=t,Sn(i))}return Be(i),null;case 5:if(Ee(i),p=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==a&&Sn(i);else{if(!a){if(i.stateNode===null)throw Error(s(166));return Be(i),null}if(g=ee.current,Ki(i))Qf(i);else{var S=Lr(Z.current);switch(g){case 1:g=S.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=S.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=S.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof a.is=="string"?S.createElement("select",{is:a.is}):S.createElement("select"),a.multiple?g.multiple=!0:a.size&&(g.size=a.size);break;default:g=typeof a.is=="string"?S.createElement(p,{is:a.is}):S.createElement(p)}}g[ut]=i,g[xt]=a;e:for(S=i.child;S!==null;){if(S.tag===5||S.tag===6)g.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===i)break e;for(;S.sibling===null;){if(S.return===null||S.return===i)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}i.stateNode=g;e:switch(pt(g,p,a),p){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Sn(i)}}return Be(i),ja(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,r),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==a&&Sn(i);else{if(typeof a!="string"&&i.stateNode===null)throw Error(s(166));if(t=Z.current,Ki(i)){if(t=i.stateNode,r=i.memoizedProps,a=null,p=ct,p!==null)switch(p.tag){case 27:case 5:a=p.memoizedProps}t[ut]=i,t=!!(t.nodeValue===r||a!==null&&a.suppressHydrationWarning===!0||fh(t.nodeValue,r)),t||Pn(i,!0)}else t=Lr(t).createTextNode(a),t[ut]=i,i.stateNode=t}return Be(i),null;case 31:if(r=i.memoizedState,t===null||t.memoizedState!==null){if(a=Ki(i),r!==null){if(t===null){if(!a)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ut]=i}else hi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Be(i),t=!1}else r=ua(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return i.flags&256?(Ot(i),i):(Ot(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Be(i),null;case 13:if(a=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=Ki(i),a!==null&&a.dehydrated!==null){if(t===null){if(!p)throw Error(s(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[ut]=i}else hi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Be(i),p=!1}else p=ua(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Ot(i),i):(Ot(i),null)}return Ot(i),(i.flags&128)!==0?(i.lanes=r,i):(r=a!==null,t=t!==null&&t.memoizedState!==null,r&&(a=i.child,p=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(p=a.alternate.memoizedState.cachePool.pool),g=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),g!==p&&(a.flags|=2048)),r!==t&&r&&(i.child.flags|=8192),Sr(i,i.updateQueue),Be(i),null);case 4:return F(),t===null&&Tu(i.stateNode.containerInfo),Be(i),null;case 10:return gn(i.type),Be(i),null;case 19:if(z(Ke),a=i.memoizedState,a===null)return Be(i),null;if(p=(i.flags&128)!==0,g=a.rendering,g===null)if(p)ts(a,!1);else{if(Ye!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(g=lr(t),g!==null){for(i.flags|=128,ts(a,!1),t=g.updateQueue,i.updateQueue=t,Sr(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)Bf(r,t),r=r.sibling;return Q(Ke,Ke.current&1|2),Me&&hn(i,a.treeForkCount),i.child}t=t.sibling}a.tail!==null&&Dt()>br&&(i.flags|=128,p=!0,ts(a,!1),i.lanes=4194304)}else{if(!p)if(t=lr(g),t!==null){if(i.flags|=128,p=!0,t=t.updateQueue,i.updateQueue=t,Sr(i,t),ts(a,!0),a.tail===null&&a.tailMode==="hidden"&&!g.alternate&&!Me)return Be(i),null}else 2*Dt()-a.renderingStartTime>br&&r!==536870912&&(i.flags|=128,p=!0,ts(a,!1),i.lanes=4194304);a.isBackwards?(g.sibling=i.child,i.child=g):(t=a.last,t!==null?t.sibling=g:i.child=g,a.last=g)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Dt(),t.sibling=null,r=Ke.current,Q(Ke,p?r&1|2:r&1),Me&&hn(i,a.treeForkCount),t):(Be(i),null);case 22:case 23:return Ot(i),Ca(),a=i.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(i.flags|=8192):a&&(i.flags|=8192),a?(r&536870912)!==0&&(i.flags&128)===0&&(Be(i),i.subtreeFlags&6&&(i.flags|=8192)):Be(i),r=i.updateQueue,r!==null&&Sr(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048),t!==null&&z(yi),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),gn(Ze),Be(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function f_(t,i){switch(la(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return gn(Ze),F(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ee(i),null;case 31:if(i.memoizedState!==null){if(Ot(i),i.alternate===null)throw Error(s(340));hi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Ot(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));hi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return z(Ke),null;case 4:return F(),null;case 10:return gn(i.type),null;case 22:case 23:return Ot(i),Ca(),t!==null&&z(yi),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return gn(Ze),null;case 25:return null;default:return null}}function gp(t,i){switch(la(i),i.tag){case 3:gn(Ze),F();break;case 26:case 27:case 5:Ee(i);break;case 4:F();break;case 31:i.memoizedState!==null&&Ot(i);break;case 13:Ot(i);break;case 19:z(Ke);break;case 10:gn(i.type);break;case 22:case 23:Ot(i),Ca(),t!==null&&z(yi);break;case 24:gn(Ze)}}function ns(t,i){try{var r=i.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var p=a.next;r=p;do{if((r.tag&t)===t){a=void 0;var g=r.create,S=r.inst;a=g(),S.destroy=a}r=r.next}while(r!==p)}}catch(x){Pe(i,i.return,x)}}function Bn(t,i,r){try{var a=i.updateQueue,p=a!==null?a.lastEffect:null;if(p!==null){var g=p.next;a=g;do{if((a.tag&t)===t){var S=a.inst,x=S.destroy;if(x!==void 0){S.destroy=void 0,p=i;var b=r,k=x;try{k()}catch(q){Pe(p,b,q)}}}a=a.next}while(a!==g)}}catch(q){Pe(i,i.return,q)}}function yp(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{ld(i,r)}catch(a){Pe(t,t.return,a)}}}function vp(t,i,r){r.props=Ci(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(a){Pe(t,i,a)}}function is(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof r=="function"?t.refCleanup=r(a):r.current=a}}catch(p){Pe(t,i,p)}}function an(t,i){var r=t.ref,a=t.refCleanup;if(r!==null)if(typeof a=="function")try{a()}catch(p){Pe(t,i,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(p){Pe(t,i,p)}else r.current=null}function _p(t){var i=t.type,r=t.memoizedProps,a=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&a.focus();break e;case"img":r.src?a.src=r.src:r.srcSet&&(a.srcset=r.srcSet)}}catch(p){Pe(t,t.return,p)}}function eu(t,i,r){try{var a=t.stateNode;w_(a,t.type,r,i),a[xt]=i}catch(p){Pe(t,t.return,p)}}function Sp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xn(t.type)||t.tag===4}function tu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nu(t,i,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=fn));else if(a!==4&&(a===27&&Xn(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(nu(t,i,r),t=t.sibling;t!==null;)nu(t,i,r),t=t.sibling}function Tr(t,i,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(a!==4&&(a===27&&Xn(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Tr(t,i,r),t=t.sibling;t!==null;)Tr(t,i,r),t=t.sibling}function Tp(t){var i=t.stateNode,r=t.memoizedProps;try{for(var a=t.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);pt(i,a,r),i[ut]=t,i[xt]=r}catch(g){Pe(t,t.return,g)}}var Tn=!1,et=!1,iu=!1,Cp=typeof WeakSet=="function"?WeakSet:Set,ot=null;function d_(t,i){if(t=t.containerInfo,Eu=Vr,t=Uf(t),Xl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var p=a.anchorOffset,g=a.focusNode;a=a.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var S=0,x=-1,b=-1,k=0,q=0,B=t,U=null;t:for(;;){for(var G;B!==r||p!==0&&B.nodeType!==3||(x=S+p),B!==g||a!==0&&B.nodeType!==3||(b=S+a),B.nodeType===3&&(S+=B.nodeValue.length),(G=B.firstChild)!==null;)U=B,B=G;for(;;){if(B===t)break t;if(U===r&&++k===p&&(x=S),U===g&&++q===a&&(b=S),(G=B.nextSibling)!==null)break;B=U,U=B.parentNode}B=G}r=x===-1||b===-1?null:{start:x,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(bu={focusedElem:t,selectionRange:r},Vr=!1,ot=i;ot!==null;)if(i=ot,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,ot=t;else for(;ot!==null;){switch(i=ot,g=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)p=t[r],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,r=i,p=g.memoizedProps,g=g.memoizedState,a=r.stateNode;try{var ue=Ci(r.type,p);t=a.getSnapshotBeforeUpdate(ue,g),a.__reactInternalSnapshotBeforeUpdate=t}catch(he){Pe(r,r.return,he)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)Nu(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,ot=t;break}ot=i.return}}function xp(t,i,r){var a=r.flags;switch(r.tag){case 0:case 11:case 15:xn(t,r),a&4&&ns(5,r);break;case 1:if(xn(t,r),a&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(S){Pe(r,r.return,S)}else{var p=Ci(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(p,i,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Pe(r,r.return,S)}}a&64&&yp(r),a&512&&is(r,r.return);break;case 3:if(xn(t,r),a&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{ld(t,i)}catch(S){Pe(r,r.return,S)}}break;case 27:i===null&&a&4&&Tp(r);case 26:case 5:xn(t,r),i===null&&a&4&&_p(r),a&512&&is(r,r.return);break;case 12:xn(t,r);break;case 31:xn(t,r),a&4&&Ap(t,r);break;case 13:xn(t,r),a&4&&Rp(t,r),a&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=T_.bind(null,r),H_(t,r))));break;case 22:if(a=r.memoizedState!==null||Tn,!a){i=i!==null&&i.memoizedState!==null||et,p=Tn;var g=et;Tn=a,(et=i)&&!g?En(t,r,(r.subtreeFlags&8772)!==0):xn(t,r),Tn=p,et=g}break;case 30:break;default:xn(t,r)}}function Ep(t){var i=t.alternate;i!==null&&(t.alternate=null,Ep(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&wl(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Fe=null,bt=!1;function Cn(t,i,r){for(r=r.child;r!==null;)bp(t,i,r),r=r.sibling}function bp(t,i,r){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Ro,r)}catch{}switch(r.tag){case 26:et||an(r,i),Cn(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:et||an(r,i);var a=Fe,p=bt;Xn(r.type)&&(Fe=r.stateNode,bt=!1),Cn(t,i,r),ds(r.stateNode),Fe=a,bt=p;break;case 5:et||an(r,i);case 6:if(a=Fe,p=bt,Fe=null,Cn(t,i,r),Fe=a,bt=p,Fe!==null)if(bt)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(r.stateNode)}catch(g){Pe(r,i,g)}else try{Fe.removeChild(r.stateNode)}catch(g){Pe(r,i,g)}break;case 18:Fe!==null&&(bt?(t=Fe,yh(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),yo(t)):yh(Fe,r.stateNode));break;case 4:a=Fe,p=bt,Fe=r.stateNode.containerInfo,bt=!0,Cn(t,i,r),Fe=a,bt=p;break;case 0:case 11:case 14:case 15:Bn(2,r,i),et||Bn(4,r,i),Cn(t,i,r);break;case 1:et||(an(r,i),a=r.stateNode,typeof a.componentWillUnmount=="function"&&vp(r,i,a)),Cn(t,i,r);break;case 21:Cn(t,i,r);break;case 22:et=(a=et)||r.memoizedState!==null,Cn(t,i,r),et=a;break;default:Cn(t,i,r)}}function Ap(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{yo(t)}catch(r){Pe(i,i.return,r)}}}function Rp(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yo(t)}catch(r){Pe(i,i.return,r)}}function p_(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Cp),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Cp),i;default:throw Error(s(435,t.tag))}}function Cr(t,i){var r=p_(t);i.forEach(function(a){if(!r.has(a)){r.add(a);var p=C_.bind(null,t,a);a.then(p,p)}})}function At(t,i){var r=i.deletions;if(r!==null)for(var a=0;a<r.length;a++){var p=r[a],g=t,S=i,x=S;e:for(;x!==null;){switch(x.tag){case 27:if(Xn(x.type)){Fe=x.stateNode,bt=!1;break e}break;case 5:Fe=x.stateNode,bt=!1;break e;case 3:case 4:Fe=x.stateNode.containerInfo,bt=!0;break e}x=x.return}if(Fe===null)throw Error(s(160));bp(g,S,p),Fe=null,bt=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Np(i,t),i=i.sibling}var en=null;function Np(t,i){var r=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:At(i,t),Rt(t),a&4&&(Bn(3,t,t.return),ns(3,t),Bn(5,t,t.return));break;case 1:At(i,t),Rt(t),a&512&&(et||r===null||an(r,r.return)),a&64&&Tn&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?a:r.concat(a))));break;case 26:var p=en;if(At(i,t),Rt(t),a&512&&(et||r===null||an(r,r.return)),a&4){var g=r!==null?r.memoizedState:null;if(a=t.memoizedState,r===null)if(a===null)if(t.stateNode===null){e:{a=t.type,r=t.memoizedProps,p=p.ownerDocument||p;t:switch(a){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Io]||g[ut]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(a),p.head.insertBefore(g,p.querySelector("head > title"))),pt(g,a,r),g[ut]=t,it(g),a=g;break e;case"link":var S=Nh("link","href",p).get(a+(r.href||""));if(S){for(var x=0;x<S.length;x++)if(g=S[x],g.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){S.splice(x,1);break t}}g=p.createElement(a),pt(g,a,r),p.head.appendChild(g);break;case"meta":if(S=Nh("meta","content",p).get(a+(r.content||""))){for(x=0;x<S.length;x++)if(g=S[x],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){S.splice(x,1);break t}}g=p.createElement(a),pt(g,a,r),p.head.appendChild(g);break;default:throw Error(s(468,a))}g[ut]=t,it(g),a=g}t.stateNode=a}else Mh(p,t.type,t.stateNode);else t.stateNode=Rh(p,a,t.memoizedProps);else g!==a?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,a===null?Mh(p,t.type,t.stateNode):Rh(p,a,t.memoizedProps)):a===null&&t.stateNode!==null&&eu(t,t.memoizedProps,r.memoizedProps)}break;case 27:At(i,t),Rt(t),a&512&&(et||r===null||an(r,r.return)),r!==null&&a&4&&eu(t,t.memoizedProps,r.memoizedProps);break;case 5:if(At(i,t),Rt(t),a&512&&(et||r===null||an(r,r.return)),t.flags&32){p=t.stateNode;try{zi(p,"")}catch(ue){Pe(t,t.return,ue)}}a&4&&t.stateNode!=null&&(p=t.memoizedProps,eu(t,p,r!==null?r.memoizedProps:p)),a&1024&&(iu=!0);break;case 6:if(At(i,t),Rt(t),a&4){if(t.stateNode===null)throw Error(s(162));a=t.memoizedProps,r=t.stateNode;try{r.nodeValue=a}catch(ue){Pe(t,t.return,ue)}}break;case 3:if(Gr=null,p=en,en=Pr(i.containerInfo),At(i,t),en=p,Rt(t),a&4&&r!==null&&r.memoizedState.isDehydrated)try{yo(i.containerInfo)}catch(ue){Pe(t,t.return,ue)}iu&&(iu=!1,Mp(t));break;case 4:a=en,en=Pr(t.stateNode.containerInfo),At(i,t),Rt(t),en=a;break;case 12:At(i,t),Rt(t);break;case 31:At(i,t),Rt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Cr(t,a)));break;case 13:At(i,t),Rt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Er=Dt()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Cr(t,a)));break;case 22:p=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,k=Tn,q=et;if(Tn=k||p,et=q||b,At(i,t),et=q,Tn=k,Rt(t),a&8192)e:for(i=t.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(r===null||b||Tn||et||xi(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){b=r=i;try{if(g=b.stateNode,p)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{x=b.stateNode;var B=b.memoizedProps.style,U=B!=null&&B.hasOwnProperty("display")?B.display:null;x.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(ue){Pe(b,b.return,ue)}}}else if(i.tag===6){if(r===null){b=i;try{b.stateNode.nodeValue=p?"":b.memoizedProps}catch(ue){Pe(b,b.return,ue)}}}else if(i.tag===18){if(r===null){b=i;try{var G=b.stateNode;p?vh(G,!0):vh(b.stateNode,!1)}catch(ue){Pe(b,b.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}a&4&&(a=t.updateQueue,a!==null&&(r=a.retryQueue,r!==null&&(a.retryQueue=null,Cr(t,r))));break;case 19:At(i,t),Rt(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Cr(t,a)));break;case 30:break;case 21:break;default:At(i,t),Rt(t)}}function Rt(t){var i=t.flags;if(i&2){try{for(var r,a=t.return;a!==null;){if(Sp(a)){r=a;break}a=a.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var p=r.stateNode,g=tu(t);Tr(t,g,p);break;case 5:var S=r.stateNode;r.flags&32&&(zi(S,""),r.flags&=-33);var x=tu(t);Tr(t,x,S);break;case 3:case 4:var b=r.stateNode.containerInfo,k=tu(t);nu(t,k,b);break;default:throw Error(s(161))}}catch(q){Pe(t,t.return,q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Mp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Mp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function xn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)xp(t,i.alternate,i),i=i.sibling}function xi(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Bn(4,i,i.return),xi(i);break;case 1:an(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&vp(i,i.return,r),xi(i);break;case 27:ds(i.stateNode);case 26:case 5:an(i,i.return),xi(i);break;case 22:i.memoizedState===null&&xi(i);break;case 30:xi(i);break;default:xi(i)}t=t.sibling}}function En(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var a=i.alternate,p=t,g=i,S=g.flags;switch(g.tag){case 0:case 11:case 15:En(p,g,r),ns(4,g);break;case 1:if(En(p,g,r),a=g,p=a.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(k){Pe(a,a.return,k)}if(a=g,p=a.updateQueue,p!==null){var x=a.stateNode;try{var b=p.shared.hiddenCallbacks;if(b!==null)for(p.shared.hiddenCallbacks=null,p=0;p<b.length;p++)rd(b[p],x)}catch(k){Pe(a,a.return,k)}}r&&S&64&&yp(g),is(g,g.return);break;case 27:Tp(g);case 26:case 5:En(p,g,r),r&&a===null&&S&4&&_p(g),is(g,g.return);break;case 12:En(p,g,r);break;case 31:En(p,g,r),r&&S&4&&Ap(p,g);break;case 13:En(p,g,r),r&&S&4&&Rp(p,g);break;case 22:g.memoizedState===null&&En(p,g,r),is(g,g.return);break;case 30:break;default:En(p,g,r)}i=i.sibling}}function ou(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Bo(r))}function su(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Bo(t))}function tn(t,i,r,a){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ip(t,i,r,a),i=i.sibling}function Ip(t,i,r,a){var p=i.flags;switch(i.tag){case 0:case 11:case 15:tn(t,i,r,a),p&2048&&ns(9,i);break;case 1:tn(t,i,r,a);break;case 3:tn(t,i,r,a),p&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Bo(t)));break;case 12:if(p&2048){tn(t,i,r,a),t=i.stateNode;try{var g=i.memoizedProps,S=g.id,x=g.onPostCommit;typeof x=="function"&&x(S,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Pe(i,i.return,b)}}else tn(t,i,r,a);break;case 31:tn(t,i,r,a);break;case 13:tn(t,i,r,a);break;case 23:break;case 22:g=i.stateNode,S=i.alternate,i.memoizedState!==null?g._visibility&2?tn(t,i,r,a):os(t,i):g._visibility&2?tn(t,i,r,a):(g._visibility|=2,so(t,i,r,a,(i.subtreeFlags&10256)!==0||!1)),p&2048&&ou(S,i);break;case 24:tn(t,i,r,a),p&2048&&su(i.alternate,i);break;default:tn(t,i,r,a)}}function so(t,i,r,a,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=t,S=i,x=r,b=a,k=S.flags;switch(S.tag){case 0:case 11:case 15:so(g,S,x,b,p),ns(8,S);break;case 23:break;case 22:var q=S.stateNode;S.memoizedState!==null?q._visibility&2?so(g,S,x,b,p):os(g,S):(q._visibility|=2,so(g,S,x,b,p)),p&&k&2048&&ou(S.alternate,S);break;case 24:so(g,S,x,b,p),p&&k&2048&&su(S.alternate,S);break;default:so(g,S,x,b,p)}i=i.sibling}}function os(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,a=i,p=a.flags;switch(a.tag){case 22:os(r,a),p&2048&&ou(a.alternate,a);break;case 24:os(r,a),p&2048&&su(a.alternate,a);break;default:os(r,a)}i=i.sibling}}var ss=8192;function ro(t,i,r){if(t.subtreeFlags&ss)for(t=t.child;t!==null;)Dp(t,i,r),t=t.sibling}function Dp(t,i,r){switch(t.tag){case 26:ro(t,i,r),t.flags&ss&&t.memoizedState!==null&&j_(r,en,t.memoizedState,t.memoizedProps);break;case 5:ro(t,i,r);break;case 3:case 4:var a=en;en=Pr(t.stateNode.containerInfo),ro(t,i,r),en=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=ss,ss=16777216,ro(t,i,r),ss=a):ro(t,i,r));break;default:ro(t,i,r)}}function kp(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function rs(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var a=i[r];ot=a,Up(a,t)}kp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wp(t),t=t.sibling}function wp(t){switch(t.tag){case 0:case 11:case 15:rs(t),t.flags&2048&&Bn(9,t,t.return);break;case 3:rs(t);break;case 12:rs(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,xr(t)):rs(t);break;default:rs(t)}}function xr(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var a=i[r];ot=a,Up(a,t)}kp(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Bn(8,i,i.return),xr(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,xr(i));break;default:xr(i)}t=t.sibling}}function Up(t,i){for(;ot!==null;){var r=ot;switch(r.tag){case 0:case 11:case 15:Bn(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var a=r.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Bo(r.memoizedState.cache)}if(a=r.child,a!==null)a.return=r,ot=a;else e:for(r=t;ot!==null;){a=ot;var p=a.sibling,g=a.return;if(Ep(a),a===r){ot=null;break e}if(p!==null){p.return=g,ot=p;break e}ot=g}}}var h_={getCacheForType:function(t){var i=ft(Ze),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r},cacheSignal:function(){return ft(Ze).controller.signal}},m_=typeof WeakMap=="function"?WeakMap:Map,Ue=0,qe=null,be=null,Re=0,Le=0,Gt=null,Fn=!1,lo=!1,ru=!1,bn=0,Ye=0,Jn=0,Ei=0,lu=0,zt=0,ao=0,ls=null,Nt=null,au=!1,Er=0,Lp=0,br=1/0,Ar=null,Yn=null,nt=0,$n=null,uo=null,An=0,uu=0,cu=null,Pp=null,as=0,fu=null;function qt(){return(Ue&2)!==0&&Re!==0?Re&-Re:P.T!==null?yu():Zc()}function Op(){if(zt===0)if((Re&536870912)===0||Me){var t=Us;Us<<=1,(Us&3932160)===0&&(Us=262144),zt=t}else zt=536870912;return t=Pt.current,t!==null&&(t.flags|=32),zt}function Mt(t,i,r){(t===qe&&(Le===2||Le===9)||t.cancelPendingCommit!==null)&&(co(t,0),Qn(t,Re,zt,!1)),Mo(t,r),((Ue&2)===0||t!==qe)&&(t===qe&&((Ue&2)===0&&(Ei|=r),Ye===4&&Qn(t,Re,zt,!1)),un(t))}function Gp(t,i,r){if((Ue&6)!==0)throw Error(s(327));var a=!r&&(i&127)===0&&(i&t.expiredLanes)===0||No(t,i),p=a?v_(t,i):pu(t,i,!0),g=a;do{if(p===0){lo&&!a&&Qn(t,i,0,!1);break}else{if(r=t.current.alternate,g&&!g_(r)){p=pu(t,i,!1),g=!1;continue}if(p===2){if(g=i,t.errorRecoveryDisabledLanes&g)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var x=t;p=ls;var b=x.current.memoizedState.isDehydrated;if(b&&(co(x,S).flags|=256),S=pu(x,S,!1),S!==2){if(ru&&!b){x.errorRecoveryDisabledLanes|=g,Ei|=g,p=4;break e}g=Nt,Nt=p,g!==null&&(Nt===null?Nt=g:Nt.push.apply(Nt,g))}p=S}if(g=!1,p!==2)continue}}if(p===1){co(t,0),Qn(t,i,0,!0);break}e:{switch(a=t,g=p,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Qn(a,i,zt,!Fn);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(p=Er+300-Dt(),10<p)){if(Qn(a,i,zt,!Fn),Ps(a,0,!0)!==0)break e;An=i,a.timeoutHandle=mh(zp.bind(null,a,r,Nt,Ar,au,i,zt,Ei,ao,Fn,g,"Throttled",-0,0),p);break e}zp(a,r,Nt,Ar,au,i,zt,Ei,ao,Fn,g,null,-0,0)}}break}while(!0);un(t)}function zp(t,i,r,a,p,g,S,x,b,k,q,B,U,G){if(t.timeoutHandle=-1,B=i.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fn},Dp(i,g,B);var ue=(g&62914560)===g?Er-Dt():(g&4194048)===g?Lp-Dt():0;if(ue=eS(B,ue),ue!==null){An=g,t.cancelPendingCommit=ue($p.bind(null,t,i,g,r,a,p,S,x,b,q,B,null,U,G)),Qn(t,g,S,!k);return}}$p(t,i,g,r,a,p,S,x,b)}function g_(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var a=0;a<r.length;a++){var p=r[a],g=p.getSnapshot;p=p.value;try{if(!Ut(g(),p))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qn(t,i,r,a){i&=~lu,i&=~Ei,t.suspendedLanes|=i,t.pingedLanes&=~i,a&&(t.warmLanes|=i),a=t.expirationTimes;for(var p=i;0<p;){var g=31-wt(p),S=1<<g;a[g]=-1,p&=~S}r!==0&&Qc(t,r,i)}function Rr(){return(Ue&6)===0?(us(0),!1):!0}function du(){if(be!==null){if(Le===0)var t=be.return;else t=be,mn=mi=null,Na(t),eo=null,Jo=0,t=be;for(;t!==null;)gp(t.alternate,t),t=t.return;be=null}}function co(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,P_(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),An=0,du(),qe=t,be=r=pn(t.current,null),Re=i,Le=0,Gt=null,Fn=!1,lo=No(t,i),ru=!1,ao=zt=lu=Ei=Jn=Ye=0,Nt=ls=null,au=!1,(i&8)!==0&&(i|=i&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=i;0<a;){var p=31-wt(a),g=1<<p;i|=t[p],a&=~g}return bn=i,Qs(),r}function qp(t,i){Se=null,P.H=jo,i===ji||i===nr?(i=nd(),Le=3):i===ga?(i=nd(),Le=4):Le=i===Fa?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Gt=i,be===null&&(Ye=1,gr(t,Ft(i,t.current)))}function Hp(){var t=Pt.current;return t===null?!0:(Re&4194048)===Re?Qt===null:(Re&62914560)===Re||(Re&536870912)!==0?t===Qt:!1}function Vp(){var t=P.H;return P.H=jo,t===null?jo:t}function Bp(){var t=P.A;return P.A=h_,t}function Nr(){Ye=4,Fn||(Re&4194048)!==Re&&Pt.current!==null||(lo=!0),(Jn&134217727)===0&&(Ei&134217727)===0||qe===null||Qn(qe,Re,zt,!1)}function pu(t,i,r){var a=Ue;Ue|=2;var p=Vp(),g=Bp();(qe!==t||Re!==i)&&(Ar=null,co(t,i)),i=!1;var S=Ye;e:do try{if(Le!==0&&be!==null){var x=be,b=Gt;switch(Le){case 8:du(),S=6;break e;case 3:case 2:case 9:case 6:Pt.current===null&&(i=!0);var k=Le;if(Le=0,Gt=null,fo(t,x,b,k),r&&lo){S=0;break e}break;default:k=Le,Le=0,Gt=null,fo(t,x,b,k)}}y_(),S=Ye;break}catch(q){qp(t,q)}while(!0);return i&&t.shellSuspendCounter++,mn=mi=null,Ue=a,P.H=p,P.A=g,be===null&&(qe=null,Re=0,Qs()),S}function y_(){for(;be!==null;)Fp(be)}function v_(t,i){var r=Ue;Ue|=2;var a=Vp(),p=Bp();qe!==t||Re!==i?(Ar=null,br=Dt()+500,co(t,i)):lo=No(t,i);e:do try{if(Le!==0&&be!==null){i=be;var g=Gt;t:switch(Le){case 1:Le=0,Gt=null,fo(t,i,g,1);break;case 2:case 9:if(ed(g)){Le=0,Gt=null,Jp(i);break}i=function(){Le!==2&&Le!==9||qe!==t||(Le=7),un(t)},g.then(i,i);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:ed(g)?(Le=0,Gt=null,Jp(i)):(Le=0,Gt=null,fo(t,i,g,7));break;case 5:var S=null;switch(be.tag){case 26:S=be.memoizedState;case 5:case 27:var x=be;if(S?Ih(S):x.stateNode.complete){Le=0,Gt=null;var b=x.sibling;if(b!==null)be=b;else{var k=x.return;k!==null?(be=k,Mr(k)):be=null}break t}}Le=0,Gt=null,fo(t,i,g,5);break;case 6:Le=0,Gt=null,fo(t,i,g,6);break;case 8:du(),Ye=6;break e;default:throw Error(s(462))}}__();break}catch(q){qp(t,q)}while(!0);return mn=mi=null,P.H=a,P.A=p,Ue=r,be!==null?0:(qe=null,Re=0,Qs(),Ye)}function __(){for(;be!==null&&!Vy();)Fp(be)}function Fp(t){var i=hp(t.alternate,t,bn);t.memoizedProps=t.pendingProps,i===null?Mr(t):be=i}function Jp(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=ap(r,i,i.pendingProps,i.type,void 0,Re);break;case 11:i=ap(r,i,i.pendingProps,i.type.render,i.ref,Re);break;case 5:Na(i);default:gp(r,i),i=be=Bf(i,bn),i=hp(r,i,bn)}t.memoizedProps=t.pendingProps,i===null?Mr(t):be=i}function fo(t,i,r,a){mn=mi=null,Na(i),eo=null,Jo=0;var p=i.return;try{if(l_(t,p,i,r,Re)){Ye=1,gr(t,Ft(r,t.current)),be=null;return}}catch(g){if(p!==null)throw be=p,g;Ye=1,gr(t,Ft(r,t.current)),be=null;return}i.flags&32768?(Me||a===1?t=!0:lo||(Re&536870912)!==0?t=!1:(Fn=t=!0,(a===2||a===9||a===3||a===6)&&(a=Pt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Yp(i,t)):Mr(i)}function Mr(t){var i=t;do{if((i.flags&32768)!==0){Yp(i,Fn);return}t=i.return;var r=c_(i.alternate,i,bn);if(r!==null){be=r;return}if(i=i.sibling,i!==null){be=i;return}be=i=t}while(i!==null);Ye===0&&(Ye=5)}function Yp(t,i){do{var r=f_(t.alternate,t);if(r!==null){r.flags&=32767,be=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){be=t;return}be=t=r}while(t!==null);Ye=6,be=null}function $p(t,i,r,a,p,g,S,x,b){t.cancelPendingCommit=null;do Ir();while(nt!==0);if((Ue&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=ta,Wy(t,r,g,S,x,b),t===qe&&(be=qe=null,Re=0),uo=i,$n=t,An=r,uu=g,cu=p,Pp=a,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,x_(ks,function(){return Wp(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||a){a=P.T,P.T=null,p=D.p,D.p=2,S=Ue,Ue|=4;try{d_(t,i,r)}finally{Ue=S,D.p=p,P.T=a}}nt=1,Qp(),Kp(),Xp()}}function Qp(){if(nt===1){nt=0;var t=$n,i=uo,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=P.T,P.T=null;var a=D.p;D.p=2;var p=Ue;Ue|=4;try{Np(i,t);var g=bu,S=Uf(t.containerInfo),x=g.focusedElem,b=g.selectionRange;if(S!==x&&x&&x.ownerDocument&&wf(x.ownerDocument.documentElement,x)){if(b!==null&&Xl(x)){var k=b.start,q=b.end;if(q===void 0&&(q=k),"selectionStart"in x)x.selectionStart=k,x.selectionEnd=Math.min(q,x.value.length);else{var B=x.ownerDocument||document,U=B&&B.defaultView||window;if(U.getSelection){var G=U.getSelection(),ue=x.textContent.length,he=Math.min(b.start,ue),ze=b.end===void 0?he:Math.min(b.end,ue);!G.extend&&he>ze&&(S=ze,ze=he,he=S);var N=kf(x,he),R=kf(x,ze);if(N&&R&&(G.rangeCount!==1||G.anchorNode!==N.node||G.anchorOffset!==N.offset||G.focusNode!==R.node||G.focusOffset!==R.offset)){var I=B.createRange();I.setStart(N.node,N.offset),G.removeAllRanges(),he>ze?(G.addRange(I),G.extend(R.node,R.offset)):(I.setEnd(R.node,R.offset),G.addRange(I))}}}}for(B=[],G=x;G=G.parentNode;)G.nodeType===1&&B.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<B.length;x++){var V=B[x];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Vr=!!Eu,bu=Eu=null}finally{Ue=p,D.p=a,P.T=r}}t.current=i,nt=2}}function Kp(){if(nt===2){nt=0;var t=$n,i=uo,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=P.T,P.T=null;var a=D.p;D.p=2;var p=Ue;Ue|=4;try{xp(t,i.alternate,i)}finally{Ue=p,D.p=a,P.T=r}}nt=3}}function Xp(){if(nt===4||nt===3){nt=0,By();var t=$n,i=uo,r=An,a=Pp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?nt=5:(nt=0,uo=$n=null,Zp(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(Yn=null),Dl(r),i=i.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Ro,i,void 0,(i.current.flags&128)===128)}catch{}if(a!==null){i=P.T,p=D.p,D.p=2,P.T=null;try{for(var g=t.onRecoverableError,S=0;S<a.length;S++){var x=a[S];g(x.value,{componentStack:x.stack})}}finally{P.T=i,D.p=p}}(An&3)!==0&&Ir(),un(t),p=t.pendingLanes,(r&261930)!==0&&(p&42)!==0?t===fu?as++:(as=0,fu=t):as=0,us(0)}}function Zp(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Bo(i)))}function Ir(){return Qp(),Kp(),Xp(),Wp()}function Wp(){if(nt!==5)return!1;var t=$n,i=uu;uu=0;var r=Dl(An),a=P.T,p=D.p;try{D.p=32>r?32:r,P.T=null,r=cu,cu=null;var g=$n,S=An;if(nt=0,uo=$n=null,An=0,(Ue&6)!==0)throw Error(s(331));var x=Ue;if(Ue|=4,wp(g.current),Ip(g,g.current,S,r),Ue=x,us(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Ro,g)}catch{}return!0}finally{D.p=p,P.T=a,Zp(t,i)}}function jp(t,i,r){i=Ft(r,i),i=Ba(t.stateNode,i,2),t=qn(t,i,2),t!==null&&(Mo(t,2),un(t))}function Pe(t,i,r){if(t.tag===3)jp(t,t,r);else for(;i!==null;){if(i.tag===3){jp(i,t,r);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Yn===null||!Yn.has(a))){t=Ft(r,t),r=ep(2),a=qn(i,r,2),a!==null&&(tp(r,a,i,t),Mo(a,2),un(a));break}}i=i.return}}function hu(t,i,r){var a=t.pingCache;if(a===null){a=t.pingCache=new m_;var p=new Set;a.set(i,p)}else p=a.get(i),p===void 0&&(p=new Set,a.set(i,p));p.has(r)||(ru=!0,p.add(r),t=S_.bind(null,t,i,r),i.then(t,t))}function S_(t,i,r){var a=t.pingCache;a!==null&&a.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,qe===t&&(Re&r)===r&&(Ye===4||Ye===3&&(Re&62914560)===Re&&300>Dt()-Er?(Ue&2)===0&&co(t,0):lu|=r,ao===Re&&(ao=0)),un(t)}function eh(t,i){i===0&&(i=$c()),t=di(t,i),t!==null&&(Mo(t,i),un(t))}function T_(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),eh(t,r)}function C_(t,i){var r=0;switch(t.tag){case 31:case 13:var a=t.stateNode,p=t.memoizedState;p!==null&&(r=p.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(i),eh(t,r)}function x_(t,i){return Rl(t,i)}var Dr=null,po=null,mu=!1,kr=!1,gu=!1,Kn=0;function un(t){t!==po&&t.next===null&&(po===null?Dr=po=t:po=po.next=t),kr=!0,mu||(mu=!0,b_())}function us(t,i){if(!gu&&kr){gu=!0;do for(var r=!1,a=Dr;a!==null;){if(t!==0){var p=a.pendingLanes;if(p===0)var g=0;else{var S=a.suspendedLanes,x=a.pingedLanes;g=(1<<31-wt(42|t)+1)-1,g&=p&~(S&~x),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(r=!0,oh(a,g))}else g=Re,g=Ps(a,a===qe?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(g&3)===0||No(a,g)||(r=!0,oh(a,g));a=a.next}while(r);gu=!1}}function E_(){th()}function th(){kr=mu=!1;var t=0;Kn!==0&&L_()&&(t=Kn);for(var i=Dt(),r=null,a=Dr;a!==null;){var p=a.next,g=nh(a,i);g===0?(a.next=null,r===null?Dr=p:r.next=p,p===null&&(po=r)):(r=a,(t!==0||(g&3)!==0)&&(kr=!0)),a=p}nt!==0&&nt!==5||us(t),Kn!==0&&(Kn=0)}function nh(t,i){for(var r=t.suspendedLanes,a=t.pingedLanes,p=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var S=31-wt(g),x=1<<S,b=p[S];b===-1?((x&r)===0||(x&a)!==0)&&(p[S]=Zy(x,i)):b<=i&&(t.expiredLanes|=x),g&=~x}if(i=qe,r=Re,r=Ps(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,r===0||t===i&&(Le===2||Le===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&Nl(a),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||No(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(a!==null&&Nl(a),Dl(r)){case 2:case 8:r=Jc;break;case 32:r=ks;break;case 268435456:r=Yc;break;default:r=ks}return a=ih.bind(null,t),r=Rl(r,a),t.callbackPriority=i,t.callbackNode=r,i}return a!==null&&a!==null&&Nl(a),t.callbackPriority=2,t.callbackNode=null,2}function ih(t,i){if(nt!==0&&nt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Ir()&&t.callbackNode!==r)return null;var a=Re;return a=Ps(t,t===qe?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(Gp(t,a,i),nh(t,Dt()),t.callbackNode!=null&&t.callbackNode===r?ih.bind(null,t):null)}function oh(t,i){if(Ir())return null;Gp(t,i,!0)}function b_(){O_(function(){(Ue&6)!==0?Rl(Fc,E_):th()})}function yu(){if(Kn===0){var t=Zi;t===0&&(t=ws,ws<<=1,(ws&261888)===0&&(ws=256)),Kn=t}return Kn}function sh(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qs(""+t)}function rh(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function A_(t,i,r,a,p){if(i==="submit"&&r&&r.stateNode===p){var g=sh((p[xt]||null).action),S=a.submitter;S&&(i=(i=S[xt]||null)?sh(i.formAction):S.getAttribute("formAction"),i!==null&&(g=i,S=null));var x=new Fs("action","action",null,a,p);t.push({event:x,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Kn!==0){var b=S?rh(p,S):new FormData(p);Oa(r,{pending:!0,data:b,method:p.method,action:g},null,b)}}else typeof g=="function"&&(x.preventDefault(),b=S?rh(p,S):new FormData(p),Oa(r,{pending:!0,data:b,method:p.method,action:g},g,b))},currentTarget:p}]})}}for(var vu=0;vu<ea.length;vu++){var _u=ea[vu],R_=_u.toLowerCase(),N_=_u[0].toUpperCase()+_u.slice(1);jt(R_,"on"+N_)}jt(Of,"onAnimationEnd"),jt(Gf,"onAnimationIteration"),jt(zf,"onAnimationStart"),jt("dblclick","onDoubleClick"),jt("focusin","onFocus"),jt("focusout","onBlur"),jt(Fv,"onTransitionRun"),jt(Jv,"onTransitionStart"),jt(Yv,"onTransitionCancel"),jt(qf,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cs));function lh(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var a=t[r],p=a.event;a=a.listeners;e:{var g=void 0;if(i)for(var S=a.length-1;0<=S;S--){var x=a[S],b=x.instance,k=x.currentTarget;if(x=x.listener,b!==g&&p.isPropagationStopped())break e;g=x,p.currentTarget=k;try{g(p)}catch(q){$s(q)}p.currentTarget=null,g=b}else for(S=0;S<a.length;S++){if(x=a[S],b=x.instance,k=x.currentTarget,x=x.listener,b!==g&&p.isPropagationStopped())break e;g=x,p.currentTarget=k;try{g(p)}catch(q){$s(q)}p.currentTarget=null,g=b}}}}function Ae(t,i){var r=i[kl];r===void 0&&(r=i[kl]=new Set);var a=t+"__bubble";r.has(a)||(ah(i,t,2,!1),r.add(a))}function Su(t,i,r){var a=0;i&&(a|=4),ah(r,t,a,i)}var wr="_reactListening"+Math.random().toString(36).slice(2);function Tu(t){if(!t[wr]){t[wr]=!0,ef.forEach(function(r){r!=="selectionchange"&&(M_.has(r)||Su(r,!1,t),Su(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[wr]||(i[wr]=!0,Su("selectionchange",!1,i))}}function ah(t,i,r,a){switch(Oh(i)){case 2:var p=iS;break;case 8:p=oS;break;default:p=Pu}r=p.bind(null,i,r,t),p=void 0,!Hl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),a?p!==void 0?t.addEventListener(i,r,{capture:!0,passive:p}):t.addEventListener(i,r,!0):p!==void 0?t.addEventListener(i,r,{passive:p}):t.addEventListener(i,r,!1)}function Cu(t,i,r,a,p){var g=a;if((i&1)===0&&(i&2)===0&&a!==null)e:for(;;){if(a===null)return;var S=a.tag;if(S===3||S===4){var x=a.stateNode.containerInfo;if(x===p)break;if(S===4)for(S=a.return;S!==null;){var b=S.tag;if((b===3||b===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;x!==null;){if(S=Ui(x),S===null)return;if(b=S.tag,b===5||b===6||b===26||b===27){a=g=S;continue e}x=x.parentNode}}a=a.return}pf(function(){var k=g,q=zl(r),B=[];e:{var U=Hf.get(t);if(U!==void 0){var G=Fs,ue=t;switch(t){case"keypress":if(Vs(r)===0)break e;case"keydown":case"keyup":G=Cv;break;case"focusin":ue="focus",G=Jl;break;case"focusout":ue="blur",G=Jl;break;case"beforeblur":case"afterblur":G=Jl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=gf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=cv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=bv;break;case Of:case Gf:case zf:G=pv;break;case qf:G=Rv;break;case"scroll":case"scrollend":G=av;break;case"wheel":G=Mv;break;case"copy":case"cut":case"paste":G=mv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=vf;break;case"toggle":case"beforetoggle":G=Dv}var he=(i&4)!==0,ze=!he&&(t==="scroll"||t==="scrollend"),N=he?U!==null?U+"Capture":null:U;he=[];for(var R=k,I;R!==null;){var V=R;if(I=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||I===null||N===null||(V=ko(R,N),V!=null&&he.push(fs(R,V,I))),ze)break;R=R.return}0<he.length&&(U=new G(U,ue,null,r,q),B.push({event:U,listeners:he}))}}if((i&7)===0){e:{if(U=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",U&&r!==Gl&&(ue=r.relatedTarget||r.fromElement)&&(Ui(ue)||ue[wi]))break e;if((G||U)&&(U=q.window===q?q:(U=q.ownerDocument)?U.defaultView||U.parentWindow:window,G?(ue=r.relatedTarget||r.toElement,G=k,ue=ue?Ui(ue):null,ue!==null&&(ze=u(ue),he=ue.tag,ue!==ze||he!==5&&he!==27&&he!==6)&&(ue=null)):(G=null,ue=k),G!==ue)){if(he=gf,V="onMouseLeave",N="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(he=vf,V="onPointerLeave",N="onPointerEnter",R="pointer"),ze=G==null?U:Do(G),I=ue==null?U:Do(ue),U=new he(V,R+"leave",G,r,q),U.target=ze,U.relatedTarget=I,V=null,Ui(q)===k&&(he=new he(N,R+"enter",ue,r,q),he.target=I,he.relatedTarget=ze,V=he),ze=V,G&&ue)t:{for(he=I_,N=G,R=ue,I=0,V=N;V;V=he(V))I++;V=0;for(var pe=R;pe;pe=he(pe))V++;for(;0<I-V;)N=he(N),I--;for(;0<V-I;)R=he(R),V--;for(;I--;){if(N===R||R!==null&&N===R.alternate){he=N;break t}N=he(N),R=he(R)}he=null}else he=null;G!==null&&uh(B,U,G,he,!1),ue!==null&&ze!==null&&uh(B,ze,ue,he,!0)}}e:{if(U=k?Do(k):window,G=U.nodeName&&U.nodeName.toLowerCase(),G==="select"||G==="input"&&U.type==="file")var De=Af;else if(Ef(U))if(Rf)De=Hv;else{De=zv;var fe=Gv}else G=U.nodeName,!G||G.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?k&&Ol(k.elementType)&&(De=Af):De=qv;if(De&&(De=De(t,k))){bf(B,De,r,q);break e}fe&&fe(t,U,k),t==="focusout"&&k&&U.type==="number"&&k.memoizedProps.value!=null&&Pl(U,"number",U.value)}switch(fe=k?Do(k):window,t){case"focusin":(Ef(fe)||fe.contentEditable==="true")&&(Bi=fe,Zl=k,qo=null);break;case"focusout":qo=Zl=Bi=null;break;case"mousedown":Wl=!0;break;case"contextmenu":case"mouseup":case"dragend":Wl=!1,Lf(B,r,q);break;case"selectionchange":if(Bv)break;case"keydown":case"keyup":Lf(B,r,q)}var xe;if($l)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Vi?Cf(t,r)&&(Ne="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ne="onCompositionStart");Ne&&(_f&&r.locale!=="ko"&&(Vi||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Vi&&(xe=hf()):(wn=q,Vl="value"in wn?wn.value:wn.textContent,Vi=!0)),fe=Ur(k,Ne),0<fe.length&&(Ne=new yf(Ne,t,null,r,q),B.push({event:Ne,listeners:fe}),xe?Ne.data=xe:(xe=xf(r),xe!==null&&(Ne.data=xe)))),(xe=wv?Uv(t,r):Lv(t,r))&&(Ne=Ur(k,"onBeforeInput"),0<Ne.length&&(fe=new yf("onBeforeInput","beforeinput",null,r,q),B.push({event:fe,listeners:Ne}),fe.data=xe)),A_(B,t,k,r,q)}lh(B,i)})}function fs(t,i,r){return{instance:t,listener:i,currentTarget:r}}function Ur(t,i){for(var r=i+"Capture",a=[];t!==null;){var p=t,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=ko(t,r),p!=null&&a.unshift(fs(t,p,g)),p=ko(t,i),p!=null&&a.push(fs(t,p,g))),t.tag===3)return a;t=t.return}return[]}function I_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function uh(t,i,r,a,p){for(var g=i._reactName,S=[];r!==null&&r!==a;){var x=r,b=x.alternate,k=x.stateNode;if(x=x.tag,b!==null&&b===a)break;x!==5&&x!==26&&x!==27||k===null||(b=k,p?(k=ko(r,g),k!=null&&S.unshift(fs(r,k,b))):p||(k=ko(r,g),k!=null&&S.push(fs(r,k,b)))),r=r.return}S.length!==0&&t.push({event:i,listeners:S})}var D_=/\r\n?/g,k_=/\u0000|\uFFFD/g;function ch(t){return(typeof t=="string"?t:""+t).replace(D_,`
`).replace(k_,"")}function fh(t,i){return i=ch(i),ch(t)===i}function Ge(t,i,r,a,p,g){switch(r){case"children":typeof a=="string"?i==="body"||i==="textarea"&&a===""||zi(t,a):(typeof a=="number"||typeof a=="bigint")&&i!=="body"&&zi(t,""+a);break;case"className":Gs(t,"class",a);break;case"tabIndex":Gs(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Gs(t,r,a);break;case"style":ff(t,a,g);break;case"data":if(i!=="object"){Gs(t,"data",a);break}case"src":case"href":if(a===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(r);break}a=qs(""+a),t.setAttribute(r,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(i!=="input"&&Ge(t,i,"name",p.name,p,null),Ge(t,i,"formEncType",p.formEncType,p,null),Ge(t,i,"formMethod",p.formMethod,p,null),Ge(t,i,"formTarget",p.formTarget,p,null)):(Ge(t,i,"encType",p.encType,p,null),Ge(t,i,"method",p.method,p,null),Ge(t,i,"target",p.target,p,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(r);break}a=qs(""+a),t.setAttribute(r,a);break;case"onClick":a!=null&&(t.onclick=fn);break;case"onScroll":a!=null&&Ae("scroll",t);break;case"onScrollEnd":a!=null&&Ae("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(r=a.__html,r!=null){if(p.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}r=qs(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(r,""+a):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":a===!0?t.setAttribute(r,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(r,a):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(r,a):t.removeAttribute(r);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(r):t.setAttribute(r,a);break;case"popover":Ae("beforetoggle",t),Ae("toggle",t),Os(t,"popover",a);break;case"xlinkActuate":cn(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":cn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":cn(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":cn(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":cn(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":cn(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":cn(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":cn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":cn(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Os(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=rv.get(r)||r,Os(t,r,a))}}function xu(t,i,r,a,p,g){switch(r){case"style":ff(t,a,g);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(r=a.__html,r!=null){if(p.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof a=="string"?zi(t,a):(typeof a=="number"||typeof a=="bigint")&&zi(t,""+a);break;case"onScroll":a!=null&&Ae("scroll",t);break;case"onScrollEnd":a!=null&&Ae("scrollend",t);break;case"onClick":a!=null&&(t.onclick=fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tf.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(p=r.endsWith("Capture"),i=r.slice(2,p?r.length-7:void 0),g=t[xt]||null,g=g!=null?g[r]:null,typeof g=="function"&&t.removeEventListener(i,g,p),typeof a=="function")){typeof g!="function"&&g!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,a,p);break e}r in t?t[r]=a:a===!0?t.setAttribute(r,""):Os(t,r,a)}}}function pt(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",t),Ae("load",t);var a=!1,p=!1,g;for(g in r)if(r.hasOwnProperty(g)){var S=r[g];if(S!=null)switch(g){case"src":a=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ge(t,i,g,S,r,null)}}p&&Ge(t,i,"srcSet",r.srcSet,r,null),a&&Ge(t,i,"src",r.src,r,null);return;case"input":Ae("invalid",t);var x=g=S=p=null,b=null,k=null;for(a in r)if(r.hasOwnProperty(a)){var q=r[a];if(q!=null)switch(a){case"name":p=q;break;case"type":S=q;break;case"checked":b=q;break;case"defaultChecked":k=q;break;case"value":g=q;break;case"defaultValue":x=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Ge(t,i,a,q,r,null)}}lf(t,g,x,b,k,S,p,!1);return;case"select":Ae("invalid",t),a=S=g=null;for(p in r)if(r.hasOwnProperty(p)&&(x=r[p],x!=null))switch(p){case"value":g=x;break;case"defaultValue":S=x;break;case"multiple":a=x;default:Ge(t,i,p,x,r,null)}i=g,r=S,t.multiple=!!a,i!=null?Gi(t,!!a,i,!1):r!=null&&Gi(t,!!a,r,!0);return;case"textarea":Ae("invalid",t),g=p=a=null;for(S in r)if(r.hasOwnProperty(S)&&(x=r[S],x!=null))switch(S){case"value":a=x;break;case"defaultValue":p=x;break;case"children":g=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:Ge(t,i,S,x,r,null)}uf(t,a,p,g);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(a=r[b],a!=null))switch(b){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ge(t,i,b,a,r,null)}return;case"dialog":Ae("beforetoggle",t),Ae("toggle",t),Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":Ae("load",t);break;case"video":case"audio":for(a=0;a<cs.length;a++)Ae(cs[a],t);break;case"image":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"embed":case"source":case"link":Ae("error",t),Ae("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in r)if(r.hasOwnProperty(k)&&(a=r[k],a!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ge(t,i,k,a,r,null)}return;default:if(Ol(i)){for(q in r)r.hasOwnProperty(q)&&(a=r[q],a!==void 0&&xu(t,i,q,a,r,void 0));return}}for(x in r)r.hasOwnProperty(x)&&(a=r[x],a!=null&&Ge(t,i,x,a,r,null))}function w_(t,i,r,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,S=null,x=null,b=null,k=null,q=null;for(G in r){var B=r[G];if(r.hasOwnProperty(G)&&B!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":b=B;default:a.hasOwnProperty(G)||Ge(t,i,G,null,a,B)}}for(var U in a){var G=a[U];if(B=r[U],a.hasOwnProperty(U)&&(G!=null||B!=null))switch(U){case"type":g=G;break;case"name":p=G;break;case"checked":k=G;break;case"defaultChecked":q=G;break;case"value":S=G;break;case"defaultValue":x=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==B&&Ge(t,i,U,G,a,B)}}Ll(t,S,x,b,k,q,g,p);return;case"select":G=S=x=U=null;for(g in r)if(b=r[g],r.hasOwnProperty(g)&&b!=null)switch(g){case"value":break;case"multiple":G=b;default:a.hasOwnProperty(g)||Ge(t,i,g,null,a,b)}for(p in a)if(g=a[p],b=r[p],a.hasOwnProperty(p)&&(g!=null||b!=null))switch(p){case"value":U=g;break;case"defaultValue":x=g;break;case"multiple":S=g;default:g!==b&&Ge(t,i,p,g,a,b)}i=x,r=S,a=G,U!=null?Gi(t,!!r,U,!1):!!a!=!!r&&(i!=null?Gi(t,!!r,i,!0):Gi(t,!!r,r?[]:"",!1));return;case"textarea":G=U=null;for(x in r)if(p=r[x],r.hasOwnProperty(x)&&p!=null&&!a.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ge(t,i,x,null,a,p)}for(S in a)if(p=a[S],g=r[S],a.hasOwnProperty(S)&&(p!=null||g!=null))switch(S){case"value":U=p;break;case"defaultValue":G=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==g&&Ge(t,i,S,p,a,g)}af(t,U,G);return;case"option":for(var ue in r)if(U=r[ue],r.hasOwnProperty(ue)&&U!=null&&!a.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:Ge(t,i,ue,null,a,U)}for(b in a)if(U=a[b],G=r[b],a.hasOwnProperty(b)&&U!==G&&(U!=null||G!=null))switch(b){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Ge(t,i,b,U,a,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in r)U=r[he],r.hasOwnProperty(he)&&U!=null&&!a.hasOwnProperty(he)&&Ge(t,i,he,null,a,U);for(k in a)if(U=a[k],G=r[k],a.hasOwnProperty(k)&&U!==G&&(U!=null||G!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,i));break;default:Ge(t,i,k,U,a,G)}return;default:if(Ol(i)){for(var ze in r)U=r[ze],r.hasOwnProperty(ze)&&U!==void 0&&!a.hasOwnProperty(ze)&&xu(t,i,ze,void 0,a,U);for(q in a)U=a[q],G=r[q],!a.hasOwnProperty(q)||U===G||U===void 0&&G===void 0||xu(t,i,q,U,a,G);return}}for(var N in r)U=r[N],r.hasOwnProperty(N)&&U!=null&&!a.hasOwnProperty(N)&&Ge(t,i,N,null,a,U);for(B in a)U=a[B],G=r[B],!a.hasOwnProperty(B)||U===G||U==null&&G==null||Ge(t,i,B,U,a,G)}function dh(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,r=performance.getEntriesByType("resource"),a=0;a<r.length;a++){var p=r[a],g=p.transferSize,S=p.initiatorType,x=p.duration;if(g&&x&&dh(S)){for(S=0,x=p.responseEnd,a+=1;a<r.length;a++){var b=r[a],k=b.startTime;if(k>x)break;var q=b.transferSize,B=b.initiatorType;q&&dh(B)&&(b=b.responseEnd,S+=q*(b<x?1:(x-k)/(b-k)))}if(--a,i+=8*(g+S)/(p.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Eu=null,bu=null;function Lr(t){return t.nodeType===9?t:t.ownerDocument}function ph(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hh(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Au(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ru=null;function L_(){var t=window.event;return t&&t.type==="popstate"?t===Ru?!1:(Ru=t,!0):(Ru=null,!1)}var mh=typeof setTimeout=="function"?setTimeout:void 0,P_=typeof clearTimeout=="function"?clearTimeout:void 0,gh=typeof Promise=="function"?Promise:void 0,O_=typeof queueMicrotask=="function"?queueMicrotask:typeof gh<"u"?function(t){return gh.resolve(null).then(t).catch(G_)}:mh;function G_(t){setTimeout(function(){throw t})}function Xn(t){return t==="head"}function yh(t,i){var r=i,a=0;do{var p=r.nextSibling;if(t.removeChild(r),p&&p.nodeType===8)if(r=p.data,r==="/$"||r==="/&"){if(a===0){t.removeChild(p),yo(i);return}a--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")a++;else if(r==="html")ds(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,ds(r);for(var g=r.firstChild;g;){var S=g.nextSibling,x=g.nodeName;g[Io]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=S}}else r==="body"&&ds(t.ownerDocument.body);r=p}while(r);yo(i)}function vh(t,i){var r=t;t=0;do{var a=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=a}while(r)}function Nu(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Nu(r),wl(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function z_(t,i,r,a){for(;t.nodeType===1;){var p=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Io])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=Kt(t.nextSibling),t===null)break}return null}function q_(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Kt(t.nextSibling),t===null))return null;return t}function _h(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Kt(t.nextSibling),t===null))return null;return t}function Mu(t){return t.data==="$?"||t.data==="$~"}function Iu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function H_(t,i){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||r.readyState!=="loading")i();else{var a=function(){i(),r.removeEventListener("DOMContentLoaded",a)};r.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Kt(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Du=null;function Sh(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(i===0)return Kt(t.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}t=t.nextSibling}return null}function Th(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return t;i--}else r!=="/$"&&r!=="/&"||i++}t=t.previousSibling}return null}function Ch(t,i,r){switch(i=Lr(r),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ds(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);wl(t)}var Xt=new Map,xh=new Set;function Pr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Rn=D.d;D.d={f:V_,r:B_,D:F_,C:J_,L:Y_,m:$_,X:K_,S:Q_,M:X_};function V_(){var t=Rn.f(),i=Rr();return t||i}function B_(t){var i=Li(t);i!==null&&i.tag===5&&i.type==="form"?qd(i):Rn.r(t)}var ho=typeof document>"u"?null:document;function Eh(t,i,r){var a=ho;if(a&&typeof i=="string"&&i){var p=Vt(i);p='link[rel="'+t+'"][href="'+p+'"]',typeof r=="string"&&(p+='[crossorigin="'+r+'"]'),xh.has(p)||(xh.add(p),t={rel:t,crossOrigin:r,href:i},a.querySelector(p)===null&&(i=a.createElement("link"),pt(i,"link",t),it(i),a.head.appendChild(i)))}}function F_(t){Rn.D(t),Eh("dns-prefetch",t,null)}function J_(t,i){Rn.C(t,i),Eh("preconnect",t,i)}function Y_(t,i,r){Rn.L(t,i,r);var a=ho;if(a&&t&&i){var p='link[rel="preload"][as="'+Vt(i)+'"]';i==="image"&&r&&r.imageSrcSet?(p+='[imagesrcset="'+Vt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(p+='[imagesizes="'+Vt(r.imageSizes)+'"]')):p+='[href="'+Vt(t)+'"]';var g=p;switch(i){case"style":g=mo(t);break;case"script":g=go(t)}Xt.has(g)||(t=_({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),Xt.set(g,t),a.querySelector(p)!==null||i==="style"&&a.querySelector(ps(g))||i==="script"&&a.querySelector(hs(g))||(i=a.createElement("link"),pt(i,"link",t),it(i),a.head.appendChild(i)))}}function $_(t,i){Rn.m(t,i);var r=ho;if(r&&t){var a=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Vt(a)+'"][href="'+Vt(t)+'"]',g=p;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=go(t)}if(!Xt.has(g)&&(t=_({rel:"modulepreload",href:t},i),Xt.set(g,t),r.querySelector(p)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(hs(g)))return}a=r.createElement("link"),pt(a,"link",t),it(a),r.head.appendChild(a)}}}function Q_(t,i,r){Rn.S(t,i,r);var a=ho;if(a&&t){var p=Pi(a).hoistableStyles,g=mo(t);i=i||"default";var S=p.get(g);if(!S){var x={loading:0,preload:null};if(S=a.querySelector(ps(g)))x.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":i},r),(r=Xt.get(g))&&ku(t,r);var b=S=a.createElement("link");it(b),pt(b,"link",t),b._p=new Promise(function(k,q){b.onload=k,b.onerror=q}),b.addEventListener("load",function(){x.loading|=1}),b.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Or(S,i,a)}S={type:"stylesheet",instance:S,count:1,state:x},p.set(g,S)}}}function K_(t,i){Rn.X(t,i);var r=ho;if(r&&t){var a=Pi(r).hoistableScripts,p=go(t),g=a.get(p);g||(g=r.querySelector(hs(p)),g||(t=_({src:t,async:!0},i),(i=Xt.get(p))&&wu(t,i),g=r.createElement("script"),it(g),pt(g,"link",t),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},a.set(p,g))}}function X_(t,i){Rn.M(t,i);var r=ho;if(r&&t){var a=Pi(r).hoistableScripts,p=go(t),g=a.get(p);g||(g=r.querySelector(hs(p)),g||(t=_({src:t,async:!0,type:"module"},i),(i=Xt.get(p))&&wu(t,i),g=r.createElement("script"),it(g),pt(g,"link",t),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},a.set(p,g))}}function bh(t,i,r,a){var p=(p=Z.current)?Pr(p):null;if(!p)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=mo(r.href),r=Pi(p).hoistableStyles,a=r.get(i),a||(a={type:"style",instance:null,count:0,state:null},r.set(i,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=mo(r.href);var g=Pi(p).hoistableStyles,S=g.get(t);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,S),(g=p.querySelector(ps(t)))&&!g._p&&(S.instance=g,S.state.loading=5),Xt.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Xt.set(t,r),g||Z_(p,t,r,S.state))),i&&a===null)throw Error(s(528,""));return S}if(i&&a!==null)throw Error(s(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=go(r),r=Pi(p).hoistableScripts,a=r.get(i),a||(a={type:"script",instance:null,count:0,state:null},r.set(i,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function mo(t){return'href="'+Vt(t)+'"'}function ps(t){return'link[rel="stylesheet"]['+t+"]"}function Ah(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function Z_(t,i,r,a){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?a.loading=1:(i=t.createElement("link"),a.preload=i,i.addEventListener("load",function(){return a.loading|=1}),i.addEventListener("error",function(){return a.loading|=2}),pt(i,"link",r),it(i),t.head.appendChild(i))}function go(t){return'[src="'+Vt(t)+'"]'}function hs(t){return"script[async]"+t}function Rh(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var a=t.querySelector('style[data-href~="'+Vt(r.href)+'"]');if(a)return i.instance=a,it(a),a;var p=_({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),it(a),pt(a,"style",p),Or(a,r.precedence,t),i.instance=a;case"stylesheet":p=mo(r.href);var g=t.querySelector(ps(p));if(g)return i.state.loading|=4,i.instance=g,it(g),g;a=Ah(r),(p=Xt.get(p))&&ku(a,p),g=(t.ownerDocument||t).createElement("link"),it(g);var S=g;return S._p=new Promise(function(x,b){S.onload=x,S.onerror=b}),pt(g,"link",a),i.state.loading|=4,Or(g,r.precedence,t),i.instance=g;case"script":return g=go(r.src),(p=t.querySelector(hs(g)))?(i.instance=p,it(p),p):(a=r,(p=Xt.get(g))&&(a=_({},r),wu(a,p)),t=t.ownerDocument||t,p=t.createElement("script"),it(p),pt(p,"link",a),t.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(a=i.instance,i.state.loading|=4,Or(a,r.precedence,t));return i.instance}function Or(t,i,r){for(var a=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=a.length?a[a.length-1]:null,g=p,S=0;S<a.length;S++){var x=a[S];if(x.dataset.precedence===i)g=x;else if(g!==p)break}g?g.parentNode.insertBefore(t,g.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function ku(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function wu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Gr=null;function Nh(t,i,r){if(Gr===null){var a=new Map,p=Gr=new Map;p.set(r,a)}else p=Gr,a=p.get(r),a||(a=new Map,p.set(r,a));if(a.has(t))return a;for(a.set(t,null),r=r.getElementsByTagName(t),p=0;p<r.length;p++){var g=r[p];if(!(g[Io]||g[ut]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(i)||"";S=t+S;var x=a.get(S);x?x.push(g):a.set(S,[g])}}return a}function Mh(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function W_(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ih(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function j_(t,i,r,a){if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=mo(a.href),g=i.querySelector(ps(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=zr.bind(t),i.then(t,t)),r.state.loading|=4,r.instance=g,it(g);return}g=i.ownerDocument||i,a=Ah(a),(p=Xt.get(p))&&ku(a,p),g=g.createElement("link"),it(g);var S=g;S._p=new Promise(function(x,b){S.onload=x,S.onerror=b}),pt(g,"link",a),r.instance=g}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=zr.bind(t),i.addEventListener("load",r),i.addEventListener("error",r))}}var Uu=0;function eS(t,i){return t.stylesheets&&t.count===0&&Hr(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var a=setTimeout(function(){if(t.stylesheets&&Hr(t,t.stylesheets),t.unsuspend){var g=t.unsuspend;t.unsuspend=null,g()}},6e4+i);0<t.imgBytes&&Uu===0&&(Uu=62500*U_());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Hr(t,t.stylesheets),t.unsuspend)){var g=t.unsuspend;t.unsuspend=null,g()}},(t.imgBytes>Uu?50:800)+i);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(p)}}:null}function zr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var qr=null;function Hr(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,qr=new Map,i.forEach(tS,t),qr=null,zr.call(t))}function tS(t,i){if(!(i.state.loading&4)){var r=qr.get(t);if(r)var a=r.get(null);else{r=new Map,qr.set(t,r);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var S=p[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(r.set(S.dataset.precedence,S),a=S)}a&&r.set(null,a)}p=i.instance,S=p.getAttribute("data-precedence"),g=r.get(S)||a,g===a&&r.set(null,p),r.set(S,p),this.count++,a=zr.bind(this),p.addEventListener("load",a),p.addEventListener("error",a),g?g.parentNode.insertBefore(p,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),i.state.loading|=4}}var ms={$$typeof:J,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function nS(t,i,r,a,p,g,S,x,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ml(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ml(0),this.hiddenUpdates=Ml(null),this.identifierPrefix=a,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Dh(t,i,r,a,p,g,S,x,b,k,q,B){return t=new nS(t,i,r,S,b,k,q,B,x),i=1,g===!0&&(i|=24),g=Lt(3,null,null,i),t.current=g,g.stateNode=t,i=pa(),i.refCount++,t.pooledCache=i,i.refCount++,g.memoizedState={element:a,isDehydrated:r,cache:i},ya(g),t}function kh(t){return t?(t=Yi,t):Yi}function wh(t,i,r,a,p,g){p=kh(p),a.context===null?a.context=p:a.pendingContext=p,a=zn(i),a.payload={element:r},g=g===void 0?null:g,g!==null&&(a.callback=g),r=qn(t,a,i),r!==null&&(Mt(r,t,i),$o(r,t,i))}function Uh(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function Lu(t,i){Uh(t,i),(t=t.alternate)&&Uh(t,i)}function Lh(t){if(t.tag===13||t.tag===31){var i=di(t,67108864);i!==null&&Mt(i,t,67108864),Lu(t,67108864)}}function Ph(t){if(t.tag===13||t.tag===31){var i=qt();i=Il(i);var r=di(t,i);r!==null&&Mt(r,t,i),Lu(t,i)}}var Vr=!0;function iS(t,i,r,a){var p=P.T;P.T=null;var g=D.p;try{D.p=2,Pu(t,i,r,a)}finally{D.p=g,P.T=p}}function oS(t,i,r,a){var p=P.T;P.T=null;var g=D.p;try{D.p=8,Pu(t,i,r,a)}finally{D.p=g,P.T=p}}function Pu(t,i,r,a){if(Vr){var p=Ou(a);if(p===null)Cu(t,i,a,Br,r),Gh(t,a);else if(rS(p,t,i,r,a))a.stopPropagation();else if(Gh(t,a),i&4&&-1<sS.indexOf(t)){for(;p!==null;){var g=Li(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=li(g.pendingLanes);if(S!==0){var x=g;for(x.pendingLanes|=2,x.entangledLanes|=2;S;){var b=1<<31-wt(S);x.entanglements[1]|=b,S&=~b}un(g),(Ue&6)===0&&(br=Dt()+500,us(0))}}break;case 31:case 13:x=di(g,2),x!==null&&Mt(x,g,2),Rr(),Lu(g,2)}if(g=Ou(a),g===null&&Cu(t,i,a,Br,r),g===p)break;p=g}p!==null&&a.stopPropagation()}else Cu(t,i,a,null,r)}}function Ou(t){return t=zl(t),Gu(t)}var Br=null;function Gu(t){if(Br=null,t=Ui(t),t!==null){var i=u(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=d(i),t!==null)return t;t=null}else if(r===31){if(t=h(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Br=t,null}function Oh(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fy()){case Fc:return 2;case Jc:return 8;case ks:case Jy:return 32;case Yc:return 268435456;default:return 32}default:return 32}}var zu=!1,Zn=null,Wn=null,jn=null,gs=new Map,ys=new Map,ei=[],sS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gh(t,i){switch(t){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":gs.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ys.delete(i.pointerId)}}function vs(t,i,r,a,p,g){return t===null||t.nativeEvent!==g?(t={blockedOn:i,domEventName:r,eventSystemFlags:a,nativeEvent:g,targetContainers:[p]},i!==null&&(i=Li(i),i!==null&&Lh(i)),t):(t.eventSystemFlags|=a,i=t.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),t)}function rS(t,i,r,a,p){switch(i){case"focusin":return Zn=vs(Zn,t,i,r,a,p),!0;case"dragenter":return Wn=vs(Wn,t,i,r,a,p),!0;case"mouseover":return jn=vs(jn,t,i,r,a,p),!0;case"pointerover":var g=p.pointerId;return gs.set(g,vs(gs.get(g)||null,t,i,r,a,p)),!0;case"gotpointercapture":return g=p.pointerId,ys.set(g,vs(ys.get(g)||null,t,i,r,a,p)),!0}return!1}function zh(t){var i=Ui(t.target);if(i!==null){var r=u(i);if(r!==null){if(i=r.tag,i===13){if(i=d(r),i!==null){t.blockedOn=i,Wc(t.priority,function(){Ph(r)});return}}else if(i===31){if(i=h(r),i!==null){t.blockedOn=i,Wc(t.priority,function(){Ph(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fr(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=Ou(t.nativeEvent);if(r===null){r=t.nativeEvent;var a=new r.constructor(r.type,r);Gl=a,r.target.dispatchEvent(a),Gl=null}else return i=Li(r),i!==null&&Lh(i),t.blockedOn=r,!1;i.shift()}return!0}function qh(t,i,r){Fr(t)&&r.delete(i)}function lS(){zu=!1,Zn!==null&&Fr(Zn)&&(Zn=null),Wn!==null&&Fr(Wn)&&(Wn=null),jn!==null&&Fr(jn)&&(jn=null),gs.forEach(qh),ys.forEach(qh)}function Jr(t,i){t.blockedOn===i&&(t.blockedOn=null,zu||(zu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,lS)))}var Yr=null;function Hh(t){Yr!==t&&(Yr=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Yr===t&&(Yr=null);for(var i=0;i<t.length;i+=3){var r=t[i],a=t[i+1],p=t[i+2];if(typeof a!="function"){if(Gu(a||r)===null)continue;break}var g=Li(r);g!==null&&(t.splice(i,3),i-=3,Oa(g,{pending:!0,data:p,method:r.method,action:a},a,p))}}))}function yo(t){function i(b){return Jr(b,t)}Zn!==null&&Jr(Zn,t),Wn!==null&&Jr(Wn,t),jn!==null&&Jr(jn,t),gs.forEach(i),ys.forEach(i);for(var r=0;r<ei.length;r++){var a=ei[r];a.blockedOn===t&&(a.blockedOn=null)}for(;0<ei.length&&(r=ei[0],r.blockedOn===null);)zh(r),r.blockedOn===null&&ei.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(a=0;a<r.length;a+=3){var p=r[a],g=r[a+1],S=p[xt]||null;if(typeof g=="function")S||Hh(r);else if(S){var x=null;if(g&&g.hasAttribute("formAction")){if(p=g,S=g[xt]||null)x=S.formAction;else if(Gu(p)!==null)continue}else x=S.action;typeof x=="function"?r[a+1]=x:(r.splice(a,3),a-=3),Hh(r)}}}function Vh(){function t(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(S){return p=S})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),a||setTimeout(r,20)}function r(){if(!a&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function qu(t){this._internalRoot=t}$r.prototype.render=qu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var r=i.current,a=qt();wh(r,a,t,i,null,null)},$r.prototype.unmount=qu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;wh(t.current,2,null,t,null,null),Rr(),i[wi]=null}};function $r(t){this._internalRoot=t}$r.prototype.unstable_scheduleHydration=function(t){if(t){var i=Zc();t={blockedOn:null,target:t,priority:i};for(var r=0;r<ei.length&&i!==0&&i<ei[r].priority;r++);ei.splice(r,0,t),r===0&&zh(t)}};var Bh=e.version;if(Bh!=="19.2.3")throw Error(s(527,Bh,"19.2.3"));D.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var aS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qr.isDisabled&&Qr.supportsFiber)try{Ro=Qr.inject(aS),kt=Qr}catch{}}return Ts.createRoot=function(t,i){if(!l(t))throw Error(s(299));var r=!1,a="",p=Xd,g=Zd,S=Wd;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),i=Dh(t,1,!1,null,null,r,a,null,p,g,S,Vh),t[wi]=i.current,Tu(t),new qu(i)},Ts.hydrateRoot=function(t,i,r){if(!l(t))throw Error(s(299));var a=!1,p="",g=Xd,S=Zd,x=Wd,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(p=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(S=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.formState!==void 0&&(b=r.formState)),i=Dh(t,1,!0,i,r??null,a,p,b,g,S,x,Vh),i.context=kh(null),r=i.current,a=qt(),a=Il(a),p=zn(a),p.callback=null,qn(r,p,a),r=a,i.current.lanes=r,Mo(i,r),un(i),t[wi]=i.current,Tu(t),new $r(i)},Ts.version="19.2.3",Ts}var jh;function SS(){if(jh)return Vu.exports;jh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vu.exports=_S(),Vu.exports}var TS=SS();const CS=jg(TS);var se=Nc();/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ES=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,o,s)=>s?s.toUpperCase():o.toLowerCase()),em=n=>{const e=ES(n);return e.charAt(0).toUpperCase()+e.slice(1)},e0=(...n)=>n.filter((e,o,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===o).join(" ").trim(),bS=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=se.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:d,...h},y)=>se.createElement("svg",{ref:y,...AS,width:e,height:e,stroke:n,strokeWidth:s?Number(o)*24/Number(e):o,className:e0("lucide",l),...!u&&!bS(h)&&{"aria-hidden":"true"},...h},[...d.map(([m,v])=>se.createElement(m,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(n,e)=>{const o=se.forwardRef(({className:s,...l},u)=>se.createElement(RS,{ref:u,iconNode:e,className:e0(`lucide-${xS(em(n))}`,`lucide-${n}`,s),...l}));return o.displayName=em(n),o};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],MS=Te("arrow-right",NS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],DS=Te("bot",IS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],wS=Te("brain",kS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],LS=Te("chart-pie",US);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],t0=Te("check",PS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],tm=Te("circle-alert",OS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zS=Te("circle-check",GS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],HS=Te("circle-question-mark",qS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],BS=Te("circle-x",VS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],JS=Te("clock",FS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],$S=Te("cloud-upload",YS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],KS=Te("cloud",QS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],ZS=Te("coins",XS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],n0=Te("copy",WS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],eT=Te("download",jS);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],nm=Te("image",tT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],iT=Te("key",nT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],sT=Te("layout-grid",oT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],i0=Te("link",rT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],al=Te("loader-circle",lT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],uT=Te("lock",aT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],fT=Te("message-square",cT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],pT=Te("moon",dT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],mT=Te("pencil",hT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],o0=Te("play",gT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],s0=Te("plus",yT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],im=Te("refresh-cw",vT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ST=Te("save",_T);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],CT=Te("send",TT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ET=Te("settings",xT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],AT=Te("shield-alert",bT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],bs=Te("sparkles",RT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],MT=Te("sun",NT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ju=Te("trash-2",IT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],yl=Te("trophy",DT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],wT=Te("upload",kT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],LT=Te("users",UT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],OT=Te("wifi-off",PT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],zT=Te("wifi",GT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ec=Te("x",qT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],om=Te("youtube",HT);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],BT=Te("zap",VT),FT=({onHost:n,onJoin:e})=>C.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-6 text-center space-y-16 relative overflow-hidden bg-indigo-50 dark:bg-slate-900 transition-colors duration-500",children:[C.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-indigo-200/50 dark:bg-indigo-600/20 rounded-full blur-[100px] -translate-x-1/2 -translate-y-1/2 animate-pulse"}),C.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-purple-200/50 dark:bg-purple-600/20 rounded-full blur-[100px] translate-x-1/2 translate-y-1/2 animate-pulse [animation-delay:1s]"}),C.jsxs("div",{className:"space-y-6 z-10 animate-pop",children:[C.jsx("div",{className:"inline-flex items-center justify-center p-5 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl mb-4 shadow-lg shadow-indigo-500/20 rotate-3",children:C.jsx(bs,{className:"w-12 h-12 text-white"})}),C.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter text-slate-900 dark:text-white drop-shadow-sm",children:["Quiz",C.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-purple-500 dark:from-indigo-400 dark:to-cyan-400",children:"Wiz"})]}),C.jsxs("p",{className:"text-slate-600 dark:text-indigo-200 text-xl font-medium max-w-lg mx-auto leading-relaxed",children:["The ultimate real-time multiplayer quiz showdown.",C.jsx("br",{}),"Compete, conquer, and claim the crown!"]})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 w-full max-w-3xl z-10",children:[C.jsxs("button",{onClick:n,className:"group relative flex flex-col items-center p-10 bg-white/60 dark:bg-slate-800/60 backdrop-blur-xl border border-white/50 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 rounded-3xl transition-all duration-300 hover:shadow-xl hover:shadow-indigo-500/10 hover:-translate-y-2 overflow-hidden",children:[C.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 to-purple-600"}),C.jsx("div",{className:"p-5 bg-indigo-50 dark:bg-indigo-500/10 rounded-2xl mb-6 group-hover:bg-indigo-500 group-hover:text-white text-indigo-500 dark:text-indigo-400 transition-colors duration-300",children:C.jsx(yl,{className:"w-10 h-10"})}),C.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-3",children:"Host a Game"}),C.jsx("p",{className:"text-slate-500 dark:text-slate-400 group-hover:text-indigo-600 dark:group-hover:text-indigo-200 transition-colors",children:"Launch a lobby & challenge friends"})]}),C.jsxs("button",{onClick:e,className:"group relative flex flex-col items-center p-10 bg-white/60 dark:bg-slate-800/60 backdrop-blur-xl border border-white/50 dark:border-slate-700 hover:border-emerald-500 dark:hover:border-emerald-500 rounded-3xl transition-all duration-300 hover:shadow-xl hover:shadow-emerald-500/10 hover:-translate-y-2 overflow-hidden",children:[C.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 to-teal-600"}),C.jsx("div",{className:"p-5 bg-emerald-50 dark:bg-emerald-500/10 rounded-2xl mb-6 group-hover:bg-emerald-500 group-hover:text-white text-emerald-500 dark:text-emerald-400 transition-colors duration-300",children:C.jsx(BT,{className:"w-10 h-10"})}),C.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-3",children:"Join a Game"}),C.jsx("p",{className:"text-slate-500 dark:text-slate-400 group-hover:text-emerald-600 dark:group-hover:text-emerald-200 transition-colors",children:"Enter a code & jump into action"})]})]}),C.jsx("div",{className:"z-10 text-slate-400 dark:text-slate-600 text-sm font-bold tracking-widest uppercase",children:"Ready  Set  Quiz"})]});class JT{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const o of this._parts)e.push(o);return YT(e).buffer}}function YT(n){let e=0;for(const l of n)e+=l.byteLength;const o=new Uint8Array(e);let s=0;for(const l of n){const u=new Uint8Array(l.buffer,l.byteOffset,l.byteLength);o.set(u,s),s+=l.byteLength}return o}function r0(n){return new $T(n).unpack()}function l0(n){const e=new QT,o=e.pack(n);return o instanceof Promise?o.then(()=>e.getBuffer()):e.getBuffer()}class $T{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let o;if((o=e^160)<=15)return this.unpack_raw(o);if((o=e^176)<=15)return this.unpack_string(o);if((o=e^144)<=15)return this.unpack_array(o);if((o=e^128)<=15)return this.unpack_map(o);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return o=this.unpack_uint16(),this.unpack_string(o);case 217:return o=this.unpack_uint32(),this.unpack_string(o);case 218:return o=this.unpack_uint16(),this.unpack_raw(o);case 219:return o=this.unpack_uint32(),this.unpack_raw(o);case 220:return o=this.unpack_uint16(),this.unpack_array(o);case 221:return o=this.unpack_uint32(),this.unpack_array(o);case 222:return o=this.unpack_uint16(),this.unpack_map(o);case 223:return o=this.unpack_uint32(),this.unpack_map(o)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),o=(e[0]&255)*256+(e[1]&255);return this.index+=2,o}unpack_uint32(){const e=this.read(4),o=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,o}unpack_uint64(){const e=this.read(8),o=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,o}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const o=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,o}unpack_string(e){const o=this.read(e);let s=0,l="",u,d;for(;s<e;)u=o[s],u<160?(d=u,s++):(u^192)<32?(d=(u&31)<<6|o[s+1]&63,s+=2):(u^224)<16?(d=(u&15)<<12|(o[s+1]&63)<<6|o[s+2]&63,s+=3):(d=(u&7)<<18|(o[s+1]&63)<<12|(o[s+2]&63)<<6|o[s+3]&63,s+=4),l+=String.fromCodePoint(d);return this.index+=e,l}unpack_array(e){const o=new Array(e);for(let s=0;s<e;s++)o[s]=this.unpack();return o}unpack_map(e){const o={};for(let s=0;s<e;s++){const l=this.unpack();o[l]=this.unpack()}return o}unpack_float(){const e=this.unpack_uint32(),o=e>>31,s=(e>>23&255)-127,l=e&8388607|8388608;return(o===0?1:-1)*l*2**(s-23)}unpack_double(){const e=this.unpack_uint32(),o=this.unpack_uint32(),s=e>>31,l=(e>>20&2047)-1023,d=(e&1048575|1048576)*2**(l-20)+o*2**(l-52);return(s===0?1:-1)*d}read(e){const o=this.index;if(o+e<=this.length)return this.dataView.subarray(o,o+e);throw new Error("BinaryPackFailure: read index out of range")}}class QT{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const o=e.constructor;if(e instanceof Array){const s=this.pack_array(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const s=e;this.pack_bin(new Uint8Array(s.buffer,s.byteOffset,s.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(s=>{this.pack_bin(new Uint8Array(s)),this._bufferBuilder.flush()});if(o==Object||o.toString().startsWith("class")){const s=this.pack_object(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${o.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const o=e.length;if(o<=15)this.pack_uint8(160+o);else if(o<=65535)this._bufferBuilder.append(218),this.pack_uint16(o);else if(o<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(o);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const o=this._textEncoder.encode(e),s=o.length;if(s<=15)this.pack_uint8(176+s);else if(s<=65535)this._bufferBuilder.append(216),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(s);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(o)}pack_array(e){const o=e.length;if(o<=15)this.pack_uint8(144+o);else if(o<=65535)this._bufferBuilder.append(220),this.pack_uint16(o);else if(o<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(o);else throw new Error("Invalid length");const s=l=>{if(l<o){const u=this.pack(e[l]);return u instanceof Promise?u.then(()=>s(l+1)):s(l+1)}};return s(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let o=0;e<0&&(o=1,e=-e);const s=Math.floor(Math.log(e)/Math.LN2),l=e/2**s-1,u=Math.floor(l*2**52),d=2**32,h=o<<31|s+1023<<20|u/d&1048575,y=u%d;this._bufferBuilder.append(203),this.pack_int32(h),this.pack_int32(y)}pack_object(e){const o=Object.keys(e),s=o.length;if(s<=15)this.pack_uint8(128+s);else if(s<=65535)this._bufferBuilder.append(222),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(s);else throw new Error("Invalid length");const l=u=>{if(u<o.length){const d=o[u];if(e.hasOwnProperty(d)){this.pack(d);const h=this.pack(e[d]);if(h instanceof Promise)return h.then(()=>l(u+1))}return l(u+1)}};return l(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const o=e&4294967295;this._bufferBuilder.append((o&4278190080)>>>24),this._bufferBuilder.append((o&16711680)>>>16),this._bufferBuilder.append((o&65280)>>>8),this._bufferBuilder.append(o&255)}pack_uint64(e){const o=e/4294967296,s=e%2**32;this._bufferBuilder.append((o&4278190080)>>>24),this._bufferBuilder.append((o&16711680)>>>16),this._bufferBuilder.append((o&65280)>>>8),this._bufferBuilder.append(o&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const o=Math.floor(e/4294967296),s=e%2**32;this._bufferBuilder.append((o&4278190080)>>>24),this._bufferBuilder.append((o&16711680)>>>16),this._bufferBuilder.append((o&65280)>>>8),this._bufferBuilder.append(o&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}constructor(){this._bufferBuilder=new JT,this._textEncoder=new TextEncoder}}let a0=!0,u0=!0;function As(n,e,o){const s=n.match(e);return s&&s.length>=o&&parseFloat(s[o],10)}function Mi(n,e,o){if(!n.RTCPeerConnection)return;const s=n.RTCPeerConnection.prototype,l=s.addEventListener;s.addEventListener=function(d,h){if(d!==e)return l.apply(this,arguments);const y=m=>{const v=o(m);v&&(h.handleEvent?h.handleEvent(v):h(v))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(h,y),l.apply(this,[d,y])};const u=s.removeEventListener;s.removeEventListener=function(d,h){if(d!==e||!this._eventMap||!this._eventMap[e])return u.apply(this,arguments);if(!this._eventMap[e].has(h))return u.apply(this,arguments);const y=this._eventMap[e].get(h);return this._eventMap[e].delete(h),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,u.apply(this,[d,y])},Object.defineProperty(s,"on"+e,{get(){return this["_on"+e]},set(d){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),d&&this.addEventListener(e,this["_on"+e]=d)},enumerable:!0,configurable:!0})}function KT(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):(a0=n,n?"adapter.js logging disabled":"adapter.js logging enabled")}function XT(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):(u0=!n,"adapter.js deprecation warnings "+(n?"disabled":"enabled"))}function c0(){if(typeof window=="object"){if(a0)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Mc(n,e){u0&&console.warn(n+" is deprecated, please use "+e+" instead.")}function ZT(n){const e={browser:null,version:null};if(typeof n>"u"||!n.navigator||!n.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:o}=n;if(o.userAgentData&&o.userAgentData.brands){const s=o.userAgentData.brands.find(l=>l.brand==="Chromium");if(s)return{browser:"chrome",version:parseInt(s.version,10)}}if(o.mozGetUserMedia)e.browser="firefox",e.version=parseInt(As(o.userAgent,/Firefox\/(\d+)\./,1));else if(o.webkitGetUserMedia||n.isSecureContext===!1&&n.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(As(o.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(n.RTCPeerConnection&&o.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(As(o.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=n.RTCRtpTransceiver&&"currentDirection"in n.RTCRtpTransceiver.prototype,e._safariVersion=As(o.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function sm(n){return Object.prototype.toString.call(n)==="[object Object]"}function f0(n){return sm(n)?Object.keys(n).reduce(function(e,o){const s=sm(n[o]),l=s?f0(n[o]):n[o],u=s&&!Object.keys(l).length;return l===void 0||u?e:Object.assign(e,{[o]:l})},{}):n}function tc(n,e,o){!e||o.has(e.id)||(o.set(e.id,e),Object.keys(e).forEach(s=>{s.endsWith("Id")?tc(n,n.get(e[s]),o):s.endsWith("Ids")&&e[s].forEach(l=>{tc(n,n.get(l),o)})}))}function rm(n,e,o){const s=o?"outbound-rtp":"inbound-rtp",l=new Map;if(e===null)return l;const u=[];return n.forEach(d=>{d.type==="track"&&d.trackIdentifier===e.id&&u.push(d)}),u.forEach(d=>{n.forEach(h=>{h.type===s&&h.trackId===d.id&&tc(n,h,l)})}),l}const lm=c0;function d0(n,e){const o=n&&n.navigator;if(!o.mediaDevices)return;const s=function(h){if(typeof h!="object"||h.mandatory||h.optional)return h;const y={};return Object.keys(h).forEach(m=>{if(m==="require"||m==="advanced"||m==="mediaSource")return;const v=typeof h[m]=="object"?h[m]:{ideal:h[m]};v.exact!==void 0&&typeof v.exact=="number"&&(v.min=v.max=v.exact);const _=function(T,E){return T?T+E.charAt(0).toUpperCase()+E.slice(1):E==="deviceId"?"sourceId":E};if(v.ideal!==void 0){y.optional=y.optional||[];let T={};typeof v.ideal=="number"?(T[_("min",m)]=v.ideal,y.optional.push(T),T={},T[_("max",m)]=v.ideal,y.optional.push(T)):(T[_("",m)]=v.ideal,y.optional.push(T))}v.exact!==void 0&&typeof v.exact!="number"?(y.mandatory=y.mandatory||{},y.mandatory[_("",m)]=v.exact):["min","max"].forEach(T=>{v[T]!==void 0&&(y.mandatory=y.mandatory||{},y.mandatory[_(T,m)]=v[T])})}),h.advanced&&(y.optional=(y.optional||[]).concat(h.advanced)),y},l=function(h,y){if(e.version>=61)return y(h);if(h=JSON.parse(JSON.stringify(h)),h&&typeof h.audio=="object"){const m=function(v,_,T){_ in v&&!(T in v)&&(v[T]=v[_],delete v[_])};h=JSON.parse(JSON.stringify(h)),m(h.audio,"autoGainControl","googAutoGainControl"),m(h.audio,"noiseSuppression","googNoiseSuppression"),h.audio=s(h.audio)}if(h&&typeof h.video=="object"){let m=h.video.facingMode;m=m&&(typeof m=="object"?m:{ideal:m});const v=e.version<66;if(m&&(m.exact==="user"||m.exact==="environment"||m.ideal==="user"||m.ideal==="environment")&&!(o.mediaDevices.getSupportedConstraints&&o.mediaDevices.getSupportedConstraints().facingMode&&!v)){delete h.video.facingMode;let _;if(m.exact==="environment"||m.ideal==="environment"?_=["back","rear"]:(m.exact==="user"||m.ideal==="user")&&(_=["front"]),_)return o.mediaDevices.enumerateDevices().then(T=>{T=T.filter(M=>M.kind==="videoinput");let E=T.find(M=>_.some(L=>M.label.toLowerCase().includes(L)));return!E&&T.length&&_.includes("back")&&(E=T[T.length-1]),E&&(h.video.deviceId=m.exact?{exact:E.deviceId}:{ideal:E.deviceId}),h.video=s(h.video),lm("chrome: "+JSON.stringify(h)),y(h)})}h.video=s(h.video)}return lm("chrome: "+JSON.stringify(h)),y(h)},u=function(h){return e.version>=64?h:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[h.name]||h.name,message:h.message,constraint:h.constraint||h.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},d=function(h,y,m){l(h,v=>{o.webkitGetUserMedia(v,y,_=>{m&&m(u(_))})})};if(o.getUserMedia=d.bind(o),o.mediaDevices.getUserMedia){const h=o.mediaDevices.getUserMedia.bind(o.mediaDevices);o.mediaDevices.getUserMedia=function(y){return l(y,m=>h(m).then(v=>{if(m.audio&&!v.getAudioTracks().length||m.video&&!v.getVideoTracks().length)throw v.getTracks().forEach(_=>{_.stop()}),new DOMException("","NotFoundError");return v},v=>Promise.reject(u(v))))}}}function p0(n){n.MediaStream=n.MediaStream||n.webkitMediaStream}function h0(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("ontrack"in n.RTCPeerConnection.prototype)){Object.defineProperty(n.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(o){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=o)},enumerable:!0,configurable:!0});const e=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=s=>{s.stream.addEventListener("addtrack",l=>{let u;n.RTCPeerConnection.prototype.getReceivers?u=this.getReceivers().find(h=>h.track&&h.track.id===l.track.id):u={track:l.track};const d=new Event("track");d.track=l.track,d.receiver=u,d.transceiver={receiver:u},d.streams=[s.stream],this.dispatchEvent(d)}),s.stream.getTracks().forEach(l=>{let u;n.RTCPeerConnection.prototype.getReceivers?u=this.getReceivers().find(h=>h.track&&h.track.id===l.id):u={track:l};const d=new Event("track");d.track=l,d.receiver=u,d.transceiver={receiver:u},d.streams=[s.stream],this.dispatchEvent(d)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else Mi(n,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function m0(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("getSenders"in n.RTCPeerConnection.prototype)&&"createDTMFSender"in n.RTCPeerConnection.prototype){const e=function(l,u){return{track:u,get dtmf(){return this._dtmf===void 0&&(u.kind==="audio"?this._dtmf=l.createDTMFSender(u):this._dtmf=null),this._dtmf},_pc:l}};if(!n.RTCPeerConnection.prototype.getSenders){n.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const l=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(h,y){let m=l.apply(this,arguments);return m||(m=e(this,h),this._senders.push(m)),m};const u=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(h){u.apply(this,arguments);const y=this._senders.indexOf(h);y!==-1&&this._senders.splice(y,1)}}const o=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(u){this._senders=this._senders||[],o.apply(this,[u]),u.getTracks().forEach(d=>{this._senders.push(e(this,d))})};const s=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(u){this._senders=this._senders||[],s.apply(this,[u]),u.getTracks().forEach(d=>{const h=this._senders.find(y=>y.track===d);h&&this._senders.splice(this._senders.indexOf(h),1)})}}else if(typeof n=="object"&&n.RTCPeerConnection&&"getSenders"in n.RTCPeerConnection.prototype&&"createDTMFSender"in n.RTCPeerConnection.prototype&&n.RTCRtpSender&&!("dtmf"in n.RTCRtpSender.prototype)){const e=n.RTCPeerConnection.prototype.getSenders;n.RTCPeerConnection.prototype.getSenders=function(){const s=e.apply(this,[]);return s.forEach(l=>l._pc=this),s},Object.defineProperty(n.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function g0(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender&&n.RTCRtpReceiver))return;if(!("getStats"in n.RTCRtpSender.prototype)){const o=n.RTCPeerConnection.prototype.getSenders;o&&(n.RTCPeerConnection.prototype.getSenders=function(){const u=o.apply(this,[]);return u.forEach(d=>d._pc=this),u});const s=n.RTCPeerConnection.prototype.addTrack;s&&(n.RTCPeerConnection.prototype.addTrack=function(){const u=s.apply(this,arguments);return u._pc=this,u}),n.RTCRtpSender.prototype.getStats=function(){const u=this;return this._pc.getStats().then(d=>rm(d,u.track,!0))}}if(!("getStats"in n.RTCRtpReceiver.prototype)){const o=n.RTCPeerConnection.prototype.getReceivers;o&&(n.RTCPeerConnection.prototype.getReceivers=function(){const l=o.apply(this,[]);return l.forEach(u=>u._pc=this),l}),Mi(n,"track",s=>(s.receiver._pc=s.srcElement,s)),n.RTCRtpReceiver.prototype.getStats=function(){const l=this;return this._pc.getStats().then(u=>rm(u,l.track,!1))}}if(!("getStats"in n.RTCRtpSender.prototype&&"getStats"in n.RTCRtpReceiver.prototype))return;const e=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof n.MediaStreamTrack){const s=arguments[0];let l,u,d;return this.getSenders().forEach(h=>{h.track===s&&(l?d=!0:l=h)}),this.getReceivers().forEach(h=>(h.track===s&&(u?d=!0:u=h),h.track===s)),d||l&&u?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):l?l.getStats():u?u.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function y0(n){n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(d=>this._shimmedLocalStreams[d][0])};const e=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(d,h){if(!h)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const y=e.apply(this,arguments);return this._shimmedLocalStreams[h.id]?this._shimmedLocalStreams[h.id].indexOf(y)===-1&&this._shimmedLocalStreams[h.id].push(y):this._shimmedLocalStreams[h.id]=[h,y],y};const o=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(d){this._shimmedLocalStreams=this._shimmedLocalStreams||{},d.getTracks().forEach(m=>{if(this.getSenders().find(_=>_.track===m))throw new DOMException("Track already exists.","InvalidAccessError")});const h=this.getSenders();o.apply(this,arguments);const y=this.getSenders().filter(m=>h.indexOf(m)===-1);this._shimmedLocalStreams[d.id]=[d].concat(y)};const s=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(d){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[d.id],s.apply(this,arguments)};const l=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(d){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},d&&Object.keys(this._shimmedLocalStreams).forEach(h=>{const y=this._shimmedLocalStreams[h].indexOf(d);y!==-1&&this._shimmedLocalStreams[h].splice(y,1),this._shimmedLocalStreams[h].length===1&&delete this._shimmedLocalStreams[h]}),l.apply(this,arguments)}}function v0(n,e){if(!n.RTCPeerConnection)return;if(n.RTCPeerConnection.prototype.addTrack&&e.version>=65)return y0(n);const o=n.RTCPeerConnection.prototype.getLocalStreams;n.RTCPeerConnection.prototype.getLocalStreams=function(){const v=o.apply(this);return this._reverseStreams=this._reverseStreams||{},v.map(_=>this._reverseStreams[_.id])};const s=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(v){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},v.getTracks().forEach(_=>{if(this.getSenders().find(E=>E.track===_))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[v.id]){const _=new n.MediaStream(v.getTracks());this._streams[v.id]=_,this._reverseStreams[_.id]=v,v=_}s.apply(this,[v])};const l=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(v){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},l.apply(this,[this._streams[v.id]||v]),delete this._reverseStreams[this._streams[v.id]?this._streams[v.id].id:v.id],delete this._streams[v.id]},n.RTCPeerConnection.prototype.addTrack=function(v,_){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const T=[].slice.call(arguments,1);if(T.length!==1||!T[0].getTracks().find(L=>L===v))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(L=>L.track===v))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const M=this._streams[_.id];if(M)M.addTrack(v),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const L=new n.MediaStream([v]);this._streams[_.id]=L,this._reverseStreams[L.id]=_,this.addStream(L)}return this.getSenders().find(L=>L.track===v)};function u(m,v){let _=v.sdp;return Object.keys(m._reverseStreams||[]).forEach(T=>{const E=m._reverseStreams[T],M=m._streams[E.id];_=_.replace(new RegExp(M.id,"g"),E.id)}),new RTCSessionDescription({type:v.type,sdp:_})}function d(m,v){let _=v.sdp;return Object.keys(m._reverseStreams||[]).forEach(T=>{const E=m._reverseStreams[T],M=m._streams[E.id];_=_.replace(new RegExp(E.id,"g"),M.id)}),new RTCSessionDescription({type:v.type,sdp:_})}["createOffer","createAnswer"].forEach(function(m){const v=n.RTCPeerConnection.prototype[m],_={[m](){const T=arguments;return arguments.length&&typeof arguments[0]=="function"?v.apply(this,[M=>{const L=u(this,M);T[0].apply(null,[L])},M=>{T[1]&&T[1].apply(null,M)},arguments[2]]):v.apply(this,arguments).then(M=>u(this,M))}};n.RTCPeerConnection.prototype[m]=_[m]});const h=n.RTCPeerConnection.prototype.setLocalDescription;n.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?h.apply(this,arguments):(arguments[0]=d(this,arguments[0]),h.apply(this,arguments))};const y=Object.getOwnPropertyDescriptor(n.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(n.RTCPeerConnection.prototype,"localDescription",{get(){const m=y.get.apply(this);return m.type===""?m:u(this,m)}}),n.RTCPeerConnection.prototype.removeTrack=function(v){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!v._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(v._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let T;Object.keys(this._streams).forEach(E=>{this._streams[E].getTracks().find(L=>v.track===L)&&(T=this._streams[E])}),T&&(T.getTracks().length===1?this.removeStream(this._reverseStreams[T.id]):T.removeTrack(v.track),this.dispatchEvent(new Event("negotiationneeded")))}}function nc(n,e){!n.RTCPeerConnection&&n.webkitRTCPeerConnection&&(n.RTCPeerConnection=n.webkitRTCPeerConnection),n.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(o){const s=n.RTCPeerConnection.prototype[o],l={[o](){return arguments[0]=new(o==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};n.RTCPeerConnection.prototype[o]=l[o]})}function _0(n,e){Mi(n,"negotiationneeded",o=>{const s=o.target;if(!((e.version<72||s.getConfiguration&&s.getConfiguration().sdpSemantics==="plan-b")&&s.signalingState!=="stable"))return o})}const am=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:_0,shimAddTrackRemoveTrack:v0,shimAddTrackRemoveTrackWithNative:y0,shimGetSendersWithDtmf:m0,shimGetUserMedia:d0,shimMediaStream:p0,shimOnTrack:h0,shimPeerConnection:nc,shimSenderReceiverGetStats:g0},Symbol.toStringTag,{value:"Module"}));function S0(n,e){const o=n&&n.navigator,s=n&&n.MediaStreamTrack;if(o.getUserMedia=function(l,u,d){Mc("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),o.mediaDevices.getUserMedia(l).then(u,d)},!(e.version>55&&"autoGainControl"in o.mediaDevices.getSupportedConstraints())){const l=function(d,h,y){h in d&&!(y in d)&&(d[y]=d[h],delete d[h])},u=o.mediaDevices.getUserMedia.bind(o.mediaDevices);if(o.mediaDevices.getUserMedia=function(d){return typeof d=="object"&&typeof d.audio=="object"&&(d=JSON.parse(JSON.stringify(d)),l(d.audio,"autoGainControl","mozAutoGainControl"),l(d.audio,"noiseSuppression","mozNoiseSuppression")),u(d)},s&&s.prototype.getSettings){const d=s.prototype.getSettings;s.prototype.getSettings=function(){const h=d.apply(this,arguments);return l(h,"mozAutoGainControl","autoGainControl"),l(h,"mozNoiseSuppression","noiseSuppression"),h}}if(s&&s.prototype.applyConstraints){const d=s.prototype.applyConstraints;s.prototype.applyConstraints=function(h){return this.kind==="audio"&&typeof h=="object"&&(h=JSON.parse(JSON.stringify(h)),l(h,"autoGainControl","mozAutoGainControl"),l(h,"noiseSuppression","mozNoiseSuppression")),d.apply(this,[h])}}}}function WT(n,e){n.navigator.mediaDevices&&"getDisplayMedia"in n.navigator.mediaDevices||n.navigator.mediaDevices&&(n.navigator.mediaDevices.getDisplayMedia=function(s){if(!(s&&s.video)){const l=new DOMException("getDisplayMedia without video constraints is undefined");return l.name="NotFoundError",l.code=8,Promise.reject(l)}return s.video===!0?s.video={mediaSource:e}:s.video.mediaSource=e,n.navigator.mediaDevices.getUserMedia(s)})}function T0(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function ic(n,e){if(typeof n!="object"||!(n.RTCPeerConnection||n.mozRTCPeerConnection))return;!n.RTCPeerConnection&&n.mozRTCPeerConnection&&(n.RTCPeerConnection=n.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(l){const u=n.RTCPeerConnection.prototype[l],d={[l](){return arguments[0]=new(l==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),u.apply(this,arguments)}};n.RTCPeerConnection.prototype[l]=d[l]});const o={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},s=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){const[u,d,h]=arguments;return s.apply(this,[u||null]).then(y=>{if(e.version<53&&!d)try{y.forEach(m=>{m.type=o[m.type]||m.type})}catch(m){if(m.name!=="TypeError")throw m;y.forEach((v,_)=>{y.set(_,Object.assign({},v,{type:o[v.type]||v.type}))})}return y}).then(d,h)}}function C0(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender)||n.RTCRtpSender&&"getStats"in n.RTCRtpSender.prototype)return;const e=n.RTCPeerConnection.prototype.getSenders;e&&(n.RTCPeerConnection.prototype.getSenders=function(){const l=e.apply(this,[]);return l.forEach(u=>u._pc=this),l});const o=n.RTCPeerConnection.prototype.addTrack;o&&(n.RTCPeerConnection.prototype.addTrack=function(){const l=o.apply(this,arguments);return l._pc=this,l}),n.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function x0(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender)||n.RTCRtpSender&&"getStats"in n.RTCRtpReceiver.prototype)return;const e=n.RTCPeerConnection.prototype.getReceivers;e&&(n.RTCPeerConnection.prototype.getReceivers=function(){const s=e.apply(this,[]);return s.forEach(l=>l._pc=this),s}),Mi(n,"track",o=>(o.receiver._pc=o.srcElement,o)),n.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function E0(n){!n.RTCPeerConnection||"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(o){Mc("removeStream","removeTrack"),this.getSenders().forEach(s=>{s.track&&o.getTracks().includes(s.track)&&this.removeTrack(s)})})}function b0(n){n.DataChannel&&!n.RTCDataChannel&&(n.RTCDataChannel=n.DataChannel)}function A0(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.addTransceiver;e&&(n.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let s=arguments[1]&&arguments[1].sendEncodings;s===void 0&&(s=[]),s=[...s];const l=s.length>0;l&&s.forEach(d=>{if("rid"in d&&!/^[a-z0-9]{0,16}$/i.test(d.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in d&&!(parseFloat(d.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in d&&!(parseFloat(d.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const u=e.apply(this,arguments);if(l){const{sender:d}=u,h=d.getParameters();(!("encodings"in h)||h.encodings.length===1&&Object.keys(h.encodings[0]).length===0)&&(h.encodings=s,d.sendEncodings=s,this.setParametersPromises.push(d.setParameters(h).then(()=>{delete d.sendEncodings}).catch(()=>{delete d.sendEncodings})))}return u})}function R0(n){if(!(typeof n=="object"&&n.RTCRtpSender))return;const e=n.RTCRtpSender.prototype.getParameters;e&&(n.RTCRtpSender.prototype.getParameters=function(){const s=e.apply(this,arguments);return"encodings"in s||(s.encodings=[].concat(this.sendEncodings||[{}])),s})}function N0(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function M0(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.createAnswer;n.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const um=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:A0,shimCreateAnswer:M0,shimCreateOffer:N0,shimGetDisplayMedia:WT,shimGetParameters:R0,shimGetUserMedia:S0,shimOnTrack:T0,shimPeerConnection:ic,shimRTCDataChannel:b0,shimReceiverGetStats:x0,shimRemoveStream:E0,shimSenderGetStats:C0},Symbol.toStringTag,{value:"Module"}));function I0(n){if(!(typeof n!="object"||!n.RTCPeerConnection)){if("getLocalStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in n.RTCPeerConnection.prototype)){const e=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addStream=function(s){this._localStreams||(this._localStreams=[]),this._localStreams.includes(s)||this._localStreams.push(s),s.getAudioTracks().forEach(l=>e.call(this,l,s)),s.getVideoTracks().forEach(l=>e.call(this,l,s))},n.RTCPeerConnection.prototype.addTrack=function(s,...l){return l&&l.forEach(u=>{this._localStreams?this._localStreams.includes(u)||this._localStreams.push(u):this._localStreams=[u]}),e.apply(this,arguments)}}"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(o){this._localStreams||(this._localStreams=[]);const s=this._localStreams.indexOf(o);if(s===-1)return;this._localStreams.splice(s,1);const l=o.getTracks();this.getSenders().forEach(u=>{l.includes(u.track)&&this.removeTrack(u)})})}}function D0(n){if(!(typeof n!="object"||!n.RTCPeerConnection)&&("getRemoteStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in n.RTCPeerConnection.prototype))){Object.defineProperty(n.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(o){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=o),this.addEventListener("track",this._onaddstreampoly=s=>{s.streams.forEach(l=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(l))return;this._remoteStreams.push(l);const u=new Event("addstream");u.stream=l,this.dispatchEvent(u)})})}});const e=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){const s=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(l){l.streams.forEach(u=>{if(s._remoteStreams||(s._remoteStreams=[]),s._remoteStreams.indexOf(u)>=0)return;s._remoteStreams.push(u);const d=new Event("addstream");d.stream=u,s.dispatchEvent(d)})}),e.apply(s,arguments)}}}function k0(n){if(typeof n!="object"||!n.RTCPeerConnection)return;const e=n.RTCPeerConnection.prototype,o=e.createOffer,s=e.createAnswer,l=e.setLocalDescription,u=e.setRemoteDescription,d=e.addIceCandidate;e.createOffer=function(m,v){const _=arguments.length>=2?arguments[2]:arguments[0],T=o.apply(this,[_]);return v?(T.then(m,v),Promise.resolve()):T},e.createAnswer=function(m,v){const _=arguments.length>=2?arguments[2]:arguments[0],T=s.apply(this,[_]);return v?(T.then(m,v),Promise.resolve()):T};let h=function(y,m,v){const _=l.apply(this,[y]);return v?(_.then(m,v),Promise.resolve()):_};e.setLocalDescription=h,h=function(y,m,v){const _=u.apply(this,[y]);return v?(_.then(m,v),Promise.resolve()):_},e.setRemoteDescription=h,h=function(y,m,v){const _=d.apply(this,[y]);return v?(_.then(m,v),Promise.resolve()):_},e.addIceCandidate=h}function w0(n){const e=n&&n.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const o=e.mediaDevices,s=o.getUserMedia.bind(o);e.mediaDevices.getUserMedia=l=>s(U0(l))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(s,l,u){e.mediaDevices.getUserMedia(s).then(l,u)}).bind(e))}function U0(n){return n&&n.video!==void 0?Object.assign({},n,{video:f0(n.video)}):n}function L0(n){if(!n.RTCPeerConnection)return;const e=n.RTCPeerConnection;n.RTCPeerConnection=function(s,l){if(s&&s.iceServers){const u=[];for(let d=0;d<s.iceServers.length;d++){let h=s.iceServers[d];h.urls===void 0&&h.url?(Mc("RTCIceServer.url","RTCIceServer.urls"),h=JSON.parse(JSON.stringify(h)),h.urls=h.url,delete h.url,u.push(h)):u.push(s.iceServers[d])}s.iceServers=u}return new e(s,l)},n.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(n.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function P0(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function O0(n){const e=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(s){if(s){typeof s.offerToReceiveAudio<"u"&&(s.offerToReceiveAudio=!!s.offerToReceiveAudio);const l=this.getTransceivers().find(d=>d.receiver.track.kind==="audio");s.offerToReceiveAudio===!1&&l?l.direction==="sendrecv"?l.setDirection?l.setDirection("sendonly"):l.direction="sendonly":l.direction==="recvonly"&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive"):s.offerToReceiveAudio===!0&&!l&&this.addTransceiver("audio",{direction:"recvonly"}),typeof s.offerToReceiveVideo<"u"&&(s.offerToReceiveVideo=!!s.offerToReceiveVideo);const u=this.getTransceivers().find(d=>d.receiver.track.kind==="video");s.offerToReceiveVideo===!1&&u?u.direction==="sendrecv"?u.setDirection?u.setDirection("sendonly"):u.direction="sendonly":u.direction==="recvonly"&&(u.setDirection?u.setDirection("inactive"):u.direction="inactive"):s.offerToReceiveVideo===!0&&!u&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function G0(n){typeof n!="object"||n.AudioContext||(n.AudioContext=n.webkitAudioContext)}const cm=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:G0,shimCallbacksAPI:k0,shimConstraints:U0,shimCreateOfferLegacy:O0,shimGetUserMedia:w0,shimLocalStreamsAPI:I0,shimRTCIceServerUrls:L0,shimRemoteStreamsAPI:D0,shimTrackEventTransceiver:P0},Symbol.toStringTag,{value:"Module"}));var $u={exports:{}},fm;function jT(){return fm||(fm=1,(function(n){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(o){return o.trim().split(`
`).map(s=>s.trim())},e.splitSections=function(o){return o.split(`
m=`).map((l,u)=>(u>0?"m="+l:l).trim()+`\r
`)},e.getDescription=function(o){const s=e.splitSections(o);return s&&s[0]},e.getMediaSections=function(o){const s=e.splitSections(o);return s.shift(),s},e.matchPrefix=function(o,s){return e.splitLines(o).filter(l=>l.indexOf(s)===0)},e.parseCandidate=function(o){let s;o.indexOf("a=candidate:")===0?s=o.substring(12).split(" "):s=o.substring(10).split(" ");const l={foundation:s[0],component:{1:"rtp",2:"rtcp"}[s[1]]||s[1],protocol:s[2].toLowerCase(),priority:parseInt(s[3],10),ip:s[4],address:s[4],port:parseInt(s[5],10),type:s[7]};for(let u=8;u<s.length;u+=2)switch(s[u]){case"raddr":l.relatedAddress=s[u+1];break;case"rport":l.relatedPort=parseInt(s[u+1],10);break;case"tcptype":l.tcpType=s[u+1];break;case"ufrag":l.ufrag=s[u+1],l.usernameFragment=s[u+1];break;default:l[s[u]]===void 0&&(l[s[u]]=s[u+1]);break}return l},e.writeCandidate=function(o){const s=[];s.push(o.foundation);const l=o.component;l==="rtp"?s.push(1):l==="rtcp"?s.push(2):s.push(l),s.push(o.protocol.toUpperCase()),s.push(o.priority),s.push(o.address||o.ip),s.push(o.port);const u=o.type;return s.push("typ"),s.push(u),u!=="host"&&o.relatedAddress&&o.relatedPort&&(s.push("raddr"),s.push(o.relatedAddress),s.push("rport"),s.push(o.relatedPort)),o.tcpType&&o.protocol.toLowerCase()==="tcp"&&(s.push("tcptype"),s.push(o.tcpType)),(o.usernameFragment||o.ufrag)&&(s.push("ufrag"),s.push(o.usernameFragment||o.ufrag)),"candidate:"+s.join(" ")},e.parseIceOptions=function(o){return o.substring(14).split(" ")},e.parseRtpMap=function(o){let s=o.substring(9).split(" ");const l={payloadType:parseInt(s.shift(),10)};return s=s[0].split("/"),l.name=s[0],l.clockRate=parseInt(s[1],10),l.channels=s.length===3?parseInt(s[2],10):1,l.numChannels=l.channels,l},e.writeRtpMap=function(o){let s=o.payloadType;o.preferredPayloadType!==void 0&&(s=o.preferredPayloadType);const l=o.channels||o.numChannels||1;return"a=rtpmap:"+s+" "+o.name+"/"+o.clockRate+(l!==1?"/"+l:"")+`\r
`},e.parseExtmap=function(o){const s=o.substring(9).split(" ");return{id:parseInt(s[0],10),direction:s[0].indexOf("/")>0?s[0].split("/")[1]:"sendrecv",uri:s[1],attributes:s.slice(2).join(" ")}},e.writeExtmap=function(o){return"a=extmap:"+(o.id||o.preferredId)+(o.direction&&o.direction!=="sendrecv"?"/"+o.direction:"")+" "+o.uri+(o.attributes?" "+o.attributes:"")+`\r
`},e.parseFmtp=function(o){const s={};let l;const u=o.substring(o.indexOf(" ")+1).split(";");for(let d=0;d<u.length;d++)l=u[d].trim().split("="),s[l[0].trim()]=l[1];return s},e.writeFmtp=function(o){let s="",l=o.payloadType;if(o.preferredPayloadType!==void 0&&(l=o.preferredPayloadType),o.parameters&&Object.keys(o.parameters).length){const u=[];Object.keys(o.parameters).forEach(d=>{o.parameters[d]!==void 0?u.push(d+"="+o.parameters[d]):u.push(d)}),s+="a=fmtp:"+l+" "+u.join(";")+`\r
`}return s},e.parseRtcpFb=function(o){const s=o.substring(o.indexOf(" ")+1).split(" ");return{type:s.shift(),parameter:s.join(" ")}},e.writeRtcpFb=function(o){let s="",l=o.payloadType;return o.preferredPayloadType!==void 0&&(l=o.preferredPayloadType),o.rtcpFeedback&&o.rtcpFeedback.length&&o.rtcpFeedback.forEach(u=>{s+="a=rtcp-fb:"+l+" "+u.type+(u.parameter&&u.parameter.length?" "+u.parameter:"")+`\r
`}),s},e.parseSsrcMedia=function(o){const s=o.indexOf(" "),l={ssrc:parseInt(o.substring(7,s),10)},u=o.indexOf(":",s);return u>-1?(l.attribute=o.substring(s+1,u),l.value=o.substring(u+1)):l.attribute=o.substring(s+1),l},e.parseSsrcGroup=function(o){const s=o.substring(13).split(" ");return{semantics:s.shift(),ssrcs:s.map(l=>parseInt(l,10))}},e.getMid=function(o){const s=e.matchPrefix(o,"a=mid:")[0];if(s)return s.substring(6)},e.parseFingerprint=function(o){const s=o.substring(14).split(" ");return{algorithm:s[0].toLowerCase(),value:s[1].toUpperCase()}},e.getDtlsParameters=function(o,s){return{role:"auto",fingerprints:e.matchPrefix(o+s,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(o,s){let l="a=setup:"+s+`\r
`;return o.fingerprints.forEach(u=>{l+="a=fingerprint:"+u.algorithm+" "+u.value+`\r
`}),l},e.parseCryptoLine=function(o){const s=o.substring(9).split(" ");return{tag:parseInt(s[0],10),cryptoSuite:s[1],keyParams:s[2],sessionParams:s.slice(3)}},e.writeCryptoLine=function(o){return"a=crypto:"+o.tag+" "+o.cryptoSuite+" "+(typeof o.keyParams=="object"?e.writeCryptoKeyParams(o.keyParams):o.keyParams)+(o.sessionParams?" "+o.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(o){if(o.indexOf("inline:")!==0)return null;const s=o.substring(7).split("|");return{keyMethod:"inline",keySalt:s[0],lifeTime:s[1],mkiValue:s[2]?s[2].split(":")[0]:void 0,mkiLength:s[2]?s[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(o){return o.keyMethod+":"+o.keySalt+(o.lifeTime?"|"+o.lifeTime:"")+(o.mkiValue&&o.mkiLength?"|"+o.mkiValue+":"+o.mkiLength:"")},e.getCryptoParameters=function(o,s){return e.matchPrefix(o+s,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(o,s){const l=e.matchPrefix(o+s,"a=ice-ufrag:")[0],u=e.matchPrefix(o+s,"a=ice-pwd:")[0];return l&&u?{usernameFragment:l.substring(12),password:u.substring(10)}:null},e.writeIceParameters=function(o){let s="a=ice-ufrag:"+o.usernameFragment+`\r
a=ice-pwd:`+o.password+`\r
`;return o.iceLite&&(s+=`a=ice-lite\r
`),s},e.parseRtpParameters=function(o){const s={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},u=e.splitLines(o)[0].split(" ");s.profile=u[2];for(let h=3;h<u.length;h++){const y=u[h],m=e.matchPrefix(o,"a=rtpmap:"+y+" ")[0];if(m){const v=e.parseRtpMap(m),_=e.matchPrefix(o,"a=fmtp:"+y+" ");switch(v.parameters=_.length?e.parseFmtp(_[0]):{},v.rtcpFeedback=e.matchPrefix(o,"a=rtcp-fb:"+y+" ").map(e.parseRtcpFb),s.codecs.push(v),v.name.toUpperCase()){case"RED":case"ULPFEC":s.fecMechanisms.push(v.name.toUpperCase());break}}}e.matchPrefix(o,"a=extmap:").forEach(h=>{s.headerExtensions.push(e.parseExtmap(h))});const d=e.matchPrefix(o,"a=rtcp-fb:* ").map(e.parseRtcpFb);return s.codecs.forEach(h=>{d.forEach(y=>{h.rtcpFeedback.find(v=>v.type===y.type&&v.parameter===y.parameter)||h.rtcpFeedback.push(y)})}),s},e.writeRtpDescription=function(o,s){let l="";l+="m="+o+" ",l+=s.codecs.length>0?"9":"0",l+=" "+(s.profile||"UDP/TLS/RTP/SAVPF")+" ",l+=s.codecs.map(d=>d.preferredPayloadType!==void 0?d.preferredPayloadType:d.payloadType).join(" ")+`\r
`,l+=`c=IN IP4 0.0.0.0\r
`,l+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,s.codecs.forEach(d=>{l+=e.writeRtpMap(d),l+=e.writeFmtp(d),l+=e.writeRtcpFb(d)});let u=0;return s.codecs.forEach(d=>{d.maxptime>u&&(u=d.maxptime)}),u>0&&(l+="a=maxptime:"+u+`\r
`),s.headerExtensions&&s.headerExtensions.forEach(d=>{l+=e.writeExtmap(d)}),l},e.parseRtpEncodingParameters=function(o){const s=[],l=e.parseRtpParameters(o),u=l.fecMechanisms.indexOf("RED")!==-1,d=l.fecMechanisms.indexOf("ULPFEC")!==-1,h=e.matchPrefix(o,"a=ssrc:").map(T=>e.parseSsrcMedia(T)).filter(T=>T.attribute==="cname"),y=h.length>0&&h[0].ssrc;let m;const v=e.matchPrefix(o,"a=ssrc-group:FID").map(T=>T.substring(17).split(" ").map(M=>parseInt(M,10)));v.length>0&&v[0].length>1&&v[0][0]===y&&(m=v[0][1]),l.codecs.forEach(T=>{if(T.name.toUpperCase()==="RTX"&&T.parameters.apt){let E={ssrc:y,codecPayloadType:parseInt(T.parameters.apt,10)};y&&m&&(E.rtx={ssrc:m}),s.push(E),u&&(E=JSON.parse(JSON.stringify(E)),E.fec={ssrc:y,mechanism:d?"red+ulpfec":"red"},s.push(E))}}),s.length===0&&y&&s.push({ssrc:y});let _=e.matchPrefix(o,"b=");return _.length&&(_[0].indexOf("b=TIAS:")===0?_=parseInt(_[0].substring(7),10):_[0].indexOf("b=AS:")===0?_=parseInt(_[0].substring(5),10)*1e3*.95-2e3*8:_=void 0,s.forEach(T=>{T.maxBitrate=_})),s},e.parseRtcpParameters=function(o){const s={},l=e.matchPrefix(o,"a=ssrc:").map(h=>e.parseSsrcMedia(h)).filter(h=>h.attribute==="cname")[0];l&&(s.cname=l.value,s.ssrc=l.ssrc);const u=e.matchPrefix(o,"a=rtcp-rsize");s.reducedSize=u.length>0,s.compound=u.length===0;const d=e.matchPrefix(o,"a=rtcp-mux");return s.mux=d.length>0,s},e.writeRtcpParameters=function(o){let s="";return o.reducedSize&&(s+=`a=rtcp-rsize\r
`),o.mux&&(s+=`a=rtcp-mux\r
`),o.ssrc!==void 0&&o.cname&&(s+="a=ssrc:"+o.ssrc+" cname:"+o.cname+`\r
`),s},e.parseMsid=function(o){let s;const l=e.matchPrefix(o,"a=msid:");if(l.length===1)return s=l[0].substring(7).split(" "),{stream:s[0],track:s[1]};const u=e.matchPrefix(o,"a=ssrc:").map(d=>e.parseSsrcMedia(d)).filter(d=>d.attribute==="msid");if(u.length>0)return s=u[0].value.split(" "),{stream:s[0],track:s[1]}},e.parseSctpDescription=function(o){const s=e.parseMLine(o),l=e.matchPrefix(o,"a=max-message-size:");let u;l.length>0&&(u=parseInt(l[0].substring(19),10)),isNaN(u)&&(u=65536);const d=e.matchPrefix(o,"a=sctp-port:");if(d.length>0)return{port:parseInt(d[0].substring(12),10),protocol:s.fmt,maxMessageSize:u};const h=e.matchPrefix(o,"a=sctpmap:");if(h.length>0){const y=h[0].substring(10).split(" ");return{port:parseInt(y[0],10),protocol:y[1],maxMessageSize:u}}},e.writeSctpDescription=function(o,s){let l=[];return o.protocol!=="DTLS/SCTP"?l=["m="+o.kind+" 9 "+o.protocol+" "+s.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+s.port+`\r
`]:l=["m="+o.kind+" 9 "+o.protocol+" "+s.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+s.port+" "+s.protocol+` 65535\r
`],s.maxMessageSize!==void 0&&l.push("a=max-message-size:"+s.maxMessageSize+`\r
`),l.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(o,s,l){let u;const d=s!==void 0?s:2;return o?u=o:u=e.generateSessionId(),`v=0\r
o=`+(l||"thisisadapterortc")+" "+u+" "+d+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(o,s){const l=e.splitLines(o);for(let u=0;u<l.length;u++)switch(l[u]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return l[u].substring(2)}return s?e.getDirection(s):"sendrecv"},e.getKind=function(o){return e.splitLines(o)[0].split(" ")[0].substring(2)},e.isRejected=function(o){return o.split(" ",2)[1]==="0"},e.parseMLine=function(o){const l=e.splitLines(o)[0].substring(2).split(" ");return{kind:l[0],port:parseInt(l[1],10),protocol:l[2],fmt:l.slice(3).join(" ")}},e.parseOLine=function(o){const l=e.matchPrefix(o,"o=")[0].substring(2).split(" ");return{username:l[0],sessionId:l[1],sessionVersion:parseInt(l[2],10),netType:l[3],addressType:l[4],address:l[5]}},e.isValidSDP=function(o){if(typeof o!="string"||o.length===0)return!1;const s=e.splitLines(o);for(let l=0;l<s.length;l++)if(s[l].length<2||s[l].charAt(1)!=="=")return!1;return!0},n.exports=e})($u)),$u.exports}var z0=jT();const To=jg(z0),eC=fS({__proto__:null,default:To},[z0]);function el(n){if(!n.RTCIceCandidate||n.RTCIceCandidate&&"foundation"in n.RTCIceCandidate.prototype)return;const e=n.RTCIceCandidate;n.RTCIceCandidate=function(s){if(typeof s=="object"&&s.candidate&&s.candidate.indexOf("a=")===0&&(s=JSON.parse(JSON.stringify(s)),s.candidate=s.candidate.substring(2)),s.candidate&&s.candidate.length){const l=new e(s),u=To.parseCandidate(s.candidate);for(const d in u)d in l||Object.defineProperty(l,d,{value:u[d]});return l.toJSON=function(){return{candidate:l.candidate,sdpMid:l.sdpMid,sdpMLineIndex:l.sdpMLineIndex,usernameFragment:l.usernameFragment}},l}return new e(s)},n.RTCIceCandidate.prototype=e.prototype,Mi(n,"icecandidate",o=>(o.candidate&&Object.defineProperty(o,"candidate",{value:new n.RTCIceCandidate(o.candidate),writable:"false"}),o))}function oc(n){!n.RTCIceCandidate||n.RTCIceCandidate&&"relayProtocol"in n.RTCIceCandidate.prototype||Mi(n,"icecandidate",e=>{if(e.candidate){const o=To.parseCandidate(e.candidate.candidate);o.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[o.priority>>24])}return e})}function tl(n,e){if(!n.RTCPeerConnection)return;"sctp"in n.RTCPeerConnection.prototype||Object.defineProperty(n.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const o=function(h){if(!h||!h.sdp)return!1;const y=To.splitSections(h.sdp);return y.shift(),y.some(m=>{const v=To.parseMLine(m);return v&&v.kind==="application"&&v.protocol.indexOf("SCTP")!==-1})},s=function(h){const y=h.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(y===null||y.length<2)return-1;const m=parseInt(y[1],10);return m!==m?-1:m},l=function(h){let y=65536;return e.browser==="firefox"&&(e.version<57?h===-1?y=16384:y=2147483637:e.version<60?y=e.version===57?65535:65536:y=2147483637),y},u=function(h,y){let m=65536;e.browser==="firefox"&&e.version===57&&(m=65535);const v=To.matchPrefix(h.sdp,"a=max-message-size:");return v.length>0?m=parseInt(v[0].substring(19),10):e.browser==="firefox"&&y!==-1&&(m=2147483637),m},d=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:y}=this.getConfiguration();y==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(o(arguments[0])){const y=s(arguments[0]),m=l(y),v=u(arguments[0],y);let _;m===0&&v===0?_=Number.POSITIVE_INFINITY:m===0||v===0?_=Math.max(m,v):_=Math.min(m,v);const T={};Object.defineProperty(T,"maxMessageSize",{get(){return _}}),this._sctp=T}return d.apply(this,arguments)}}function nl(n){if(!(n.RTCPeerConnection&&"createDataChannel"in n.RTCPeerConnection.prototype))return;function e(s,l){const u=s.send;s.send=function(){const h=arguments[0],y=h.length||h.size||h.byteLength;if(s.readyState==="open"&&l.sctp&&y>l.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+l.sctp.maxMessageSize+" bytes)");return u.apply(s,arguments)}}const o=n.RTCPeerConnection.prototype.createDataChannel;n.RTCPeerConnection.prototype.createDataChannel=function(){const l=o.apply(this,arguments);return e(l,this),l},Mi(n,"datachannel",s=>(e(s.channel,s.target),s))}function sc(n){if(!n.RTCPeerConnection||"connectionState"in n.RTCPeerConnection.prototype)return;const e=n.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(o){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),o&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=o)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(o=>{const s=e[o];e[o]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=l=>{const u=l.target;if(u._lastConnectionState!==u.connectionState){u._lastConnectionState=u.connectionState;const d=new Event("connectionstatechange",l);u.dispatchEvent(d)}return l},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),s.apply(this,arguments)}})}function rc(n,e){if(!n.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const o=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(l){if(l&&l.sdp&&l.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const u=l.sdp.split(`
`).filter(d=>d.trim()!=="a=extmap-allow-mixed").join(`
`);n.RTCSessionDescription&&l instanceof n.RTCSessionDescription?arguments[0]=new n.RTCSessionDescription({type:l.type,sdp:u}):l.sdp=u}return o.apply(this,arguments)}}function il(n,e){if(!(n.RTCPeerConnection&&n.RTCPeerConnection.prototype))return;const o=n.RTCPeerConnection.prototype.addIceCandidate;!o||o.length===0||(n.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():o.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function ol(n,e){if(!(n.RTCPeerConnection&&n.RTCPeerConnection.prototype))return;const o=n.RTCPeerConnection.prototype.setLocalDescription;!o||o.length===0||(n.RTCPeerConnection.prototype.setLocalDescription=function(){let l=arguments[0]||{};if(typeof l!="object"||l.type&&l.sdp)return o.apply(this,arguments);if(l={type:l.type,sdp:l.sdp},!l.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":l.type="offer";break;default:l.type="answer";break}return l.sdp||l.type!=="offer"&&l.type!=="answer"?o.apply(this,[l]):(l.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(d=>o.apply(this,[d]))})}const tC=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:rc,shimAddIceCandidateNullOrEmpty:il,shimConnectionState:sc,shimMaxMessageSize:tl,shimParameterlessSetLocalDescription:ol,shimRTCIceCandidate:el,shimRTCIceCandidateRelayProtocol:oc,shimSendThrowTypeError:nl},Symbol.toStringTag,{value:"Module"}));function nC({window:n}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const o=c0,s=ZT(n),l={browserDetails:s,commonShim:tC,extractVersion:As,disableLog:KT,disableWarnings:XT,sdp:eC};switch(s.browser){case"chrome":if(!am||!nc||!e.shimChrome)return o("Chrome shim is not included in this adapter release."),l;if(s.version===null)return o("Chrome shim can not determine version, not shimming."),l;o("adapter.js shimming chrome."),l.browserShim=am,il(n,s),ol(n),d0(n,s),p0(n),nc(n,s),h0(n),v0(n,s),m0(n),g0(n),_0(n,s),el(n),oc(n),sc(n),tl(n,s),nl(n),rc(n,s);break;case"firefox":if(!um||!ic||!e.shimFirefox)return o("Firefox shim is not included in this adapter release."),l;o("adapter.js shimming firefox."),l.browserShim=um,il(n,s),ol(n),S0(n,s),ic(n,s),T0(n),E0(n),C0(n),x0(n),b0(n),A0(n),R0(n),N0(n),M0(n),el(n),sc(n),tl(n,s),nl(n);break;case"safari":if(!cm||!e.shimSafari)return o("Safari shim is not included in this adapter release."),l;o("adapter.js shimming safari."),l.browserShim=cm,il(n,s),ol(n),L0(n),O0(n),k0(n),I0(n),D0(n),P0(n),w0(n),G0(n),el(n),oc(n),tl(n,s),nl(n),rc(n,s);break;default:o("Unsupported browser!");break}return l}const dm=nC({window:typeof window>"u"?void 0:window});function Ii(n,e,o,s){Object.defineProperty(n,e,{get:o,set:s,enumerable:!0,configurable:!0})}class q0{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const o=[],s=e.byteLength,l=Math.ceil(s/this.chunkedMTU);let u=0,d=0;for(;d<s;){const h=Math.min(s,d+this.chunkedMTU),y=e.slice(d,h),m={__peerData:this._dataCount,n:u,data:y,total:l};o.push(m),d=h,u++}return this._dataCount++,o}}}function iC(n){let e=0;for(const l of n)e+=l.byteLength;const o=new Uint8Array(e);let s=0;for(const l of n)o.set(l,s),s+=l.byteLength;return o}const Qu=dm.default||dm,Cs=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const n=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(n)?n==="chrome"?e>=this.minChromeVersion:n==="firefox"?e>=this.minFirefoxVersion:n==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return Qu.browserDetails.browser}getVersion(){return Qu.browserDetails.version||0}isUnifiedPlanSupported(){const n=this.getBrowser(),e=Qu.browserDetails.version||0;if(n==="chrome"&&e<this.minChromeVersion)return!1;if(n==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let o,s=!1;try{o=new RTCPeerConnection,o.addTransceiver("audio"),s=!0}catch{}finally{o&&o.close()}return s}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},oC=n=>!n||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(n),H0=()=>Math.random().toString(36).slice(2),pm={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class sC extends q0{noop(){}blobToArrayBuffer(e,o){const s=new FileReader;return s.onload=function(l){l.target&&o(l.target.result)},s.readAsArrayBuffer(e),s}binaryStringToArrayBuffer(e){const o=new Uint8Array(e.length);for(let s=0;s<e.length;s++)o[s]=e.charCodeAt(s)&255;return o.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=pm,this.browser=Cs.getBrowser(),this.browserVersion=Cs.getVersion(),this.pack=l0,this.unpack=r0,this.supports=(function(){const o={browser:Cs.isBrowserSupported(),webRTC:Cs.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!o.webRTC)return o;let s;try{s=new RTCPeerConnection(pm),o.audioVideo=!0;let l;try{l=s.createDataChannel("_PEERJSTEST",{ordered:!0}),o.data=!0,o.reliable=!!l.ordered;try{l.binaryType="blob",o.binaryBlob=!Cs.isIOS}catch{}}catch{}finally{l&&l.close()}}catch{}finally{s&&s.close()}return o})(),this.validateId=oC,this.randomToken=H0}}const It=new sC,rC="PeerJS: ";class lC{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...o){const s=[rC,...o];for(const l in s)s[l]instanceof Error&&(s[l]="("+s[l].name+") "+s[l].message);e>=3?console.log(...s):e>=2?console.warn("WARNING",...s):e>=1&&console.error("ERROR",...s)}constructor(){this._logLevel=0}}var ce=new lC,Ic={},aC=Object.prototype.hasOwnProperty,Tt="~";function Is(){}Object.create&&(Is.prototype=Object.create(null),new Is().__proto__||(Tt=!1));function uC(n,e,o){this.fn=n,this.context=e,this.once=o||!1}function V0(n,e,o,s,l){if(typeof o!="function")throw new TypeError("The listener must be a function");var u=new uC(o,s||n,l),d=Tt?Tt+e:e;return n._events[d]?n._events[d].fn?n._events[d]=[n._events[d],u]:n._events[d].push(u):(n._events[d]=u,n._eventsCount++),n}function sl(n,e){--n._eventsCount===0?n._events=new Is:delete n._events[e]}function yt(){this._events=new Is,this._eventsCount=0}yt.prototype.eventNames=function(){var e=[],o,s;if(this._eventsCount===0)return e;for(s in o=this._events)aC.call(o,s)&&e.push(Tt?s.slice(1):s);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(o)):e};yt.prototype.listeners=function(e){var o=Tt?Tt+e:e,s=this._events[o];if(!s)return[];if(s.fn)return[s.fn];for(var l=0,u=s.length,d=new Array(u);l<u;l++)d[l]=s[l].fn;return d};yt.prototype.listenerCount=function(e){var o=Tt?Tt+e:e,s=this._events[o];return s?s.fn?1:s.length:0};yt.prototype.emit=function(e,o,s,l,u,d){var h=Tt?Tt+e:e;if(!this._events[h])return!1;var y=this._events[h],m=arguments.length,v,_;if(y.fn){switch(y.once&&this.removeListener(e,y.fn,void 0,!0),m){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,o),!0;case 3:return y.fn.call(y.context,o,s),!0;case 4:return y.fn.call(y.context,o,s,l),!0;case 5:return y.fn.call(y.context,o,s,l,u),!0;case 6:return y.fn.call(y.context,o,s,l,u,d),!0}for(_=1,v=new Array(m-1);_<m;_++)v[_-1]=arguments[_];y.fn.apply(y.context,v)}else{var T=y.length,E;for(_=0;_<T;_++)switch(y[_].once&&this.removeListener(e,y[_].fn,void 0,!0),m){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,o);break;case 3:y[_].fn.call(y[_].context,o,s);break;case 4:y[_].fn.call(y[_].context,o,s,l);break;default:if(!v)for(E=1,v=new Array(m-1);E<m;E++)v[E-1]=arguments[E];y[_].fn.apply(y[_].context,v)}}return!0};yt.prototype.on=function(e,o,s){return V0(this,e,o,s,!1)};yt.prototype.once=function(e,o,s){return V0(this,e,o,s,!0)};yt.prototype.removeListener=function(e,o,s,l){var u=Tt?Tt+e:e;if(!this._events[u])return this;if(!o)return sl(this,u),this;var d=this._events[u];if(d.fn)d.fn===o&&(!l||d.once)&&(!s||d.context===s)&&sl(this,u);else{for(var h=0,y=[],m=d.length;h<m;h++)(d[h].fn!==o||l&&!d[h].once||s&&d[h].context!==s)&&y.push(d[h]);y.length?this._events[u]=y.length===1?y[0]:y:sl(this,u)}return this};yt.prototype.removeAllListeners=function(e){var o;return e?(o=Tt?Tt+e:e,this._events[o]&&sl(this,o)):(this._events=new Is,this._eventsCount=0),this};yt.prototype.off=yt.prototype.removeListener;yt.prototype.addListener=yt.prototype.on;yt.prefixed=Tt;yt.EventEmitter=yt;Ic=yt;var Di={};Ii(Di,"ConnectionType",()=>oi);Ii(Di,"PeerErrorType",()=>tt);Ii(Di,"BaseConnectionErrorType",()=>lc);Ii(Di,"DataConnectionErrorType",()=>Dc);Ii(Di,"SerializationType",()=>vl);Ii(Di,"SocketEventType",()=>ii);Ii(Di,"ServerMessageType",()=>mt);var oi=(function(n){return n.Data="data",n.Media="media",n})({}),tt=(function(n){return n.BrowserIncompatible="browser-incompatible",n.Disconnected="disconnected",n.InvalidID="invalid-id",n.InvalidKey="invalid-key",n.Network="network",n.PeerUnavailable="peer-unavailable",n.SslUnavailable="ssl-unavailable",n.ServerError="server-error",n.SocketError="socket-error",n.SocketClosed="socket-closed",n.UnavailableID="unavailable-id",n.WebRTC="webrtc",n})({}),lc=(function(n){return n.NegotiationFailed="negotiation-failed",n.ConnectionClosed="connection-closed",n})({}),Dc=(function(n){return n.NotOpenYet="not-open-yet",n.MessageToBig="message-too-big",n})({}),vl=(function(n){return n.Binary="binary",n.BinaryUTF8="binary-utf8",n.JSON="json",n.None="raw",n})({}),ii=(function(n){return n.Message="message",n.Disconnected="disconnected",n.Error="error",n.Close="close",n})({}),mt=(function(n){return n.Heartbeat="HEARTBEAT",n.Candidate="CANDIDATE",n.Offer="OFFER",n.Answer="ANSWER",n.Open="OPEN",n.Error="ERROR",n.IdTaken="ID-TAKEN",n.InvalidKey="INVALID-KEY",n.Leave="LEAVE",n.Expire="EXPIRE",n})({});const B0="1.5.5";class cC extends Ic.EventEmitter{constructor(e,o,s,l,u,d=5e3){super(),this.pingInterval=d,this._disconnected=!0,this._messagesQueue=[];const h=e?"wss://":"ws://";this._baseUrl=h+o+":"+s+l+"peerjs?key="+u}start(e,o){this._id=e;const s=`${this._baseUrl}&id=${e}&token=${o}`;this._socket||!this._disconnected||(this._socket=new WebSocket(s+"&version="+B0),this._disconnected=!1,this._socket.onmessage=l=>{let u;try{u=JSON.parse(l.data),ce.log("Server message received:",u)}catch{ce.log("Invalid server message",l.data);return}this.emit(ii.Message,u)},this._socket.onclose=l=>{this._disconnected||(ce.log("Socket closed.",l),this._cleanup(),this._disconnected=!0,this.emit(ii.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),ce.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){ce.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:mt.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const o of e)this.send(o)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(ii.Error,"Invalid message");return}if(!this._wsOpen())return;const o=JSON.stringify(e);this._socket.send(o)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class F0{constructor(e){this.connection=e}startConnection(e){const o=this._startPeerConnection();if(this.connection.peerConnection=o,this.connection.type===oi.Media&&e._stream&&this._addTracksToConnection(e._stream,o),e.originator){const s=this.connection,l={ordered:!!e.reliable},u=o.createDataChannel(s.label,l);s._initializeDataChannel(u),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){ce.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const o=this.connection.peer,s=this.connection.connectionId,l=this.connection.type,u=this.connection.provider;ce.log("Listening for ICE candidates."),e.onicecandidate=d=>{!d.candidate||!d.candidate.candidate||(ce.log(`Received ICE candidates for ${o}:`,d.candidate),u.socket.send({type:mt.Candidate,payload:{candidate:d.candidate,type:l,connectionId:s},dst:o}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":ce.log("iceConnectionState is failed, closing connections to "+o),this.connection.emitError(lc.NegotiationFailed,"Negotiation of connection to "+o+" failed."),this.connection.close();break;case"closed":ce.log("iceConnectionState is closed, closing connections to "+o),this.connection.emitError(lc.ConnectionClosed,"Connection to "+o+" closed."),this.connection.close();break;case"disconnected":ce.log("iceConnectionState changed to disconnected on the connection with "+o);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},ce.log("Listening for data channel"),e.ondatachannel=d=>{ce.log("Received data channel");const h=d.channel;u.getConnection(o,s)._initializeDataChannel(h)},ce.log("Listening for remote stream"),e.ontrack=d=>{ce.log("Received remote stream");const h=d.streams[0],y=u.getConnection(o,s);if(y.type===oi.Media){const m=y;this._addStreamToMediaConnection(h,m)}}}cleanup(){ce.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const o=e.signalingState!=="closed";let s=!1;const l=this.connection.dataChannel;l&&(s=!!l.readyState&&l.readyState!=="closed"),(o||s)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,o=this.connection.provider;try{const s=await e.createOffer(this.connection.options.constraints);ce.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),ce.log("Set localDescription:",s,`for:${this.connection.peer}`);let l={sdp:s,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===oi.Data){const u=this.connection;l={...l,label:u.label,reliable:u.reliable,serialization:u.serialization}}o.socket.send({type:mt.Offer,payload:l,dst:this.connection.peer})}catch(l){l!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(o.emitError(tt.WebRTC,l),ce.log("Failed to setLocalDescription, ",l))}}catch(s){o.emitError(tt.WebRTC,s),ce.log("Failed to createOffer, ",s)}}async _makeAnswer(){const e=this.connection.peerConnection,o=this.connection.provider;try{const s=await e.createAnswer();ce.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),ce.log("Set localDescription:",s,`for:${this.connection.peer}`),o.socket.send({type:mt.Answer,payload:{sdp:s,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(l){o.emitError(tt.WebRTC,l),ce.log("Failed to setLocalDescription, ",l)}}catch(s){o.emitError(tt.WebRTC,s),ce.log("Failed to create answer, ",s)}}async handleSDP(e,o){o=new RTCSessionDescription(o);const s=this.connection.peerConnection,l=this.connection.provider;ce.log("Setting remote description",o);const u=this;try{await s.setRemoteDescription(o),ce.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await u._makeAnswer()}catch(d){l.emitError(tt.WebRTC,d),ce.log("Failed to setRemoteDescription, ",d)}}async handleCandidate(e){ce.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),ce.log(`Added ICE candidate for:${this.connection.peer}`)}catch(o){this.connection.provider.emitError(tt.WebRTC,o),ce.log("Failed to handleCandidate, ",o)}}_addTracksToConnection(e,o){if(ce.log(`add tracks from stream ${e.id} to peer connection`),!o.addTrack)return ce.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(s=>{o.addTrack(s,e)})}_addStreamToMediaConnection(e,o){ce.log(`add stream ${e.id} to media connection ${o.connectionId}`),o.addStream(e)}}class J0 extends Ic.EventEmitter{emitError(e,o){ce.error("Error:",o),this.emit("error",new fC(`${e}`,o))}}class fC extends Error{constructor(e,o){typeof o=="string"?super(o):(super(),Object.assign(this,o)),this.type=e}}class Y0 extends J0{get open(){return this._open}constructor(e,o,s){super(),this.peer=e,this.provider=o,this.options=s,this._open=!1,this.metadata=s.metadata}}var Ec;const Ns=class Ns extends Y0{get type(){return oi.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,o,s){super(e,o,s),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||Ns.ID_PREFIX+It.randomToken(),this._negotiator=new F0(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ce.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{ce.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){ce.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const o=e.type,s=e.payload;switch(e.type){case mt.Answer:this._negotiator.handleSDP(o,s.sdp),this._open=!0;break;case mt.Candidate:this._negotiator.handleCandidate(s.candidate);break;default:ce.warn(`Unrecognized message type:${o} from peer:${this.peer}`);break}}answer(e,o={}){if(this._localStream){ce.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,o&&o.sdpTransform&&(this.options.sdpTransform=o.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const s=this.provider._getMessages(this.connectionId);for(const l of s)this.handleMessage(l);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};Ec=new WeakMap,_s(Ns,Ec,Ns.ID_PREFIX="mc_");let ul=Ns;class dC{constructor(e){this._options=e}_buildRequest(e){const o=this._options.secure?"https":"http",{host:s,port:l,path:u,key:d}=this._options,h=new URL(`${o}://${s}:${l}${u}${d}/${e}`);return h.searchParams.set("ts",`${Date.now()}${Math.random()}`),h.searchParams.set("version",B0),fetch(h.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){ce.error("Error retrieving ID",e);let o="";throw this._options.path==="/"&&this._options.host!==It.CLOUD_HOST&&(o=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+o)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let o="";throw this._options.host===It.CLOUD_HOST?o="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":o="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+o)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw ce.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}var bc,Ac;const Ri=class Ri extends Y0{get type(){return oi.Data}constructor(e,o,s){super(e,o,s),this.connectionId=this.options.connectionId||Ri.ID_PREFIX+H0(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new F0(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ce.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=o=>{ce.log(`DC#${this.connectionId} dc onmessage:`,o.data)},this.dataChannel.onclose=()=>{ce.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,o=!1){if(!this.open){this.emitError(Dc.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,o)}async handleMessage(e){const o=e.payload;switch(e.type){case mt.Answer:await this._negotiator.handleSDP(e.type,o.sdp);break;case mt.Candidate:await this._negotiator.handleCandidate(o.candidate);break;default:ce.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}};bc=new WeakMap,Ac=new WeakMap,_s(Ri,bc,Ri.ID_PREFIX="dc_"),_s(Ri,Ac,Ri.MAX_BUFFERED_AMOUNT=8388608);let cl=Ri;class kc extends cl{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",o=>this._handleDataMessage(o))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>cl.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(o){return ce.error(`DC#:${this.connectionId} Error when sending:`,o),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Ku extends kc{close(e){super.close(e),this._chunkedData={}}constructor(e,o,s){super(e,o,s),this.chunker=new q0,this.serialization=vl.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const o=r0(e),s=o.__peerData;if(s){if(s.type==="close"){this.close();return}this._handleChunk(o);return}this.emit("data",o)}_handleChunk(e){const o=e.__peerData,s=this._chunkedData[o]||{data:[],count:0,total:e.total};if(s.data[e.n]=new Uint8Array(e.data),s.count++,this._chunkedData[o]=s,s.total===s.count){delete this._chunkedData[o];const l=iC(s.data);this._handleDataMessage({data:l})}}_send(e,o){const s=l0(e);if(s instanceof Promise)return this._send_blob(s);if(!o&&s.byteLength>this.chunker.chunkedMTU){this._sendChunks(s);return}this._bufferedSend(s)}async _send_blob(e){const o=await e;if(o.byteLength>this.chunker.chunkedMTU){this._sendChunks(o);return}this._bufferedSend(o)}_sendChunks(e){const o=this.chunker.chunk(e);ce.log(`DC#${this.connectionId} Try to send ${o.length} chunks...`);for(const s of o)this.send(s,!0)}}class pC extends kc{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,o){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=vl.None}}class hC extends kc{_handleDataMessage({data:e}){const o=this.parse(this.decoder.decode(e)),s=o.__peerData;if(s&&s.type==="close"){this.close();return}this.emit("data",o)}_send(e,o){const s=this.encoder.encode(this.stringify(e));if(s.byteLength>=It.chunkedMTU){this.emitError(Dc.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(s)}constructor(...e){super(...e),this.serialization=vl.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var Rc;const Ms=class Ms extends J0{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[o,s]of this._connections)e[o]=s;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,o){super(),this._serializers={raw:pC,json:hC,binary:Ku,"binary-utf8":Ku,default:Ku},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let s;if(e&&e.constructor==Object?o=e:e&&(s=e.toString()),o={debug:0,host:It.CLOUD_HOST,port:It.CLOUD_PORT,path:"/",key:Ms.DEFAULT_KEY,token:It.randomToken(),config:It.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...o},this._options=o,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==It.CLOUD_HOST?this._options.secure=It.isSecure():this._options.host==It.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&ce.setLogFunction(this._options.logFunction),ce.logLevel=this._options.debug||0,this._api=new dC(o),this._socket=this._createServerConnection(),!It.supports.audioVideo&&!It.supports.data){this._delayedAbort(tt.BrowserIncompatible,"The current browser does not support WebRTC");return}if(s&&!It.validateId(s)){this._delayedAbort(tt.InvalidID,`ID "${s}" is invalid`);return}s?this._initialize(s):this._api.retrieveId().then(l=>this._initialize(l)).catch(l=>this._abort(tt.ServerError,l))}_createServerConnection(){const e=new cC(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(ii.Message,o=>{this._handleMessage(o)}),e.on(ii.Error,o=>{this._abort(tt.SocketError,o)}),e.on(ii.Disconnected,()=>{this.disconnected||(this.emitError(tt.Network,"Lost connection to server."),this.disconnect())}),e.on(ii.Close,()=>{this.disconnected||this._abort(tt.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const o=e.type,s=e.payload,l=e.src;switch(o){case mt.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case mt.Error:this._abort(tt.ServerError,s.msg);break;case mt.IdTaken:this._abort(tt.UnavailableID,`ID "${this.id}" is taken`);break;case mt.InvalidKey:this._abort(tt.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case mt.Leave:ce.log(`Received leave message from ${l}`),this._cleanupPeer(l),this._connections.delete(l);break;case mt.Expire:this.emitError(tt.PeerUnavailable,`Could not connect to peer ${l}`);break;case mt.Offer:{const u=s.connectionId;let d=this.getConnection(l,u);if(d&&(d.close(),ce.warn(`Offer received for existing Connection ID:${u}`)),s.type===oi.Media){const y=new ul(l,this,{connectionId:u,_payload:s,metadata:s.metadata});d=y,this._addConnection(l,d),this.emit("call",y)}else if(s.type===oi.Data){const y=new this._serializers[s.serialization](l,this,{connectionId:u,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});d=y,this._addConnection(l,d),this.emit("connection",y)}else{ce.warn(`Received malformed connection type:${s.type}`);return}const h=this._getMessages(u);for(const y of h)d.handleMessage(y);break}default:{if(!s){ce.warn(`You received a malformed message from ${l} of type ${o}`);return}const u=s.connectionId,d=this.getConnection(l,u);d&&d.peerConnection?d.handleMessage(e):u?this._storeMessage(u,e):ce.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,o){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(o)}_getMessages(e){const o=this._lostMessages.get(e);return o?(this._lostMessages.delete(e),o):[]}connect(e,o={}){if(o={serialization:"default",...o},this.disconnected){ce.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(tt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const s=new this._serializers[o.serialization](e,this,o);return this._addConnection(e,s),s}call(e,o,s={}){if(this.disconnected){ce.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(tt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!o){ce.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const l=new ul(e,this,{...s,_stream:o});return this._addConnection(e,l),l}_addConnection(e,o){ce.log(`add connection ${o.type}:${o.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(o)}_removeConnection(e){const o=this._connections.get(e.peer);if(o){const s=o.indexOf(e);s!==-1&&o.splice(s,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,o){const s=this._connections.get(e);if(!s)return null;for(const l of s)if(l.connectionId===o)return l;return null}_delayedAbort(e,o){setTimeout(()=>{this._abort(e,o)},0)}_abort(e,o){ce.error("Aborting!"),this.emitError(e,o),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(ce.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const o=this._connections.get(e);if(o)for(const s of o)s.close()}disconnect(){if(this.disconnected)return;const e=this.id;ce.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)ce.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)ce.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=o=>{}){this._api.listAllPeers().then(o=>e(o)).catch(o=>this._abort(tt.ServerError,o))}};Rc=new WeakMap,_s(Ms,Rc,Ms.DEFAULT_KEY="peerjs");let ac=Ms;var $0=ac;const mC=()=>{const n="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let o=0;o<4;o++)e+=n.charAt(Math.floor(Math.random()*n.length));return e},hm=["Happy","Lucky","Sunny","Cool","Super","Mega","Hyper","Swift","Brave","Clever","Neon","Turbo","Epic","Wild","Cosmic","Funky","Retro","Magic"],mm=["Panda","Tiger","Eagle","Rocket","Wizard","Ninja","Star","Comet","Dragon","Fox","Wolf","Bear","Falcon","Rider","Hero","Pixel","Ghost","Cat"],gC=()=>{const n=hm[Math.floor(Math.random()*hm.length)],e=mm[Math.floor(Math.random()*mm.length)],o=Math.floor(Math.random()*99)+1;return`${n}${e}${o}`},uc=n=>{if(!n)return n;n=n.trim();const e=n.match(/\/file\/d\/([a-zA-Z0-9_-]+)/);if(e)return`https://lh3.googleusercontent.com/d/${e[1]}`;const o=n.match(/[?&]id=([a-zA-Z0-9_-]+)/);if(o&&!n.includes("lh3.googleusercontent.com"))return`https://lh3.googleusercontent.com/d/${o[1]}`;const s=n.match(/open\?id=([a-zA-Z0-9_-]+)/);return s?`https://lh3.googleusercontent.com/d/${s[1]}`:n},wc="quizwiz_sheet_url",Ni=()=>localStorage.getItem(wc),gm=n=>{localStorage.setItem(wc,n)},yC=()=>{localStorage.removeItem(wc)},Q0=async n=>{const e=Ni();if(e)try{const o=await fetch(e,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"SAVE_QUIZ",quiz:n})});if(!o.ok)throw new Error(`Server error: ${o.status}`)}catch(o){throw console.error("Failed to save quiz to sheet",o),o}},vC=async()=>{const n=Ni();if(!n)return null;try{const o=await(await fetch(n,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"GET_QUIZZES"})})).json();return o.result==="success"&&Array.isArray(o.quizzes)?o.quizzes:null}catch(e){return console.error("Failed to fetch quizzes from sheet",e),null}},_C=async n=>{const e=Ni();if(e)try{const o=await fetch(e,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"DELETE_QUIZ",quizId:n})});if(!o.ok)throw new Error(`Server error: ${o.status}`)}catch(o){throw console.error("Failed to delete quiz from sheet",o),o}},SC=async(n,e,o,s,l,u)=>{const d=Ni();if(d)try{await fetch(d,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"SAVE_RESULT",gameId:n,quizId:e,quizTitle:o,winnerName:s,winnerScore:l,fullRankings:u})})}catch(h){console.error("Failed to save results",h)}},Xu=[{id:"zen",name:"Zen Garden",melody:[261.63,329.63,392,493.88],tempo:.6,oscType:"sine",gain:1},{id:"retro",name:"8-Bit Rush",melody:[440,523.25,659.25,783.99,523.25,659.25],tempo:.25,oscType:"square",gain:.25},{id:"tension",name:"Deep Space",melody:[146.83,155.56,146.83,196],tempo:1,oscType:"triangle",gain:.6},{id:"cyber",name:"Neon Drive",melody:[220,277.18,329.63,277.18,440,329.63],tempo:.2,oscType:"sawtooth",gain:.25},{id:"funky",name:"Funky Town",melody:[392,392,440,392,523.25,493.88],tempo:.3,oscType:"square",gain:.25},{id:"mystery",name:"Mystery Solver",melody:[440,466.16,587.33,466.16],tempo:.7,oscType:"triangle",gain:.6},{id:"happy",name:"Happy Vibes",melody:[523.25,587.33,659.25,523.25,659.25,783.99],tempo:.3,oscType:"sine",gain:1},{id:"action",name:"Action Hero",melody:[110,110,146.83,110,164.81,146.83],tempo:.15,oscType:"sawtooth",gain:.25},{id:"digital",name:"Digital Rain",melody:[659.25,587.33,523.25,493.88,440,392],tempo:.12,oscType:"sine",gain:.9}];class TC{constructor(){this.ctx=null,this.masterGain=null,this.isMuted=!1,this.volume=.5,this.isPlayingMusic=!1,this.nextNoteTime=0,this.timerID=null,this.melodyIndex=0,this.currentTrack=Xu[0]}init(){this.ctx||(this.ctx=new(window.AudioContext||window.webkitAudioContext),this.masterGain=this.ctx.createGain(),this.masterGain.connect(this.ctx.destination),this.updateGain()),this.ctx.state==="suspended"&&this.ctx.resume().catch(e=>console.error("Audio resume failed",e))}setVolume(e){this.volume=Math.max(0,Math.min(1,e)),this.updateGain()}getVolume(){return this.volume}toggleMute(){var e;return this.isMuted=!this.isMuted,this.updateGain(),((e=this.ctx)==null?void 0:e.state)==="suspended"&&this.ctx.resume(),this.isMuted}updateGain(){if(this.masterGain&&this.ctx){const e=this.isMuted?0:this.volume;this.masterGain.gain.setTargetAtTime(e,this.ctx.currentTime,.1)}}getTracks(){return Xu.map(e=>({id:e.id,name:e.name}))}getCurrentTrackId(){return this.currentTrack.id}setTrack(e){const o=Xu.find(s=>s.id===e);o&&(this.currentTrack=o,this.melodyIndex=0)}startMusic(){this.isPlayingMusic||(this.init(),this.isPlayingMusic=!0,this.melodyIndex=0,this.ctx&&(this.nextNoteTime=this.ctx.currentTime+.1,this.scheduleNote()))}stopMusic(){this.isPlayingMusic=!1,this.timerID&&window.clearTimeout(this.timerID)}scheduleNote(){if(!this.ctx||!this.masterGain||!this.isPlayingMusic)return;const e=this.currentTrack.tempo,o=25,s=.1;for(;this.nextNoteTime<this.ctx.currentTime+s;)this.playMusicNote(this.nextNoteTime),this.nextNoteTime+=e;this.timerID=window.setTimeout(()=>this.scheduleNote(),o)}playMusicNote(e){if(!this.ctx||!this.masterGain)return;const o=this.ctx.createOscillator(),s=this.ctx.createGain();o.connect(s),s.connect(this.masterGain);const l=this.currentTrack.melody,u=l[this.melodyIndex%l.length],d=Math.random()>.8?2:1;o.frequency.value=u/d,o.type=this.currentTrack.oscType;const h=this.currentTrack.tempo*.8;o.start(e),o.stop(e+h);const y=.4*this.currentTrack.gain;s.gain.setValueAtTime(0,e),s.gain.linearRampToValueAtTime(y,e+h*.1),s.gain.linearRampToValueAtTime(0,e+h),this.melodyIndex++}playJoin(){this.playTone(600,"sine",.1),setTimeout(()=>this.playTone(800,"sine",.2),100)}playStart(){this.playTone(400,"square",.1),setTimeout(()=>this.playTone(600,"square",.1),100),setTimeout(()=>this.playTone(1e3,"square",.4),200)}playTick(){this.playTone(800,"triangle",.05,.2)}playTickUrgent(){this.playTone(1200,"sawtooth",.05,.2)}playCorrect(){this.playTone(600,"sine",.1),setTimeout(()=>this.playTone(1200,"sine",.1),100),setTimeout(()=>this.playTone(1800,"sine",.4),200)}playWrong(){this.playTone(200,"sawtooth",.2),setTimeout(()=>this.playTone(150,"sawtooth",.4),150)}playGameOver(){this.playTone(500,"sine",.2),setTimeout(()=>this.playTone(400,"sine",.2),200),setTimeout(()=>this.playTone(300,"sine",.2),400),setTimeout(()=>this.playTone(600,"square",.8),600)}playTone(e,o,s,l=.3){if(this.isMuted||(this.init(),!this.ctx||!this.masterGain))return;const u=this.ctx.createOscillator(),d=this.ctx.createGain();u.type=o,u.frequency.setValueAtTime(e,this.ctx.currentTime),u.connect(d),d.connect(this.masterGain),d.gain.setValueAtTime(l,this.ctx.currentTime),d.gain.exponentialRampToValueAtTime(.01,this.ctx.currentTime+s),u.start(),u.stop(this.ctx.currentTime+s)}}const ni=new TC,CC={indigo:{bg:"bg-indigo-100 dark:bg-indigo-500/20",border:"border-indigo-500",text:"text-indigo-600 dark:text-indigo-300"},red:{bg:"bg-red-100 dark:bg-red-500/20",border:"border-red-500",text:"text-red-600 dark:text-red-300"},orange:{bg:"bg-orange-100 dark:bg-orange-500/20",border:"border-orange-500",text:"text-orange-600 dark:text-orange-300"},green:{bg:"bg-emerald-100 dark:bg-emerald-500/20",border:"border-emerald-500",text:"text-emerald-600 dark:text-emerald-300"},teal:{bg:"bg-teal-100 dark:bg-teal-500/20",border:"border-teal-500",text:"text-teal-600 dark:text-teal-300"},blue:{bg:"bg-blue-100 dark:bg-blue-500/20",border:"border-blue-500",text:"text-blue-600 dark:text-blue-300"},purple:{bg:"bg-purple-100 dark:bg-purple-500/20",border:"border-purple-500",text:"text-purple-600 dark:text-purple-300"},pink:{bg:"bg-pink-100 dark:bg-pink-500/20",border:"border-pink-500",text:"text-pink-600 dark:text-pink-300"}},xC=({onBack:n,quiz:e})=>{var $e,P;const[o,s]=se.useState(""),[l,u]=se.useState([]),[d,h]=se.useState(!1),[y,m]=se.useState("LOBBY"),[v,_]=se.useState(0),[T,E]=se.useState(0),[M,L]=se.useState(0),[w,H]=se.useState({}),j=se.useRef(null),J=se.useRef(new Map),W=se.useRef(null),re=se.useRef(!1),le=e.questions;se.useEffect(()=>{ni.startMusic();const D=mC();s(D);const X=new $0(`QWIZ-${D}`,{debug:1,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"}]}});return j.current=X,X.on("open",()=>h(!0)),X.on("connection",oe=>{J.current.set(oe.peer,oe),oe.on("data",me=>{const A=me;A.type==="JOIN"?(u(z=>[...z,{id:oe.peer,name:A.name,avatar:A.avatar,theme:A.theme,joinedAt:Date.now(),score:0,streak:0,coins:200}]),ni.playJoin()):A.type==="VOTE"&&(H(z=>({...z,[oe.peer]:{answer:A.answer,timestamp:Date.now()}})),ni.playJoin())})}),()=>{X.destroy(),ni.stopMusic()}},[]);const $=()=>{try{const D=new URL(window.location.href);return D.search="",D.searchParams.set("join",o),D.toString()}catch{return`${window.location.protocol}//${window.location.host}${window.location.pathname}?join=${o}`}},ge=D=>{navigator.clipboard.writeText(D),ni.playJoin()},ne=()=>{m("PLAYING"),ie(0)},ie=D=>{const X=le[D],oe=Date.now();E(X.timeLimit||20),L(oe),_(D),H({}),J.current.forEach(me=>me.send({type:"GAME_START",question:X,currentQuestion:D+1,totalQuestions:le.length,startTime:oe})),W.current&&clearInterval(W.current),W.current=window.setInterval(()=>{E(me=>me<=1?(de(),0):me-1)},1e3)},de=()=>{W.current&&clearInterval(W.current),m("REVEAL");const D=le[v];let X=1/0,oe=null;Object.entries(w).forEach(([A,z])=>{let Q=!1;D.type==="MC"||D.type==="TRUE_FALSE"?Q=z.answer===D.correctOptionId:D.type==="OPEN_ENDED"?Q=String(z.answer).trim().toLowerCase()===String(D.correctAnswer).trim().toLowerCase():D.type==="SLIDER"&&(Q=Math.abs(Number(z.answer)-(D.correctValue||0))<1),Q&&z.timestamp<X&&(X=z.timestamp,oe=A)});const me=l.map(A=>{const z=w[A.id];let Q=0,ee=!1;if(z){if(D.type==="MC"||D.type==="TRUE_FALSE")ee=z.answer===D.correctOptionId;else if(D.type==="OPEN_ENDED")ee=String(z.answer).trim().toLowerCase()===String(D.correctAnswer).trim().toLowerCase();else if(D.type==="SLIDER"){const Y=(D.max||100)-(D.min||0),F=Math.abs(Number(z.answer)-(D.correctValue||0)),ae=Math.max(0,1-F/Y);Q=Math.round(ae*1e3),ae>.95&&(ee=!0)}if(ee&&D.type!=="SLIDER"){const Y=(D.timeLimit||20)*1e3,F=z.timestamp-M,ae=Math.max(0,500*(1-F/Y));Q=Math.round(500+ae)}}const O=ee?A.streak+1:0,Z=Math.min(O,5)*100,K=ee?Q+Z:0;return{...A,score:A.score+K,streak:O,coins:A.coins+(ee?50:10)}});u(me),me.forEach(A=>{var ee,O;const z=J.current.get(A.id),Q=[];A.id===oe&&Q.push("SPEED_DEMON"),A.streak>=3&&Q.push("ON_FIRE"),z&&z.send({type:"RESULT",score:A.score,correctOptionId:D.correctOptionId,correctText:D.type==="OPEN_ENDED"?D.correctAnswer||"":((O=(ee=D.options)==null?void 0:ee.find(Z=>Z.id===D.correctOptionId))==null?void 0:O.text)||String(D.correctValue||""),correctValue:D.correctValue,coins:A.coins,streak:A.streak,coinsEarned:Ce(A.id,D)?50:10,badges:Q,rank:[...me].sort((Z,K)=>K.score-Z.score).findIndex(Z=>Z.id===A.id)+1,roundStats:{totalPlayers:l.length,correctCount:0,voteDistribution:{}}})}),ni.playCorrect()},Ce=(D,X)=>{const oe=w[D];return oe?X.type==="MC"||X.type==="TRUE_FALSE"?oe.answer===X.correctOptionId:X.type==="OPEN_ENDED"?String(oe.answer).trim().toLowerCase()===String(X.correctAnswer).trim().toLowerCase():X.type==="SLIDER"?Math.abs(Number(oe.answer)-(X.correctValue||0))<1:!1:!1},_e=()=>{if(v<le.length-1)m("PLAYING"),ie(v+1);else{m("GAME_OVER");const D=[...l].sort((X,oe)=>oe.score-X.score);if(D.forEach((X,oe)=>{var me;return(me=J.current.get(X.id))==null?void 0:me.send({type:"GAME_OVER",rank:oe+1,score:X.score})}),!re.current&&D.length>0){re.current=!0;const X=D.map((oe,me)=>({id:oe.id,name:oe.name,rank:me+1,score:oe.score}));SC(o,e.id,e.title,D[0].name,D[0].score,X)}}};if(y==="LOBBY"){const D=$(),X=d?`https://api.qrserver.com/v1/create-qr-code/?size=400x400&data=${encodeURIComponent(D)}`:"";return C.jsxs("div",{className:"min-h-screen p-8 flex flex-col items-center bg-indigo-50 dark:bg-slate-900 transition-colors",children:[C.jsxs("div",{className:"w-full flex justify-between mb-8",children:[C.jsx("button",{onClick:n,className:"text-slate-500 hover:text-red-500 transition-colors",children:" Quit Lobby"}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(zT,{className:`w-5 h-5 ${d?"text-green-500":"text-yellow-500 animate-pulse"}`}),C.jsx("span",{className:"font-bold text-xs uppercase tracking-widest",children:d?"Server Online":"Connecting..."})]})]}),C.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-8 md:gap-16 w-full max-w-5xl mb-12",children:[C.jsx("div",{className:"bg-white p-6 rounded-[2.5rem] shadow-2xl animate-pop border border-slate-100",children:d?C.jsx("img",{src:X,alt:"Join QR",className:"w-64 h-64 md:w-80 md:h-80 mix-blend-multiply"}):C.jsx("div",{className:"w-64 h-64 md:w-80 md:h-80 flex items-center justify-center",children:C.jsx(al,{className:"w-12 h-12 animate-spin text-indigo-500"})})}),C.jsxs("div",{className:"flex flex-col gap-6 text-center md:text-left",children:[C.jsxs("div",{className:"space-y-1",children:[C.jsx("p",{className:"text-slate-400 text-xs font-black uppercase tracking-[0.2em]",children:"Game Code"}),C.jsxs("div",{onClick:()=>ge(o),className:"cursor-pointer group bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-xl border-2 border-transparent hover:border-indigo-500 transition-all",children:[C.jsx("h2",{className:"text-7xl font-mono font-black tracking-widest text-slate-900 dark:text-white group-hover:scale-105 transition-transform",children:o}),C.jsxs("div",{className:"flex items-center justify-center gap-2 text-indigo-500 text-xs font-bold mt-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[C.jsx(n0,{className:"w-3 h-3"})," Tap to copy code"]})]})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("p",{className:"text-slate-400 text-xs font-black uppercase tracking-[0.2em]",children:"Join Link"}),C.jsxs("div",{onClick:()=>ge(D),className:"cursor-pointer group flex items-center gap-3 bg-white/50 dark:bg-slate-800/50 p-3 rounded-xl border border-slate-200 dark:border-slate-700 hover:bg-white transition-colors",children:[C.jsx(i0,{className:"w-4 h-4 text-indigo-500"}),C.jsx("code",{className:"text-xs text-slate-500 truncate max-w-[200px]",children:D})]})]})]})]}),C.jsxs("div",{className:"w-full max-w-5xl mb-32",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[C.jsx(LT,{className:"w-6 h-6 text-indigo-500"}),C.jsxs("h2",{className:"text-2xl font-black text-slate-900 dark:text-white",children:["Players ",C.jsxs("span",{className:"text-slate-400 ml-1",children:["(",l.length,")"]})]})]}),C.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4",children:[l.map(oe=>{const me=CC[oe.theme||"indigo"];return C.jsxs("div",{className:`p-4 rounded-2xl animate-pop ${me.bg} border ${me.border} text-center flex flex-col items-center gap-1 shadow-sm`,children:[C.jsx("div",{className:"text-4xl",children:oe.avatar}),C.jsx("div",{className:`font-bold text-sm truncate w-full ${me.text}`,children:oe.name})]},oe.id)}),l.length===0&&C.jsx("div",{className:"col-span-full py-12 text-center text-slate-400 border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-3xl",children:"Waiting for challengers to join..."})]})]}),C.jsx("div",{className:"fixed bottom-8 w-full max-w-md px-6",children:C.jsxs("button",{onClick:ne,disabled:l.length===0,className:"w-full py-5 bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 text-white font-black rounded-[2rem] text-xl shadow-2xl shadow-indigo-500/40 transition-all active:scale-95 flex items-center justify-center gap-3",children:[C.jsx(o0,{className:"w-6 h-6 fill-current"})," START GAME"]})})]})}if(y==="GAME_OVER"){const D=[...l].sort((X,oe)=>oe.score-X.score).slice(0,3);return C.jsxs("div",{className:"min-h-screen flex flex-col items-center pt-12 px-6 bg-indigo-50 dark:bg-slate-900 overflow-hidden",children:[C.jsx("h1",{className:"text-6xl md:text-8xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-500 mb-12 animate-pop",children:"Final Results"}),C.jsxs("div",{className:"flex items-end justify-center w-full max-w-5xl gap-4 md:gap-8 h-[450px]",children:[D[1]&&C.jsxs("div",{className:"flex flex-col items-center flex-1 max-w-[200px] animate-[slideUp_0.8s_ease-out_0.2s_forwards] opacity-0 translate-y-20",children:[C.jsxs("div",{className:"text-center mb-4",children:[C.jsx("div",{className:"text-5xl mb-2",children:D[1].avatar}),C.jsx("div",{className:"font-bold text-lg truncate w-full dark:text-white",children:D[1].name}),C.jsxs("div",{className:"text-slate-500 font-mono font-bold",children:[D[1].score," pts"]})]}),C.jsx("div",{className:"w-full h-40 bg-gradient-to-t from-slate-300 to-slate-400 rounded-t-2xl flex items-center justify-center border-t-4 border-slate-200 shadow-xl relative overflow-hidden",children:C.jsx("span",{className:"text-7xl font-black text-white/20 select-none",children:"2"})})]}),D[0]&&C.jsxs("div",{className:"flex flex-col items-center flex-1 max-w-[250px] z-10 animate-[slideUp_0.8s_ease-out_forwards] translate-y-20",children:[C.jsxs("div",{className:"text-center mb-6 relative",children:[C.jsx(yl,{className:"w-12 h-12 text-yellow-400 absolute -top-12 left-1/2 -translate-x-1/2 animate-bounce"}),C.jsx("div",{className:"text-7xl mb-2",children:D[0].avatar}),C.jsx("div",{className:"font-black text-2xl truncate w-full dark:text-white",children:D[0].name}),C.jsxs("div",{className:"text-yellow-600 font-black text-xl",children:[D[0].score," pts"]})]}),C.jsx("div",{className:"w-full h-64 bg-gradient-to-t from-yellow-400 to-yellow-500 rounded-t-3xl flex items-center justify-center border-t-4 border-yellow-200 shadow-[0_0_50px_rgba(250,204,21,0.3)] relative overflow-hidden",children:C.jsx("span",{className:"text-9xl font-black text-white/20 select-none",children:"1"})})]}),D[2]&&C.jsxs("div",{className:"flex flex-col items-center flex-1 max-w-[200px] animate-[slideUp_0.8s_ease-out_0.4s_forwards] opacity-0 translate-y-20",children:[C.jsxs("div",{className:"text-center mb-4",children:[C.jsx("div",{className:"text-5xl mb-2",children:D[2].avatar}),C.jsx("div",{className:"font-bold text-lg truncate w-full dark:text-white",children:D[2].name}),C.jsxs("div",{className:"text-slate-500 font-mono font-bold",children:[D[2].score," pts"]})]}),C.jsx("div",{className:"w-full h-32 bg-gradient-to-t from-amber-600 to-amber-700 rounded-t-2xl flex items-center justify-center border-t-4 border-amber-500 shadow-xl relative overflow-hidden",children:C.jsx("span",{className:"text-6xl font-black text-white/20 select-none",children:"3"})})]})]}),C.jsx("button",{onClick:n,className:"mt-16 px-10 py-4 bg-white dark:bg-slate-800 text-indigo-600 dark:text-white rounded-2xl font-black shadow-lg hover:scale-105 transition-transform",children:"Back to Dashboard"}),C.jsx("style",{children:"@keyframes slideUp { to { transform: translateY(0); opacity: 1; } }"})]})}const Ie=le[v];return C.jsxs("div",{className:"min-h-screen p-8 bg-indigo-50 dark:bg-slate-900 flex flex-col items-center",children:[C.jsxs("div",{className:"w-full flex justify-between items-center mb-12",children:[C.jsxs("div",{className:"bg-white dark:bg-slate-800 px-4 py-2 rounded-xl font-bold dark:text-white",children:["Q",v+1,"/",le.length]}),C.jsxs("div",{className:`text-4xl font-black dark:text-white ${T<=5?"text-red-500 animate-pulse":""}`,children:[T,"s"]}),C.jsxs("div",{className:"bg-indigo-600 text-white px-4 py-2 rounded-xl font-bold",children:[Object.keys(w).length," Answers"]})]}),C.jsx("h1",{className:"text-5xl font-black text-center mb-12 dark:text-white",children:Ie.text}),y==="REVEAL"?C.jsxs("div",{className:"w-full max-w-2xl bg-green-500 p-8 rounded-3xl text-center shadow-2xl animate-pop",children:[C.jsx("p",{className:"text-white/60 text-sm font-bold uppercase tracking-widest mb-2",children:"The Correct Answer is"}),C.jsx("h2",{className:"text-4xl font-black text-white",children:Ie.type==="MC"||Ie.type==="TRUE_FALSE"?(P=($e=Ie.options)==null?void 0:$e.find(D=>D.id===Ie.correctOptionId))==null?void 0:P.text:Ie.type==="SLIDER"?Ie.correctValue:Ie.correctAnswer}),C.jsx("button",{onClick:_e,className:"mt-8 px-10 py-3 bg-white text-green-600 font-black rounded-xl hover:scale-105 transition-transform",children:"CONTINUE"})]}):C.jsx("div",{className:"flex flex-wrap justify-center gap-4 max-w-4xl",children:l.map(D=>C.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-2xl transition-all duration-500 ${w[D.id]?"bg-emerald-500 scale-110 shadow-lg":"bg-slate-300 opacity-30"}`,children:w[D.id]?C.jsx(t0,{className:"text-white"}):D.avatar},D.id))})]})},ym=["","","","","","","","","","","","","","","",""],vm=[{id:"indigo",color:"bg-indigo-500"},{id:"red",color:"bg-red-500"},{id:"orange",color:"bg-orange-500"},{id:"green",color:"bg-emerald-500"},{id:"blue",color:"bg-blue-500"},{id:"purple",color:"bg-purple-500"}],EC=({onBack:n})=>{var O,Z,K;const[e,o]=se.useState("LOBBY"),[s,l]=se.useState(""),[u,d]=se.useState(ym[0]),[h,y]=se.useState(vm[0].id),[m,v]=se.useState(""),[_,T]=se.useState(null),[E,M]=se.useState(!1),[L,w]=se.useState(!1),[H,j]=se.useState(null),[J,W]=se.useState(null),[re,le]=se.useState(""),[$,ge]=se.useState(0),[ne,ie]=se.useState(200),[de,Ce]=se.useState(null),[_e,Ie]=se.useState(null),[$e,P]=se.useState(0),D=se.useRef(null),X=se.useRef(null),oe=se.useRef(null),[me,A]=se.useState(!1);se.useEffect(()=>{const F=new URLSearchParams(window.location.search).get("join");return F&&(v(F.toUpperCase().trim()),w(!0)),l(gC()),()=>{var ae;(ae=D.current)==null||ae.destroy(),oe.current&&clearInterval(oe.current)}},[]);const z=Y=>{Y.preventDefault();const F=m.trim().toUpperCase();if(!s.trim()||F.length!==4)return T("Enter name and code.");D.current&&D.current.destroy(),M(!0),T(null);const ae=`QWIZ-PLY-${Math.random().toString(36).substr(2,9)}`,Ee=new $0(ae,{debug:1,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"}]}});D.current=Ee,Ee.on("open",()=>{const rt=`QWIZ-${F}`,lt=Ee.connect(rt,{reliable:!0});X.current=lt;const at=setTimeout(()=>{lt.open||z(Y)},6e3);lt.on("open",()=>{clearTimeout(at),lt.send({type:"JOIN",name:s.trim(),avatar:u,theme:h}),o("LOBBY"),M(!1)}),lt.on("data",Qe=>{const He=Qe;switch(He.type){case"GAME_START":j(He.question),o("ANSWERING"),W(null),le(""),ge(He.question.min||0),Ce(null),P(He.question.timeLimit||20),oe.current&&clearInterval(oe.current),oe.current=window.setInterval(()=>{P(ri=>ri>0?ri-1:0)},1e3);break;case"RESULT":oe.current&&clearInterval(oe.current),ie(He.coins),Ce(He),o("RESULT");break;case"GAME_OVER":Ie({rank:He.rank,score:He.score}),o("GAME_OVER");break;case"KICK":o("KICKED");break}}),lt.on("close",()=>{e!=="GAME_OVER"&&(T("Dropped. Re-Join."),M(!1))})}),Ee.on("error",()=>{M(!1),T("Error. Try again.")})},Q=Y=>{var F;(F=X.current)!=null&&F.open&&(X.current.send({type:"VOTE",answer:Y}),W(Y),o("SUBMITTED"))},ee=()=>{if(!de||!H)return!1;const Y=J;return H.type==="MC"||H.type==="TRUE_FALSE"?Y===de.correctOptionId:H.type==="OPEN_ENDED"?String(Y).trim().toLowerCase()===String(de.correctText).trim().toLowerCase():H.type==="SLIDER"?Math.abs(Number(Y)-(de.correctValue||0))<1:!1};if(e==="ANSWERING"&&H)return C.jsxs("div",{className:"h-screen w-full flex flex-col p-4 bg-indigo-50 dark:bg-slate-900",children:[C.jsxs("div",{className:"flex justify-between items-center mb-4",children:[C.jsxs("div",{className:"bg-yellow-400/20 text-yellow-600 px-3 py-1 rounded-full text-sm font-bold flex items-center gap-1",children:[C.jsx(ZS,{className:"w-4 h-4"})," ",ne]}),C.jsxs("div",{className:"text-indigo-600 dark:text-indigo-400 font-black text-xl",children:[$e,"s"]})]}),C.jsx("div",{className:"mb-6 flex-1 flex items-center justify-center p-6 bg-white dark:bg-slate-800 rounded-2xl shadow-xl",children:C.jsx("p",{className:"text-slate-900 dark:text-white text-center font-bold text-2xl leading-tight",children:H.text})}),C.jsxs("div",{className:"space-y-4 pb-8",children:[H.type==="MC"&&C.jsx("div",{className:"grid grid-cols-1 gap-3",children:(O=H.options)==null?void 0:O.map(Y=>C.jsx("button",{onClick:()=>Q(Y.id),className:`py-5 rounded-xl text-white font-bold text-xl shadow-lg active:scale-95 transition-all ${Y.color==="red"?"bg-red-500":Y.color==="blue"?"bg-blue-500":Y.color==="green"?"bg-emerald-500":"bg-yellow-500"}`,children:Y.text},Y.id))}),H.type==="TRUE_FALSE"&&C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsx("button",{onClick:()=>Q("true"),className:"bg-blue-600 py-10 rounded-2xl text-2xl font-black text-white active:scale-95",children:"TRUE"}),C.jsx("button",{onClick:()=>Q("false"),className:"bg-red-600 py-10 rounded-2xl text-2xl font-black text-white active:scale-95",children:"FALSE"})]}),H.type==="OPEN_ENDED"&&C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"text",value:re,onChange:Y=>le(Y.target.value),placeholder:"Type your answer...",className:"flex-1 px-4 py-4 rounded-xl border-2 border-indigo-200 outline-none focus:border-indigo-500 text-lg",autoFocus:!0}),C.jsx("button",{onClick:()=>Q(re),className:"p-4 bg-indigo-600 text-white rounded-xl",children:C.jsx(CT,{})})]}),H.type==="SLIDER"&&C.jsxs("div",{className:"space-y-6 px-4",children:[C.jsx("div",{className:"text-center text-4xl font-black text-indigo-600",children:$}),C.jsx("input",{type:"range",min:H.min,max:H.max,step:H.step||1,value:$,onChange:Y=>ge(Number(Y.target.value)),className:"w-full h-4 bg-indigo-200 rounded-lg appearance-none cursor-pointer accent-indigo-600"}),C.jsx("button",{onClick:()=>Q($),className:"w-full py-4 bg-indigo-600 text-white font-bold rounded-xl shadow-lg",children:"Submit Guess"})]})]})]});if(e==="RESULT"&&de){const Y=ee();return Y?ni.playCorrect():ni.playWrong(),C.jsxs("div",{className:`min-h-screen flex flex-col items-center justify-center p-6 text-center transition-colors duration-500 ${Y?"bg-green-600":"bg-red-600"}`,children:[C.jsx("div",{className:"bg-white/20 p-8 rounded-full mb-6 backdrop-blur-md animate-pop",children:Y?C.jsx(zS,{className:"w-20 h-20 text-white"}):C.jsx(BS,{className:"w-20 h-20 text-white"})}),C.jsx("h1",{className:"text-5xl font-black text-white mb-2",children:Y?"YES!":"NO!"}),C.jsxs("p",{className:"text-white/80 text-xl mb-4",children:["Score: ",de.score]}),C.jsxs("div",{className:"bg-black/20 p-6 rounded-2xl w-full max-w-sm backdrop-blur-lg",children:[C.jsx("p",{className:"text-white/60 text-xs uppercase font-black mb-1",children:"Correct Answer"}),C.jsx("p",{className:"text-white text-2xl font-bold",children:de.correctText||"???"})]})]})}return e==="GAME_OVER"&&_e?C.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 text-center bg-indigo-50 dark:bg-slate-900",children:[C.jsx(yl,{className:`w-24 h-24 mb-6 ${_e.rank===1?"text-yellow-500 animate-bounce":"text-slate-400"}`}),C.jsx("h1",{className:"text-4xl font-bold mb-2 dark:text-white",children:"Game Over!"}),C.jsxs("div",{className:"text-9xl font-black text-indigo-600 mb-8",children:["#",_e.rank]}),C.jsx("button",{onClick:()=>window.location.reload(),className:"px-8 py-3 bg-slate-800 text-white rounded-xl font-bold",children:"New Game"})]}):e==="LOBBY"&&!E&&((Z=X.current)!=null&&Z.open)?C.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 text-center bg-indigo-50 dark:bg-slate-900",children:[C.jsxs("div",{className:`mb-8 p-10 rounded-[3rem] shadow-2xl ${((K=vm.find(Y=>Y.id===h))==null?void 0:K.color)||"bg-indigo-500"} text-white animate-pop`,children:[C.jsx("div",{className:"text-9xl mb-4",children:u}),C.jsx("div",{className:"font-bold text-3xl",children:s})]}),C.jsx("h2",{className:"text-3xl font-black mb-2 dark:text-white",children:"You're In!"}),C.jsx("p",{className:"text-slate-500 text-lg",children:"Watch the Host screen..."})]}):C.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-indigo-50 dark:bg-slate-900",children:C.jsxs("div",{className:"w-full max-w-md",children:[C.jsx("button",{onClick:n,className:"text-slate-500 mb-8",children:" Back"}),C.jsx("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-3xl shadow-2xl",children:C.jsxs("form",{onSubmit:z,className:"space-y-6",children:[C.jsx("div",{className:"text-center",children:C.jsx("h1",{className:"text-3xl font-black mb-2 dark:text-white",children:"Join Quiz"})}),C.jsx("div",{className:"grid grid-cols-4 gap-2 bg-slate-50 dark:bg-slate-900/50 p-3 rounded-2xl",children:ym.slice(0,12).map(Y=>C.jsx("button",{type:"button",onClick:()=>d(Y),className:`aspect-square flex items-center justify-center text-2xl rounded-xl transition-all ${u===Y?"bg-white dark:bg-slate-700 shadow-md ring-2 ring-indigo-500":"opacity-40"}`,children:Y},Y))}),C.jsxs("div",{className:"space-y-4",children:[C.jsx("input",{type:"text",value:s,onChange:Y=>l(Y.target.value),placeholder:"Display Name",className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl outline-none text-slate-900 dark:text-white",maxLength:12}),C.jsx("input",{type:"text",value:m,onChange:Y=>!L&&v(Y.target.value.toUpperCase()),placeholder:"4-Letter Code",maxLength:4,readOnly:L,className:"w-full px-4 py-4 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl text-center font-mono text-3xl tracking-widest text-slate-900 dark:text-white"})]}),_&&C.jsxs("div",{className:"p-3 bg-red-100 text-red-600 rounded-xl text-sm flex items-center gap-2",children:[C.jsx(OT,{className:"w-4 h-4"})," ",_]}),C.jsx("button",{type:"submit",disabled:E,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 text-white font-black rounded-2xl shadow-xl transition-all active:scale-95",children:E?C.jsx(al,{className:"animate-spin mx-auto"}):"ENTER LOBBY"})]})})]})})},bC=({onSuccess:n,onBack:e})=>{const[o,s]=se.useState(""),[l,u]=se.useState(!1),d=h=>{h.preventDefault(),o==="1234"?n():(u(!0),s(""),setTimeout(()=>u(!1),500))};return C.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-indigo-50 dark:bg-slate-900 transition-colors",children:[C.jsxs("div",{className:"w-full max-w-sm",children:[C.jsx("button",{onClick:e,className:"text-slate-500 dark:text-slate-400 hover:text-indigo-600 dark:hover:text-white mb-8 transition-colors",children:" Back"}),C.jsxs("div",{className:"bg-white dark:bg-slate-800/80 backdrop-blur-xl p-8 rounded-2xl shadow-2xl border border-white/50 dark:border-slate-700",children:[C.jsxs("div",{className:"text-center mb-8",children:[C.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-indigo-100 dark:bg-indigo-500/20 mb-4 text-indigo-600 dark:text-indigo-400",children:C.jsx(uT,{className:"w-8 h-8"})}),C.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Quiz Studio"}),C.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Enter PIN to access admin dashboard"})]}),C.jsxs("form",{onSubmit:d,className:"space-y-6",children:[C.jsxs("div",{className:"relative",children:[C.jsx("input",{type:"password",value:o,onChange:h=>s(h.target.value),placeholder:"PIN",maxLength:4,className:`w-full px-4 py-4 bg-slate-50 dark:bg-slate-900/50 border rounded-xl focus:ring-2 focus:outline-none text-slate-900 dark:text-white text-center font-mono text-3xl tracking-[0.5em] transition-all
                  ${l?"border-red-500 ring-red-500/50 animate-[shake_0.5s_ease-in-out]":"border-slate-200 dark:border-slate-600 focus:ring-indigo-500 focus:border-transparent"}
                `,autoFocus:!0}),l&&C.jsxs("div",{className:"absolute -bottom-6 left-0 w-full flex justify-center items-center gap-1 text-red-500 dark:text-red-400 text-xs mt-2 animate-bounce",children:[C.jsx(AT,{className:"w-3 h-3"})," Access Denied"]})]}),C.jsxs("button",{type:"submit",className:"w-full py-4 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/30 transition-all active:scale-95 flex items-center justify-center gap-2 mt-4",children:["Unlock ",C.jsx(MS,{className:"w-5 h-5"})]})]})]})]}),C.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-5px); }
          75% { transform: translateX(5px); }
        }
      `})]})},bi={id:"demo-mixed-1",title:"Diverse Question Types Demo",description:"A showcase of all the different question types available in QuizWiz.",createdAt:Date.now(),questions:[{id:1,type:"MC",text:"Which planet is known as the Red Planet?",timeLimit:20,options:[{id:"opt1",color:"red",text:"Mars"},{id:"opt2",color:"blue",text:"Venus"},{id:"opt3",color:"green",text:"Jupiter"},{id:"opt4",color:"yellow",text:"Saturn"}],correctOptionId:"opt1"},{id:2,type:"TRUE_FALSE",text:"Is the Earth flat?",timeLimit:15,options:[{id:"true",color:"blue",text:"True"},{id:"false",color:"red",text:"False"}],correctOptionId:"false"},{id:3,type:"SLIDER",text:"How many days are in a leap year?",timeLimit:20,min:300,max:400,correctValue:366,step:1},{id:4,type:"OPEN_ENDED",text:"What is the capital of France?",timeLimit:30,correctAnswer:"Paris"},{id:5,type:"POLL",text:"What is your favorite season?",timeLimit:20,options:[{id:"opt1",color:"red",text:"Summer"},{id:"opt2",color:"blue",text:"Winter"},{id:"opt3",color:"green",text:"Spring"},{id:"opt4",color:"yellow",text:"Autumn"}]},{id:6,type:"WORD_CLOUD",text:"Describe this app in one word",timeLimit:30}]},_m=`function doPost(e) {
  const lock = LockService.getScriptLock();
  lock.tryLock(10000);

  try {
    const ss = SpreadsheetApp.getActiveSpreadsheet();
    const data = JSON.parse(e.postData.contents);
    const action = data.action;

    // Define column headers
    const QUIZ_HEADERS = ['Quiz_ID','Title','Description','Cover_Image','Created_At','Question_ID','Question_Type','Question_Text','Time_Limit','Option_1','Option_2','Option_3','Option_4','Correct_Option_ID','Correct_Answer','Min','Max','Step','Correct_Value','Media_Type','Media_URL'];
    const RESULT_HEADERS = ['Game_ID','Quiz_ID','Quiz_Title','Winner_Name','Winner_Score','Player_ID','Player_Name','Rank','Score','Saved_At'];

    if (action === 'SAVE_QUIZ') {
      let sheet = ss.getSheetByName('Quizzes');
      if (!sheet) {
        sheet = ss.insertSheet('Quizzes');
        sheet.appendRow(QUIZ_HEADERS);
        sheet.setFrozenRows(1);
      } else if (sheet.getLastRow() === 0) {
        sheet.appendRow(QUIZ_HEADERS);
        sheet.setFrozenRows(1);
      }

      const quiz = data.quiz;
      
      // Remove existing rows for this quiz ID
      const allData = sheet.getDataRange().getValues();
      const rowsToKeep = allData.filter((row, idx) => idx === 0 || row[0] !== quiz.id);
      
      if (rowsToKeep.length < allData.length) {
        sheet.clear();
        if (rowsToKeep.length > 0) {
          sheet.getRange(1, 1, rowsToKeep.length, QUIZ_HEADERS.length).setValues(rowsToKeep);
        }
      }

      // Add new rows - one per question
      const questions = quiz.questions || [];
      const newRows = questions.map(q => [
        quiz.id,
        quiz.title || '',
        quiz.description || '',
        quiz.coverImageUrl || '',
        new Date(quiz.createdAt || Date.now()),
        q.id,
        q.type,
        q.text || '',
        q.timeLimit || 20,
        q.options && q.options[0] ? q.options[0].text : '',
        q.options && q.options[1] ? q.options[1].text : '',
        q.options && q.options[2] ? q.options[2].text : '',
        q.options && q.options[3] ? q.options[3].text : '',
        q.correctOptionId || '',
        q.correctAnswer || '',
        q.min !== undefined ? q.min : '',
        q.max !== undefined ? q.max : '',
        q.step !== undefined ? q.step : '',
        q.correctValue !== undefined ? q.correctValue : '',
        q.mediaType || '',
        q.mediaUrl || ''
      ]);

      if (newRows.length > 0) {
        sheet.getRange(sheet.getLastRow() + 1, 1, newRows.length, QUIZ_HEADERS.length).setValues(newRows);
      }
      
      return ContentService.createTextOutput(JSON.stringify({result: 'success'})).setMimeType(ContentService.MimeType.JSON);
    }

    if (action === 'GET_QUIZZES') {
      const sheet = ss.getSheetByName('Quizzes');
      if (!sheet || sheet.getLastRow() <= 1) {
        return ContentService.createTextOutput(JSON.stringify({result: 'success', quizzes: []})).setMimeType(ContentService.MimeType.JSON);
      }

      const rows = sheet.getDataRange().getValues();
      const quizzesMap = {};

      // Skip header row
      for (let i = 1; i < rows.length; i++) {
        const r = rows[i];
        const quizId = r[0];
        if (!quizId) continue;

        // Create quiz object if not exists
        if (!quizzesMap[quizId]) {
          quizzesMap[quizId] = {
            id: quizId,
            title: r[1] || '',
            description: r[2] || '',
            coverImageUrl: r[3] || '',
            createdAt: r[4] ? new Date(r[4]).getTime() : Date.now(),
            questions: []
          };
        }

        // Build question object
        const qType = r[6] || 'MC';
        const question = {
          id: r[5],
          type: qType,
          text: r[7] || '',
          timeLimit: Number(r[8]) || 20
        };

        // Add options for MC, POLL, TRUE_FALSE
        if (qType === 'TRUE_FALSE') {
          question.options = [
            { id: 'true', color: 'blue', text: r[9] || 'True' },
            { id: 'false', color: 'red', text: r[10] || 'False' }
          ];
          question.correctOptionId = r[13] || 'true';
        } else if (qType === 'MC' || qType === 'POLL') {
          const colors = ['red','blue','green','yellow'];
          question.options = [];
          for (let j = 0; j < 4; j++) {
            if (r[9 + j]) {
              question.options.push({
                id: 'opt' + (j + 1),
                color: colors[j],
                text: r[9 + j]
              });
            }
          }
          if (qType === 'MC') question.correctOptionId = r[13] || 'opt1';
        } else if (qType === 'OPEN_ENDED') {
          question.correctAnswer = r[14] || '';
        } else if (qType === 'SLIDER') {
          question.min = r[15] !== '' ? Number(r[15]) : 0;
          question.max = r[16] !== '' ? Number(r[16]) : 100;
          question.step = r[17] !== '' ? Number(r[17]) : 1;
          question.correctValue = r[18] !== '' ? Number(r[18]) : 50;
        }

        // Add media if present
        if (r[19]) question.mediaType = r[19];
        if (r[20]) question.mediaUrl = r[20];

        quizzesMap[quizId].questions.push(question);
      }

      return ContentService.createTextOutput(JSON.stringify({result: 'success', quizzes: Object.values(quizzesMap)})).setMimeType(ContentService.MimeType.JSON);
    }

    if (action === 'DELETE_QUIZ') {
      const quizId = data.quizId;
      if (!quizId) throw new Error('Missing quizId');

      const sheet = ss.getSheetByName('Quizzes');
      if (!sheet || sheet.getLastRow() <= 1) {
        return ContentService.createTextOutput(JSON.stringify({result: 'success'})).setMimeType(ContentService.MimeType.JSON);
      }

      // Remove all rows with this quiz ID
      const allData = sheet.getDataRange().getValues();
      const rowsToKeep = allData.filter((row, idx) => idx === 0 || row[0] !== quizId);
      
      sheet.clear();
      if (rowsToKeep.length > 0) {
        sheet.getRange(1, 1, rowsToKeep.length, QUIZ_HEADERS.length).setValues(rowsToKeep);
      }
      
      return ContentService.createTextOutput(JSON.stringify({result: 'success'})).setMimeType(ContentService.MimeType.JSON);
    }

    if (action === 'SAVE_RESULT') {
      let sheet = ss.getSheetByName('Results');
      if (!sheet) {
        sheet = ss.insertSheet('Results');
        sheet.appendRow(RESULT_HEADERS);
        sheet.setFrozenRows(1);
      } else if (sheet.getLastRow() === 0) {
        sheet.appendRow(RESULT_HEADERS);
        sheet.setFrozenRows(1);
      }

      const rankings = data.fullRankings || [];
      const now = new Date();
      
      // One row per player
      const rows = rankings.map(player => [
        data.gameId || '',
        data.quizId || '',
        data.quizTitle || '',
        data.winnerName || '',
        data.winnerScore || 0,
        player.id || '',
        player.name || '',
        player.rank || 0,
        player.score || 0,
        now
      ]);

      if (rows.length > 0) {
        sheet.getRange(sheet.getLastRow() + 1, 1, rows.length, RESULT_HEADERS.length).setValues(rows);
      }
      
      return ContentService.createTextOutput(JSON.stringify({result: 'success'})).setMimeType(ContentService.MimeType.JSON);
    }

  } catch (e) {
    return ContentService.createTextOutput(JSON.stringify({result: 'error', error: e.toString()})).setMimeType(ContentService.MimeType.JSON);
  } finally {
    lock.releaseLock();
  }
}`,AC=({onPlay:n,onCreate:e,onEdit:o,onBack:s})=>{const[l,u]=se.useState([]),[d,h]=se.useState(!1),[y,m]=se.useState(!1),[v,_]=se.useState(""),[T,E]=se.useState(!1),[M,L]=se.useState(!1),[w,H]=se.useState(!1),[j,J]=se.useState("idle");se.useEffect(()=>{W();const ie=Ni();ie&&(_(ie),E(!0))},[]);const W=async()=>{if(L(!0),Ni())try{const de=await vC();de&&de.length>0?(u(de),E(!0)):(u([bi]),E(!0))}catch(de){console.error(de);const Ce=localStorage.getItem("quizwiz_quizzes");if(Ce)try{u(JSON.parse(Ce))}catch{u([bi])}else u([bi])}else{const de=localStorage.getItem("quizwiz_quizzes");if(de)try{u(JSON.parse(de))}catch(Ce){console.error("Error parsing local quizzes",Ce),u([bi]),localStorage.setItem("quizwiz_quizzes",JSON.stringify([bi]))}else u([bi]),localStorage.setItem("quizwiz_quizzes",JSON.stringify([bi]))}L(!1)},re=()=>{v.trim()&&(gm(v),E(!0),W())},le=()=>{yC(),_(""),E(!1),W()},$=async()=>{!T&&v.trim()&&(gm(v),E(!0)),H(!0),J("idle");try{const ie=localStorage.getItem("quizwiz_quizzes");if(ie){const de=JSON.parse(ie);for(const Ce of de)await Q0(Ce);await W(),J("success"),setTimeout(()=>J("idle"),3e3)}}catch(ie){console.error("Sync failed",ie),alert("Sync failed. Check console or verify your Script URL.")}finally{H(!1)}},ge=async(ie,de)=>{if(de.stopPropagation(),confirm("Are you sure you want to delete this quiz?")){const Ce=l.filter(_e=>_e.id!==ie);if(u(Ce),localStorage.setItem("quizwiz_quizzes",JSON.stringify(Ce)),T&&Ni())try{await _C(ie)}catch(_e){console.error("Failed to delete from sheet",_e),alert("Quiz deleted locally, but failed to delete from Google Sheet. Please check your connection.")}}},ne=()=>{navigator.clipboard.writeText(_m),alert("Code copied to clipboard!")};return C.jsxs("div",{className:"min-h-screen p-6 md:p-12 max-w-7xl mx-auto bg-indigo-50 dark:bg-slate-900 transition-colors",children:[y&&C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-pop",children:C.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[C.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center",children:[C.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Google Sheets Integration Setup"}),C.jsx("button",{onClick:()=>m(!1),className:"text-slate-500 hover:text-red-500 transition-colors",children:C.jsx(ec,{className:"w-6 h-6"})})]}),C.jsxs("div",{className:"p-6 overflow-y-auto space-y-4 text-slate-600 dark:text-slate-300",children:[C.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-4 rounded-lg border border-indigo-200 dark:border-indigo-500/30",children:[C.jsx("p",{className:"font-bold text-indigo-700 dark:text-indigo-300",children:"Update Available!"}),C.jsx("p",{className:"text-sm",children:"The script has been updated to make the Google Sheet more readable. Please re-copy the code below and update your script in Apps Script."})]}),C.jsx("p",{children:"To enable cloud saving and multiplayer results tracking, follow these steps:"}),C.jsxs("ol",{className:"list-decimal pl-5 space-y-2",children:[C.jsxs("li",{children:["Create a new ",C.jsx("strong",{children:"Google Sheet"}),"."]}),C.jsxs("li",{children:["Go to ",C.jsx("strong",{children:"Extensions > Apps Script"}),"."]}),C.jsxs("li",{children:["Delete any code in ",C.jsx("code",{children:"Code.gs"})," and paste the script below."]}),C.jsxs("li",{children:["Click ",C.jsx("strong",{children:"Deploy > New Deployment"}),"."]}),C.jsxs("li",{children:["Select type: ",C.jsx("strong",{children:"Web app"}),"."]}),C.jsxs("li",{children:["Set ",C.jsx("strong",{children:"Who has access"})," to ",C.jsx("strong",{children:'"Anyone"'})," (Important!)."]}),C.jsxs("li",{children:["Click ",C.jsx("strong",{children:"Deploy"}),", copy the ",C.jsx("strong",{children:"Web App URL"}),", and paste it in the Dashboard."]})]}),C.jsxs("div",{className:"relative mt-4",children:[C.jsxs("button",{onClick:ne,className:"absolute top-2 right-2 bg-indigo-600 hover:bg-indigo-500 text-white px-3 py-1 rounded-md text-sm font-bold flex items-center gap-2",children:[C.jsx(n0,{className:"w-4 h-4"})," Copy"]}),C.jsx("pre",{className:"bg-slate-900 text-slate-300 p-4 rounded-xl text-xs overflow-x-auto font-mono border border-slate-700",children:_m})]})]})]})}),C.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-6",children:[C.jsxs("div",{children:[C.jsx("button",{onClick:s,className:"text-slate-500 dark:text-slate-400 hover:text-indigo-600 dark:hover:text-white mb-2 transition-colors",children:" Back to Landing"}),C.jsxs("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[C.jsx(sT,{className:"text-indigo-600 dark:text-indigo-500 w-10 h-10"})," Quiz Studio"]}),C.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your quiz library"})]}),C.jsxs("div",{className:"flex gap-3",children:[C.jsxs("button",{onClick:()=>h(!d),className:`flex items-center gap-2 px-4 py-3 border rounded-xl font-bold transition-all ${T?"border-green-500 bg-green-50 text-green-700 dark:bg-green-500/10 dark:text-green-400":"border-slate-300 dark:border-slate-600 hover:border-indigo-500 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300"}`,children:[C.jsx(KS,{className:"w-5 h-5"})," ",T?"Synced":"Connect Cloud"]}),C.jsxs("button",{onClick:e,className:"group flex items-center gap-2 px-6 py-3 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/30 transition-all active:scale-95",children:[C.jsx(s0,{className:"w-5 h-5 group-hover:rotate-90 transition-transform"})," Create New"]})]})]}),d&&C.jsxs("div",{className:"mb-8 p-6 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl animate-pop shadow-md",children:[C.jsxs("div",{className:"flex justify-between items-start mb-4",children:[C.jsxs("div",{children:[C.jsxs("h3",{className:"text-slate-900 dark:text-white font-bold mb-2 flex items-center gap-2",children:[C.jsx(i0,{className:"w-4 h-4 text-indigo-500"})," Connect Google Sheet"]}),C.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Paste your Google Apps Script Web App URL here to save quizzes and results to a spreadsheet."})]}),C.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 text-indigo-500 text-sm font-bold hover:underline",children:[C.jsx(HS,{className:"w-4 h-4"})," Setup Guide"]})]}),C.jsxs("div",{className:"flex flex-col gap-4",children:[C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"text",value:v,onChange:ie=>_(ie.target.value),placeholder:"https://script.google.com/macros/s/...",className:"flex-1 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-lg px-4 py-2 text-slate-900 dark:text-white outline-none focus:border-indigo-500 transition-colors"}),C.jsx("button",{onClick:re,className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-lg transition-colors",children:"Connect"}),T&&C.jsx("button",{onClick:le,className:"px-4 py-2 bg-red-50 text-red-600 dark:bg-red-500/10 dark:text-red-400 border border-red-200 dark:border-red-500/30 font-bold rounded-lg transition-colors",children:"Disconnect"})]}),(T||v.trim().length>0)&&C.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[C.jsxs("button",{onClick:$,disabled:w,className:"flex items-center gap-2 text-sm font-semibold text-slate-600 dark:text-slate-300 hover:text-indigo-600 dark:hover:text-white bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 px-4 py-2 rounded-lg transition-colors disabled:opacity-50",children:[w?C.jsx(im,{className:"w-4 h-4 animate-spin"}):j==="success"?C.jsx(t0,{className:"w-4 h-4 text-green-500"}):C.jsx($S,{className:"w-4 h-4"}),w?"Uploading...":j==="success"?"Synced!":"Sync Local Library to Cloud"]}),C.jsx("span",{className:"text-xs text-slate-400 italic",children:"Click sync to ensure your local quizzes are available on other devices."})]})]})]}),M?C.jsx("div",{className:"flex items-center justify-center py-20",children:C.jsx(im,{className:"w-8 h-8 text-indigo-500 animate-spin"})}):C.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.map(ie=>C.jsxs("div",{className:"group relative bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 rounded-2xl overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1 flex flex-col",children:[C.jsxs("div",{className:"h-40 w-full bg-slate-100 dark:bg-slate-700 relative overflow-hidden",children:[ie.coverImageUrl?C.jsx("img",{src:uc(ie.coverImageUrl),alt:ie.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):C.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-500/20 to-purple-500/20 flex items-center justify-center",children:C.jsx(yl,{className:"w-12 h-12 text-indigo-500/30"})}),C.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[C.jsx("button",{onClick:de=>{de.stopPropagation(),o(ie)},className:"p-2 bg-white/90 dark:bg-slate-800/90 text-slate-600 dark:text-slate-300 hover:text-indigo-600 rounded-lg shadow-sm backdrop-blur",title:"Edit",children:C.jsx(mT,{className:"w-4 h-4"})}),C.jsx("button",{onClick:de=>ge(ie.id,de),className:"p-2 bg-white/90 dark:bg-slate-800/90 text-slate-600 dark:text-slate-300 hover:text-red-500 rounded-lg shadow-sm backdrop-blur",title:"Delete",children:C.jsx(ju,{className:"w-4 h-4"})})]})]}),C.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[C.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 line-clamp-1",title:ie.title,children:ie.title}),ie.description&&C.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mb-4 line-clamp-2 flex-1",children:ie.description}),C.jsxs("div",{className:"flex items-center justify-between text-xs font-semibold text-slate-400 mt-auto mb-4 pt-4 border-t border-slate-100 dark:border-slate-700/50",children:[C.jsxs("span",{children:[ie.questions.length," Questions"]}),C.jsx("span",{children:new Date(ie.createdAt).toLocaleDateString()})]}),C.jsxs("button",{onClick:()=>n(ie),className:"w-full py-3 bg-slate-100 dark:bg-slate-700 group-hover:bg-indigo-600 text-slate-700 dark:text-white group-hover:text-white font-bold rounded-xl transition-all flex items-center justify-center gap-2",children:[C.jsx(o0,{className:"w-4 h-4 fill-current"})," Play Now"]})]})]},ie.id)),l.length===0&&C.jsx("div",{className:"col-span-full flex flex-col items-center justify-center p-12 text-slate-500 border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-2xl",children:C.jsx("p",{children:"No quizzes found. Create one to get started!"})})]})]})};var RC={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let NC,MC;function IC(){return{geminiUrl:NC,vertexUrl:MC}}function DC(n,e,o,s){var l,u;if(!(n!=null&&n.baseUrl)){const d=IC();return e?(l=d.vertexUrl)!==null&&l!==void 0?l:o:(u=d.geminiUrl)!==null&&u!==void 0?u:s}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mn{}function te(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(s,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const u=e[l];return u!=null?String(u):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function f(n,e,o){for(let u=0;u<e.length-1;u++){const d=e[u];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in n))if(Array.isArray(o))n[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(n[h])){const y=n[h];if(Array.isArray(o))for(let m=0;m<y.length;m++){const v=y[m];f(v,e.slice(u+1),o[m])}else for(const m of y)f(m,e.slice(u+1),o)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in n||(n[h]=[{}]);const y=n[h];f(y[0],e.slice(u+1),o);return}(!n[d]||typeof n[d]!="object")&&(n[d]={}),n=n[d]}const s=e[e.length-1],l=n[s];if(l!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===l)return;if(typeof l=="object"&&typeof o=="object"&&l!==null&&o!==null)Object.assign(l,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(n,o):n[s]=o}function c(n,e,o=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let s=0;s<e.length;s++){if(typeof n!="object"||n===null)return o;const l=e[s];if(l.endsWith("[]")){const u=l.slice(0,-2);if(u in n){const d=n[u];return Array.isArray(d)?d.map(h=>c(h,e.slice(s+1),o)):o}else return o}else n=n[l]}return n}catch(s){if(s instanceof TypeError)return o;throw s}}function kC(n,e){for(const[o,s]of Object.entries(e)){const l=o.split("."),u=s.split("."),d=new Set;let h=-1;for(let y=0;y<l.length;y++)if(l[y]==="*"){h=y;break}if(h!==-1&&u.length>h)for(let y=h;y<u.length;y++){const m=u[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&d.add(m)}cc(n,l,u,0,d)}}function cc(n,e,o,s,l){if(s>=e.length||typeof n!="object"||n===null)return;const u=e[s];if(u.endsWith("[]")){const d=u.slice(0,-2),h=n;if(d in h&&Array.isArray(h[d]))for(const y of h[d])cc(y,e,o,s+1,l)}else if(u==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const d=n,h=Object.keys(d).filter(m=>!m.startsWith("_")&&!l.has(m)),y={};for(const m of h)y[m]=d[m];for(const[m,v]of Object.entries(y)){const _=[];for(const T of o.slice(s))T==="*"?_.push(m):_.push(T);f(d,_,v)}for(const m of h)delete d[m]}}else{const d=n;u in d&&cc(d[u],e,o,s+1,l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uc(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wC(n){const e={},o=c(n,["operationName"]);o!=null&&f(e,["operationName"],o);const s=c(n,["resourceName"]);return s!=null&&f(e,["_url","resourceName"],s),e}function UC(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],PC(d)),e}function LC(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],OC(d)),e}function PC(n){const e={},o=c(n,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>GC(d))),f(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function OC(n){const e={},o=c(n,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>zC(d))),f(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function GC(n){const e={},o=c(n,["video"]);return o!=null&&f(e,["video"],JC(o)),e}function zC(n){const e={},o=c(n,["_self"]);return o!=null&&f(e,["video"],YC(o)),e}function qC(n){const e={},o=c(n,["operationName"]);return o!=null&&f(e,["_url","operationName"],o),e}function HC(n){const e={},o=c(n,["operationName"]);return o!=null&&f(e,["_url","operationName"],o),e}function VC(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],BC(d)),e}function BC(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["parent"]);s!=null&&f(e,["parent"],s);const l=c(n,["documentName"]);return l!=null&&f(e,["documentName"],l),e}function K0(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],FC(d)),e}function FC(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["parent"]);s!=null&&f(e,["parent"],s);const l=c(n,["documentName"]);return l!=null&&f(e,["documentName"],l),e}function JC(n){const e={},o=c(n,["uri"]);o!=null&&f(e,["uri"],o);const s=c(n,["encodedVideo"]);s!=null&&f(e,["videoBytes"],Uc(s));const l=c(n,["encoding"]);return l!=null&&f(e,["mimeType"],l),e}function YC(n){const e={},o=c(n,["gcsUri"]);o!=null&&f(e,["uri"],o);const s=c(n,["bytesBase64Encoded"]);s!=null&&f(e,["videoBytes"],Uc(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Sm;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Sm||(Sm={}));var Tm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Tm||(Tm={}));var Cm;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Cm||(Cm={}));var St;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(St||(St={}));var xm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(xm||(xm={}));var Em;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Em||(Em={}));var bm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(bm||(bm={}));var Am;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Am||(Am={}));var Rm;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Rm||(Rm={}));var Nm;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(Nm||(Nm={}));var Mm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Mm||(Mm={}));var Im;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Im||(Im={}));var Dm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Dm||(Dm={}));var km;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(km||(km={}));var wm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(wm||(wm={}));var Um;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Um||(Um={}));var Lm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Lm||(Lm={}));var Pm;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Pm||(Pm={}));var Om;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Om||(Om={}));var fl;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(fl||(fl={}));var Gm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Gm||(Gm={}));var zm;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(zm||(zm={}));var qm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(qm||(qm={}));var fc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(fc||(fc={}));var Hm;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Hm||(Hm={}));var Vm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Vm||(Vm={}));var Bm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Bm||(Bm={}));var Fm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Fm||(Fm={}));var Jm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Jm||(Jm={}));var Ym;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ym||(Ym={}));var $m;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})($m||($m={}));var Qm;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Qm||(Qm={}));var Km;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Km||(Km={}));var Xm;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Xm||(Xm={}));var Zm;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Zm||(Zm={}));var Wm;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Wm||(Wm={}));var jm;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(jm||(jm={}));var eg;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(eg||(eg={}));var tg;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(tg||(tg={}));var ng;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(ng||(ng={}));var ig;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(ig||(ig={}));var og;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(og||(og={}));var sg;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(sg||(sg={}));var rg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(rg||(rg={}));var lg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(lg||(lg={}));var ag;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(ag||(ag={}));var ug;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ug||(ug={}));var cg;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(cg||(cg={}));var fg;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(fg||(fg={}));var dg;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(dg||(dg={}));var pg;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(pg||(pg={}));var hg;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(hg||(hg={}));var mg;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(mg||(mg={}));var gg;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(gg||(gg={}));var yg;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(yg||(yg={}));var _o;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(_o||(_o={}));class dc{constructor(e){const o={};for(const s of e.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class xs{get text(){var e,o,s,l,u,d,h,y;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const _=[];for(const T of(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[E,M]of Object.entries(T))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(M!==null||M!==void 0)&&_.push(E);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;v=!0,m+=T.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var e,o,s,l,u,d,h,y;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const _ of(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[T,E]of Object.entries(_))T!=="inlineData"&&(E!==null||E!==void 0)&&v.push(T);_.inlineData&&typeof _.inlineData.data=="string"&&(m+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,o,s,l,u,d,h,y;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,o,s,l,u,d,h,y,m;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,o,s,l,u,d,h,y,m;if(((l=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class vg{}class _g{}class $C{}class QC{}class KC{}class XC{}class Sg{}class Tg{}class Cg{}class ZC{}class dl{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new dl;let l;const u=e;return o?l=LC(u):l=UC(u),Object.assign(s,l),s}}class xg{}class Eg{}class bg{}class Ag{}class WC{}class jC{}class ex{}class Lc{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new Lc,u=VC(e);return Object.assign(s,u),s}}class tx{}class nx{}class ix{}class Rg{}class ox{get text(){var e,o,s;let l="",u=!1;const d=[];for(const h of(s=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,m]of Object.entries(h))y!=="text"&&y!=="thought"&&m!==null&&d.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,l+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?l:void 0}get data(){var e,o,s;let l="";const u=[];for(const d of(s=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[h,y]of Object.entries(d))h!=="inlineData"&&y!==null&&u.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(l+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class sx{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Pc{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new Pc,u=K0(e);return Object.assign(s,u),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function we(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function X0(n,e){const o=we(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function Z0(n){return Array.isArray(n)?n.map(e=>pl(e)):[pl(n)]}function pl(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function W0(n){const e=pl(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function j0(n){const e=pl(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Ng(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function ey(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Ng(e)):[Ng(n)]}function pc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Mg(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Ig(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function gt(n){if(n==null)throw new Error("ContentUnion is required");return pc(n)?n:{role:"user",parts:ey(n)}}function Oc(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const s=gt(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(n.isVertexAI()){const o=gt(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>gt(o)):[gt(e)]}function Zt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Mg(n)||Ig(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[gt(n)]}const e=[],o=[],s=pc(n[0]);for(const l of n){const u=pc(l);if(u!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(l);else{if(Mg(l)||Ig(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(l)}}return s||e.push({role:"user",parts:ey(o)}),e}function rx(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(s=>s!=="null");if(o.length===1)e.type=Object.values(St).includes(o[0].toUpperCase())?o[0].toUpperCase():St.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of o)e.anyOf.push({type:Object.values(St).includes(s.toUpperCase())?s.toUpperCase():St.TYPE_UNSPECIFIED})}}function Co(n){const e={},o=["items"],s=["anyOf"],l=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=n.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,n=u[1]):u[1].type==="null"&&(e.nullable=!0,n=u[0])),n.type instanceof Array&&rx(n.type,e);for(const[d,h]of Object.entries(n))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(St).includes(h.toUpperCase())?h.toUpperCase():St.TYPE_UNSPECIFIED}else if(o.includes(d))e[d]=Co(h);else if(s.includes(d)){const y=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}y.push(Co(m))}e[d]=y}else if(l.includes(d)){const y={};for(const[m,v]of Object.entries(h))y[m]=Co(v);e[d]=y}else{if(d==="additionalProperties")continue;e[d]=h}return e}function Gc(n){return Co(n)}function zc(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function qc(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Eo(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Co(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Co(e.response));return n}function bo(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function lx(n,e,o,s=1){const l=!e.startsWith(`${o}/`)&&e.split("/").length===s;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:l?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:l?`${o}/${e}`:e}function In(n,e){if(typeof e!="string")throw new Error("name must be a string");return lx(n,e,"cachedContents")}function ty(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function si(n){return Uc(n)}function ax(n){return n!=null&&typeof n=="object"&&"name"in n}function ux(n){return n!=null&&typeof n=="object"&&"video"in n}function cx(n){return n!=null&&typeof n=="object"&&"uri"in n}function ny(n){var e;let o;if(ax(n)&&(o=n.name),!(cx(n)&&(o=n.uri,o===void 0))&&!(ux(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const l=o.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${o}`);o=l[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function iy(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function oy(n){for(const e of["models","tunedModels","publisherModels"])if(fx(n,e))return n[e];return[]}function fx(n,e){return n!==null&&typeof n=="object"&&e in n}function dx(n,e={}){const o=n,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function px(n,e={}){const o=[],s=new Set;for(const l of n){const u=l.name;if(s.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);s.add(u);const d=dx(l,e);d.functionDeclarations&&o.push(...d.functionDeclarations)}return{functionDeclarations:o}}function sy(n,e){let o;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,l=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(n.isVertexAI()){if(l>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function hx(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function ry(n){if(typeof n!="object"||n===null)return{};const e=n,o=e.inlinedResponses;if(typeof o!="object"||o===null)return n;const l=o.inlinedResponses;if(!Array.isArray(l)||l.length===0)return n;let u=!1;for(const d of l){if(typeof d!="object"||d===null)continue;const y=d.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Ao(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function ly(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mx(n){const e={},o=c(n,["responsesFile"]);o!=null&&f(e,["fileName"],o);const s=c(n,["inlinedResponses","inlinedResponses"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Kx(d))),f(e,["inlinedResponses"],u)}const l=c(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["inlinedEmbedContentResponses"],u)}return e}function gx(n){const e={},o=c(n,["predictionsFormat"]);o!=null&&f(e,["format"],o);const s=c(n,["gcsDestination","outputUriPrefix"]);s!=null&&f(e,["gcsUri"],s);const l=c(n,["bigqueryDestination","outputUri"]);return l!=null&&f(e,["bigqueryUri"],l),e}function yx(n){const e={},o=c(n,["format"]);o!=null&&f(e,["predictionsFormat"],o);const s=c(n,["gcsUri"]);s!=null&&f(e,["gcsDestination","outputUriPrefix"],s);const l=c(n,["bigqueryUri"]);if(l!=null&&f(e,["bigqueryDestination","outputUri"],l),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function rl(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata","displayName"]);s!=null&&f(e,["displayName"],s);const l=c(n,["metadata","state"]);l!=null&&f(e,["state"],ly(l));const u=c(n,["metadata","createTime"]);u!=null&&f(e,["createTime"],u);const d=c(n,["metadata","endTime"]);d!=null&&f(e,["endTime"],d);const h=c(n,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const y=c(n,["metadata","model"]);y!=null&&f(e,["model"],y);const m=c(n,["metadata","output"]);return m!=null&&f(e,["dest"],mx(ry(m))),e}function hc(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["displayName"]);s!=null&&f(e,["displayName"],s);const l=c(n,["state"]);l!=null&&f(e,["state"],ly(l));const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["createTime"]);d!=null&&f(e,["createTime"],d);const h=c(n,["startTime"]);h!=null&&f(e,["startTime"],h);const y=c(n,["endTime"]);y!=null&&f(e,["endTime"],y);const m=c(n,["updateTime"]);m!=null&&f(e,["updateTime"],m);const v=c(n,["model"]);v!=null&&f(e,["model"],v);const _=c(n,["inputConfig"]);_!=null&&f(e,["src"],vx(_));const T=c(n,["outputConfig"]);T!=null&&f(e,["dest"],gx(ry(T)));const E=c(n,["completionStats"]);return E!=null&&f(e,["completionStats"],E),e}function vx(n){const e={},o=c(n,["instancesFormat"]);o!=null&&f(e,["format"],o);const s=c(n,["gcsSource","uris"]);s!=null&&f(e,["gcsUri"],s);const l=c(n,["bigquerySource","inputUri"]);return l!=null&&f(e,["bigqueryUri"],l),e}function _x(n,e){const o={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=c(e,["fileName"]);s!=null&&f(o,["fileName"],s);const l=c(e,["inlinedRequests"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>Qx(n,d))),f(o,["requests","requests"],u)}return o}function Sx(n){const e={},o=c(n,["format"]);o!=null&&f(e,["instancesFormat"],o);const s=c(n,["gcsUri"]);s!=null&&f(e,["gcsSource","uris"],s);const l=c(n,["bigqueryUri"]);if(l!=null&&f(e,["bigquerySource","inputUri"],l),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Tx(n){const e={},o=c(n,["data"]);if(o!=null&&f(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Cx(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],Ao(n,s)),o}function xx(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],Ao(n,s)),o}function Ex(n){const e={},o=c(n,["content"]);o!=null&&f(e,["content"],o);const s=c(n,["citationMetadata"]);s!=null&&f(e,["citationMetadata"],bx(s));const l=c(n,["tokenCount"]);l!=null&&f(e,["tokenCount"],l);const u=c(n,["finishReason"]);u!=null&&f(e,["finishReason"],u);const d=c(n,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const h=c(n,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const y=c(n,["index"]);y!=null&&f(e,["index"],y);const m=c(n,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const v=c(n,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(E=>E)),f(e,["safetyRatings"],T)}const _=c(n,["urlContextMetadata"]);return _!=null&&f(e,["urlContextMetadata"],_),e}function bx(n){const e={},o=c(n,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),f(e,["citations"],s)}return e}function ay(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>nE(u))),f(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function Ax(n,e){const o={},s=c(n,["displayName"]);if(e!==void 0&&s!=null&&f(e,["batch","displayName"],s),c(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function Rx(n,e){const o={},s=c(n,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const l=c(n,["dest"]);return e!==void 0&&l!=null&&f(e,["outputConfig"],yx(hx(l))),o}function Dg(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],we(n,s));const l=c(e,["src"]);l!=null&&f(o,["batch","inputConfig"],_x(n,sy(n,l)));const u=c(e,["config"]);return u!=null&&Ax(u,o),o}function Nx(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["model"],we(n,s));const l=c(e,["src"]);l!=null&&f(o,["inputConfig"],Sx(sy(n,l)));const u=c(e,["config"]);return u!=null&&Rx(u,o),o}function Mx(n,e){const o={},s=c(n,["displayName"]);return e!==void 0&&s!=null&&f(e,["batch","displayName"],s),o}function Ix(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],we(n,s));const l=c(e,["src"]);l!=null&&f(o,["batch","inputConfig"],Ox(n,l));const u=c(e,["config"]);return u!=null&&Mx(u,o),o}function Dx(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],Ao(n,s)),o}function kx(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],Ao(n,s)),o}function wx(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);return u!=null&&f(e,["error"],u),e}function Ux(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);return u!=null&&f(e,["error"],u),e}function Lx(n,e){const o={},s=c(e,["contents"]);if(s!=null){let u=Oc(n,s);Array.isArray(u)&&(u=u.map(d=>d)),f(o,["requests[]","request","content"],u)}const l=c(e,["config"]);return l!=null&&(f(o,["_self"],Px(l,o)),kC(o,{"requests[].*":"requests[].request.*"})),o}function Px(n,e){const o={},s=c(n,["taskType"]);e!==void 0&&s!=null&&f(e,["requests[]","taskType"],s);const l=c(n,["title"]);e!==void 0&&l!=null&&f(e,["requests[]","title"],l);const u=c(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&f(e,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Ox(n,e){const o={},s=c(e,["fileName"]);s!=null&&f(o,["file_name"],s);const l=c(e,["inlinedRequests"]);return l!=null&&f(o,["requests"],Lx(n,l)),o}function Gx(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function zx(n){const e={},o=c(n,["id"]);o!=null&&f(e,["id"],o);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function qx(n){const e={},o=c(n,["mode"]);o!=null&&f(e,["mode"],o);const s=c(n,["allowedFunctionNames"]);if(s!=null&&f(e,["allowedFunctionNames"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Hx(n,e,o){const s={},l=c(e,["systemInstruction"]);o!==void 0&&l!=null&&f(o,["systemInstruction"],ay(gt(l)));const u=c(e,["temperature"]);u!=null&&f(s,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(s,["topP"],d);const h=c(e,["topK"]);h!=null&&f(s,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const _=c(e,["responseLogprobs"]);_!=null&&f(s,["responseLogprobs"],_);const T=c(e,["logprobs"]);T!=null&&f(s,["logprobs"],T);const E=c(e,["presencePenalty"]);E!=null&&f(s,["presencePenalty"],E);const M=c(e,["frequencyPenalty"]);M!=null&&f(s,["frequencyPenalty"],M);const L=c(e,["seed"]);L!=null&&f(s,["seed"],L);const w=c(e,["responseMimeType"]);w!=null&&f(s,["responseMimeType"],w);const H=c(e,["responseSchema"]);H!=null&&f(s,["responseSchema"],Gc(H));const j=c(e,["responseJsonSchema"]);if(j!=null&&f(s,["responseJsonSchema"],j),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=c(e,["safetySettings"]);if(o!==void 0&&J!=null){let _e=J;Array.isArray(_e)&&(_e=_e.map(Ie=>iE(Ie))),f(o,["safetySettings"],_e)}const W=c(e,["tools"]);if(o!==void 0&&W!=null){let _e=bo(W);Array.isArray(_e)&&(_e=_e.map(Ie=>sE(Eo(Ie)))),f(o,["tools"],_e)}const re=c(e,["toolConfig"]);if(o!==void 0&&re!=null&&f(o,["toolConfig"],oE(re)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const le=c(e,["cachedContent"]);o!==void 0&&le!=null&&f(o,["cachedContent"],In(n,le));const $=c(e,["responseModalities"]);$!=null&&f(s,["responseModalities"],$);const ge=c(e,["mediaResolution"]);ge!=null&&f(s,["mediaResolution"],ge);const ne=c(e,["speechConfig"]);if(ne!=null&&f(s,["speechConfig"],zc(ne)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=c(e,["thinkingConfig"]);ie!=null&&f(s,["thinkingConfig"],ie);const de=c(e,["imageConfig"]);de!=null&&f(s,["imageConfig"],$x(de));const Ce=c(e,["enableEnhancedCivicAnswers"]);return Ce!=null&&f(s,["enableEnhancedCivicAnswers"],Ce),s}function Vx(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(m=>Ex(m))),f(e,["candidates"],y)}const l=c(n,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const u=c(n,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(n,["responseId"]);d!=null&&f(e,["responseId"],d);const h=c(n,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function Bx(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],Ao(n,s)),o}function Fx(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],Ao(n,s)),o}function Jx(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function Yx(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function $x(n){const e={},o=c(n,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const s=c(n,["imageSize"]);if(s!=null&&f(e,["imageSize"],s),c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Qx(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["request","model"],we(n,s));const l=c(e,["contents"]);if(l!=null){let h=Zt(l);Array.isArray(h)&&(h=h.map(y=>ay(y))),f(o,["request","contents"],h)}const u=c(e,["metadata"]);u!=null&&f(o,["metadata"],u);const d=c(e,["config"]);return d!=null&&f(o,["request","generationConfig"],Hx(n,d,c(o,["request"],{}))),o}function Kx(n){const e={},o=c(n,["response"]);o!=null&&f(e,["response"],Vx(o));const s=c(n,["error"]);return s!=null&&f(e,["error"],s),e}function Xx(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);if(e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),c(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function Zx(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const u=c(n,["filter"]);return e!==void 0&&u!=null&&f(e,["_query","filter"],u),o}function Wx(n){const e={},o=c(n,["config"]);return o!=null&&Xx(o,e),e}function jx(n){const e={},o=c(n,["config"]);return o!=null&&Zx(o,e),e}function eE(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["operations"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>rl(d))),f(e,["batchJobs"],u)}return e}function tE(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["batchPredictionJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>hc(d))),f(e,["batchJobs"],u)}return e}function nE(n){const e={},o=c(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],Gx(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],zx(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],Tx(y));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const T=c(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function iE(n){const e={},o=c(n,["category"]);if(o!=null&&f(e,["category"],o),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(n,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function oE(n){const e={},o=c(n,["functionCallingConfig"]);o!=null&&f(e,["functionCallingConfig"],qx(o));const s=c(n,["retrievalConfig"]);return s!=null&&f(e,["retrievalConfig"],s),e}function sE(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const l=c(n,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(n,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(n,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],Jx(h));const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],Yx(y));const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Nn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Nn||(Nn={}));class ki{constructor(e,o,s,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,s,l)}init(e,o,s){var l,u;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!s||Object.keys(s).length===0?d={config:{}}:typeof s=="object"?d=Object.assign({},s):d=s,d.config&&(d.config.pageToken=o.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(u=(l=d.config)===null||l===void 0?void 0:l.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rE extends Mn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new ki(Nn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(e){const o=Dg(this.apiClient,e),s=o._url,l=te("{model}:batchGenerateContent",s),h=o.batch.inputConfig.requests,y=h.requests,m=[];for(const v of y){const _=Object.assign({},v);if(_.systemInstruction){const T=_.systemInstruction;delete _.systemInstruction;const E=_.request;E.systemInstruction=T,_.request=E}m.push(_)}return h.requests=m,delete o.config,delete o._url,delete o._query,{path:l,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const s=o?Object.assign({},o):{},l=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${l}`),s.dest===void 0){const u=this.getGcsUri(e),d=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?s.dest=`${u.slice(0,-6)}/dest`:s.dest=`${u}_dest_${l}`;else if(d)s.dest=`${d}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Nx(this.apiClient,e);return h=te("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>hc(v))}else{const m=Dg(this.apiClient,e);return h=te("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>rl(v))}}async createEmbeddingsInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Ix(this.apiClient,e);return u=te("{model}:asyncBatchEmbedContent",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>rl(y))}}async get(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Fx(this.apiClient,e);return h=te("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>hc(v))}else{const m=Bx(this.apiClient,e);return h=te("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>rl(v))}}async cancel(e){var o,s,l,u;let d="",h={};if(this.apiClient.isVertexAI()){const y=xx(this.apiClient,e);d=te("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=Cx(this.apiClient,e);d=te("batches/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=jx(e);return h=te("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=tE(v),T=new Rg;return Object.assign(T,_),T})}else{const m=Wx(e);return h=te("batches",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=eE(v),T=new Rg;return Object.assign(T,_),T})}}async delete(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=kx(this.apiClient,e);return h=te("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>Ux(v))}else{const m=Dx(this.apiClient,e);return h=te("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>wx(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lE(n){const e={},o=c(n,["data"]);if(o!=null&&f(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function kg(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>IE(u))),f(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function aE(n,e){const o={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const l=c(n,["expireTime"]);e!==void 0&&l!=null&&f(e,["expireTime"],l);const u=c(n,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(n,["contents"]);if(e!==void 0&&d!=null){let v=Zt(d);Array.isArray(v)&&(v=v.map(_=>kg(_))),f(e,["contents"],v)}const h=c(n,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],kg(gt(h)));const y=c(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(_=>kE(_))),f(e,["tools"],v)}const m=c(n,["toolConfig"]);if(e!==void 0&&m!=null&&f(e,["toolConfig"],DE(m)),c(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function uE(n,e){const o={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const l=c(n,["expireTime"]);e!==void 0&&l!=null&&f(e,["expireTime"],l);const u=c(n,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(n,["contents"]);if(e!==void 0&&d!=null){let _=Zt(d);Array.isArray(_)&&(_=_.map(T=>T)),f(e,["contents"],_)}const h=c(n,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],gt(h));const y=c(n,["tools"]);if(e!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(T=>wE(T))),f(e,["tools"],_)}const m=c(n,["toolConfig"]);e!==void 0&&m!=null&&f(e,["toolConfig"],m);const v=c(n,["kmsKeyName"]);return e!==void 0&&v!=null&&f(e,["encryption_spec","kmsKeyName"],v),o}function cE(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["model"],X0(n,s));const l=c(e,["config"]);return l!=null&&aE(l,o),o}function fE(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["model"],X0(n,s));const l=c(e,["config"]);return l!=null&&uE(l,o),o}function dE(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],In(n,s)),o}function pE(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],In(n,s)),o}function hE(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function mE(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function gE(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function yE(n){const e={},o=c(n,["id"]);o!=null&&f(e,["id"],o);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function vE(n){const e={},o=c(n,["mode"]);o!=null&&f(e,["mode"],o);const s=c(n,["allowedFunctionNames"]);if(s!=null&&f(e,["allowedFunctionNames"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function _E(n){const e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(n,["description"]);o!=null&&f(e,["description"],o);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const l=c(n,["parameters"]);l!=null&&f(e,["parameters"],l);const u=c(n,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(n,["response"]);d!=null&&f(e,["response"],d);const h=c(n,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function SE(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],In(n,s)),o}function TE(n,e){const o={},s=c(e,["name"]);return s!=null&&f(o,["_url","name"],In(n,s)),o}function CE(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function xE(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function EE(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function bE(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function AE(n){const e={},o=c(n,["config"]);return o!=null&&EE(o,e),e}function RE(n){const e={},o=c(n,["config"]);return o!=null&&bE(o,e),e}function NE(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function ME(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["cachedContents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function IE(n){const e={},o=c(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],gE(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],yE(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],lE(y));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const T=c(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function DE(n){const e={},o=c(n,["functionCallingConfig"]);o!=null&&f(e,["functionCallingConfig"],vE(o));const s=c(n,["retrievalConfig"]);return s!=null&&f(e,["retrievalConfig"],s),e}function kE(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const l=c(n,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(n,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(n,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],CE(h));const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],xE(y));const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function wE(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(T=>_E(T))),f(e,["functionDeclarations"],_)}const s=c(n,["retrieval"]);s!=null&&f(e,["retrieval"],s);const l=c(n,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const u=c(n,["computerUse"]);if(u!=null&&f(e,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(n,["codeExecution"]);d!=null&&f(e,["codeExecution"],d);const h=c(n,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const y=c(n,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const m=c(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],m);const v=c(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function UE(n,e){const o={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const l=c(n,["expireTime"]);return e!==void 0&&l!=null&&f(e,["expireTime"],l),o}function LE(n,e){const o={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const l=c(n,["expireTime"]);return e!==void 0&&l!=null&&f(e,["expireTime"],l),o}function PE(n,e){const o={},s=c(e,["name"]);s!=null&&f(o,["_url","name"],In(n,s));const l=c(e,["config"]);return l!=null&&UE(l,o),o}function OE(n,e){const o={},s=c(e,["name"]);s!=null&&f(o,["_url","name"],In(n,s));const l=c(e,["config"]);return l!=null&&LE(l,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GE extends Mn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new ki(Nn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=fE(this.apiClient,e);return h=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=cE(this.apiClient,e);return h=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async get(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=TE(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=SE(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async delete(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=pE(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=mE(v),T=new bg;return Object.assign(T,_),T})}else{const m=dE(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=hE(v),T=new bg;return Object.assign(T,_),T})}}async update(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=OE(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=PE(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async listInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=RE(e);return h=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=ME(v),T=new Ag;return Object.assign(T,_),T})}else{const m=AE(e);return h=te("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=NE(v),T=new Ag;return Object.assign(T,_),T})}}}function hl(n,e){var o={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(o[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(n);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(n,s[l])&&(o[s[l]]=n[s[l]]);return o}function wg(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],s=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ye(n){return this instanceof ye?(this.v=n,this):new ye(n)}function nn(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(n,e||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(E){return function(M){return Promise.resolve(M).then(E,_)}}function h(E,M){s[E]&&(l[E]=function(L){return new Promise(function(w,H){u.push([E,L,w,H])>1||y(E,L)})},M&&(l[E]=M(l[E])))}function y(E,M){try{m(s[E](M))}catch(L){T(u[0][3],L)}}function m(E){E.value instanceof ye?Promise.resolve(E.value.v).then(v,_):T(u[0][2],E)}function v(E){y("next",E)}function _(E){y("throw",E)}function T(E,M){E(M),u.shift(),u.length&&y(u[0][0],u[0][1])}}function on(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof wg=="function"?wg(n):n[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(u){o[u]=n[u]&&function(d){return new Promise(function(h,y){d=n[u](d),l(h,y,d.done,d.value)})}}function l(u,d,h,y){Promise.resolve(y).then(function(m){u({value:m,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zE(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:uy(o)}function uy(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function qE(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Ug(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let s=0;for(;s<o;)if(n[s].role==="user")e.push(n[s]),s++;else{const l=[];let u=!0;for(;s<o&&n[s].role==="model";)l.push(n[s]),u&&!uy(n[s])&&(u=!1),s++;u?e.push(...l):e.pop()}return e}class HE{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new VE(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class VE{constructor(e,o,s,l={},u=[]){this.apiClient=e,this.modelsModule=o,this.model=s,this.config=l,this.history=u,this.sendPromise=Promise.resolve(),qE(u)}async sendMessage(e){var o;await this.sendPromise;const s=gt(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var u,d,h;const y=await l,m=(d=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content,v=y.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let T=[];v!=null&&(T=(h=v.slice(_))!==null&&h!==void 0?h:[]);const E=m?[m]:[];this.recordHistory(s,E,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var o;await this.sendPromise;const s=gt(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const u=await l;return this.processStreamResponse(u,s)}getHistory(e=!1){const o=e?Ug(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){return nn(this,arguments,function*(){var l,u,d,h,y,m;const v=[];try{for(var _=!0,T=on(e),E;E=yield ye(T.next()),l=E.done,!l;_=!0){h=E.value,_=!1;const M=h;if(zE(M)){const L=(m=(y=M.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;L!==void 0&&v.push(L)}yield yield ye(M)}}catch(M){u={error:M}}finally{try{!_&&!l&&(d=T.return)&&(yield ye(d.call(T)))}finally{if(u)throw u.error}}this.recordHistory(o,v)})}recordHistory(e,o,s){let l=[];o.length>0&&o.every(u=>u.role!==void 0)?l=o:l.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Ug(s)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _l extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,_l.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BE(n){const e={},o=c(n,["file"]);return o!=null&&f(e,["file"],o),e}function FE(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function JE(n){const e={},o=c(n,["name"]);return o!=null&&f(e,["_url","file"],ny(o)),e}function YE(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function $E(n){const e={},o=c(n,["name"]);return o!=null&&f(e,["_url","file"],ny(o)),e}function QE(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function KE(n){const e={},o=c(n,["config"]);return o!=null&&QE(o,e),e}function XE(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["files"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["files"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZE extends Mn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new ki(Nn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>o)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=KE(e);return u=te("files",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=XE(y),v=new tx;return Object.assign(v,m),v})}}async createInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=BE(e);return u=te("upload/v1beta/files",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=FE(y),v=new nx;return Object.assign(v,m),v})}}async get(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=$E(e);return u=te("files/{file}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=JE(e);return u=te("files/{file}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=YE(y),v=new ix;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ll(n){const e={},o=c(n,["data"]);if(o!=null&&f(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function WE(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>hb(u))),f(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function jE(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function eb(n){const e={},o=c(n,["id"]);o!=null&&f(e,["id"],o);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tb(n){const e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(n,["description"]);o!=null&&f(e,["description"],o);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const l=c(n,["parameters"]);l!=null&&f(e,["parameters"],l);const u=c(n,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(n,["response"]);d!=null&&f(e,["response"],d);const h=c(n,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function nb(n){const e={},o=c(n,["modelSelectionConfig"]);o!=null&&f(e,["modelConfig"],o);const s=c(n,["responseJsonSchema"]);s!=null&&f(e,["responseJsonSchema"],s);const l=c(n,["audioTimestamp"]);l!=null&&f(e,["audioTimestamp"],l);const u=c(n,["candidateCount"]);u!=null&&f(e,["candidateCount"],u);const d=c(n,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const h=c(n,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const y=c(n,["logprobs"]);y!=null&&f(e,["logprobs"],y);const m=c(n,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const v=c(n,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const _=c(n,["presencePenalty"]);_!=null&&f(e,["presencePenalty"],_);const T=c(n,["responseLogprobs"]);T!=null&&f(e,["responseLogprobs"],T);const E=c(n,["responseMimeType"]);E!=null&&f(e,["responseMimeType"],E);const M=c(n,["responseModalities"]);M!=null&&f(e,["responseModalities"],M);const L=c(n,["responseSchema"]);L!=null&&f(e,["responseSchema"],L);const w=c(n,["routingConfig"]);w!=null&&f(e,["routingConfig"],w);const H=c(n,["seed"]);H!=null&&f(e,["seed"],H);const j=c(n,["speechConfig"]);j!=null&&f(e,["speechConfig"],j);const J=c(n,["stopSequences"]);J!=null&&f(e,["stopSequences"],J);const W=c(n,["temperature"]);W!=null&&f(e,["temperature"],W);const re=c(n,["thinkingConfig"]);re!=null&&f(e,["thinkingConfig"],re);const le=c(n,["topK"]);le!=null&&f(e,["topK"],le);const $=c(n,["topP"]);if($!=null&&f(e,["topP"],$),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ib(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function ob(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function sb(n,e){const o={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const l=c(n,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const u=c(n,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const v=c(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],qc(_));const T=c(n,["thinkingConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","thinkingConfig"],T);const E=c(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],E);const M=c(n,["systemInstruction"]);e!==void 0&&M!=null&&f(e,["setup","systemInstruction"],WE(gt(M)));const L=c(n,["tools"]);if(e!==void 0&&L!=null){let le=bo(L);Array.isArray(le)&&(le=le.map($=>gb(Eo($)))),f(e,["setup","tools"],le)}const w=c(n,["sessionResumption"]);e!==void 0&&w!=null&&f(e,["setup","sessionResumption"],mb(w));const H=c(n,["inputAudioTranscription"]);e!==void 0&&H!=null&&f(e,["setup","inputAudioTranscription"],H);const j=c(n,["outputAudioTranscription"]);e!==void 0&&j!=null&&f(e,["setup","outputAudioTranscription"],j);const J=c(n,["realtimeInputConfig"]);e!==void 0&&J!=null&&f(e,["setup","realtimeInputConfig"],J);const W=c(n,["contextWindowCompression"]);e!==void 0&&W!=null&&f(e,["setup","contextWindowCompression"],W);const re=c(n,["proactivity"]);if(e!==void 0&&re!=null&&f(e,["setup","proactivity"],re),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function rb(n,e){const o={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],nb(s));const l=c(n,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const u=c(n,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const v=c(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],qc(_));const T=c(n,["thinkingConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","thinkingConfig"],T);const E=c(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],E);const M=c(n,["systemInstruction"]);e!==void 0&&M!=null&&f(e,["setup","systemInstruction"],gt(M));const L=c(n,["tools"]);if(e!==void 0&&L!=null){let $=bo(L);Array.isArray($)&&($=$.map(ge=>yb(Eo(ge)))),f(e,["setup","tools"],$)}const w=c(n,["sessionResumption"]);e!==void 0&&w!=null&&f(e,["setup","sessionResumption"],w);const H=c(n,["inputAudioTranscription"]);e!==void 0&&H!=null&&f(e,["setup","inputAudioTranscription"],H);const j=c(n,["outputAudioTranscription"]);e!==void 0&&j!=null&&f(e,["setup","outputAudioTranscription"],j);const J=c(n,["realtimeInputConfig"]);e!==void 0&&J!=null&&f(e,["setup","realtimeInputConfig"],J);const W=c(n,["contextWindowCompression"]);e!==void 0&&W!=null&&f(e,["setup","contextWindowCompression"],W);const re=c(n,["proactivity"]);e!==void 0&&re!=null&&f(e,["setup","proactivity"],re);const le=c(n,["explicitVadSignal"]);return e!==void 0&&le!=null&&f(e,["setup","explicitVadSignal"],le),o}function lb(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["setup","model"],we(n,s));const l=c(e,["config"]);return l!=null&&f(o,["config"],sb(l,o)),o}function ab(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["setup","model"],we(n,s));const l=c(e,["config"]);return l!=null&&f(o,["config"],rb(l,o)),o}function ub(n){const e={},o=c(n,["musicGenerationConfig"]);return o!=null&&f(e,["musicGenerationConfig"],o),e}function cb(n){const e={},o=c(n,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),f(e,["weightedPrompts"],s)}return e}function fb(n){const e={},o=c(n,["media"]);if(o!=null){let m=Z0(o);Array.isArray(m)&&(m=m.map(v=>ll(v))),f(e,["mediaChunks"],m)}const s=c(n,["audio"]);s!=null&&f(e,["audio"],ll(j0(s)));const l=c(n,["audioStreamEnd"]);l!=null&&f(e,["audioStreamEnd"],l);const u=c(n,["video"]);u!=null&&f(e,["video"],ll(W0(u)));const d=c(n,["text"]);d!=null&&f(e,["text"],d);const h=c(n,["activityStart"]);h!=null&&f(e,["activityStart"],h);const y=c(n,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function db(n){const e={},o=c(n,["media"]);if(o!=null){let m=Z0(o);Array.isArray(m)&&(m=m.map(v=>v)),f(e,["mediaChunks"],m)}const s=c(n,["audio"]);s!=null&&f(e,["audio"],j0(s));const l=c(n,["audioStreamEnd"]);l!=null&&f(e,["audioStreamEnd"],l);const u=c(n,["video"]);u!=null&&f(e,["video"],W0(u));const d=c(n,["text"]);d!=null&&f(e,["text"],d);const h=c(n,["activityStart"]);h!=null&&f(e,["activityStart"],h);const y=c(n,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function pb(n){const e={},o=c(n,["setupComplete"]);o!=null&&f(e,["setupComplete"],o);const s=c(n,["serverContent"]);s!=null&&f(e,["serverContent"],s);const l=c(n,["toolCall"]);l!=null&&f(e,["toolCall"],l);const u=c(n,["toolCallCancellation"]);u!=null&&f(e,["toolCallCancellation"],u);const d=c(n,["usageMetadata"]);d!=null&&f(e,["usageMetadata"],vb(d));const h=c(n,["goAway"]);h!=null&&f(e,["goAway"],h);const y=c(n,["sessionResumptionUpdate"]);y!=null&&f(e,["sessionResumptionUpdate"],y);const m=c(n,["voiceActivityDetectionSignal"]);return m!=null&&f(e,["voiceActivityDetectionSignal"],m),e}function hb(n){const e={},o=c(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],jE(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],eb(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],ll(y));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const T=c(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function mb(n){const e={},o=c(n,["handle"]);if(o!=null&&f(e,["handle"],o),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function gb(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const l=c(n,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(n,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(n,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],ib(h));const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],ob(y));const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function yb(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(T=>tb(T))),f(e,["functionDeclarations"],_)}const s=c(n,["retrieval"]);s!=null&&f(e,["retrieval"],s);const l=c(n,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const u=c(n,["computerUse"]);if(u!=null&&f(e,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(n,["codeExecution"]);d!=null&&f(e,["codeExecution"],d);const h=c(n,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const y=c(n,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const m=c(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],m);const v=c(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function vb(n){const e={},o=c(n,["promptTokenCount"]);o!=null&&f(e,["promptTokenCount"],o);const s=c(n,["cachedContentTokenCount"]);s!=null&&f(e,["cachedContentTokenCount"],s);const l=c(n,["candidatesTokenCount"]);l!=null&&f(e,["responseTokenCount"],l);const u=c(n,["toolUsePromptTokenCount"]);u!=null&&f(e,["toolUsePromptTokenCount"],u);const d=c(n,["thoughtsTokenCount"]);d!=null&&f(e,["thoughtsTokenCount"],d);const h=c(n,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const y=c(n,["promptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(M=>M)),f(e,["promptTokensDetails"],E)}const m=c(n,["cacheTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(M=>M)),f(e,["cacheTokensDetails"],E)}const v=c(n,["candidatesTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(M=>M)),f(e,["responseTokensDetails"],E)}const _=c(n,["toolUsePromptTokensDetails"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(M=>M)),f(e,["toolUsePromptTokensDetails"],E)}const T=c(n,["trafficType"]);return T!=null&&f(e,["trafficType"],T),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _b(n){const e={},o=c(n,["data"]);if(o!=null&&f(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Sb(n){const e={},o=c(n,["content"]);o!=null&&f(e,["content"],o);const s=c(n,["citationMetadata"]);s!=null&&f(e,["citationMetadata"],Tb(s));const l=c(n,["tokenCount"]);l!=null&&f(e,["tokenCount"],l);const u=c(n,["finishReason"]);u!=null&&f(e,["finishReason"],u);const d=c(n,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const h=c(n,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const y=c(n,["index"]);y!=null&&f(e,["index"],y);const m=c(n,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const v=c(n,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(E=>E)),f(e,["safetyRatings"],T)}const _=c(n,["urlContextMetadata"]);return _!=null&&f(e,["urlContextMetadata"],_),e}function Tb(n){const e={},o=c(n,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),f(e,["citations"],s)}return e}function Cb(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],we(n,s));const l=c(e,["contents"]);if(l!=null){let u=Zt(l);Array.isArray(u)&&(u=u.map(d=>d)),f(o,["contents"],u)}return o}function xb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["tokensInfo"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),f(e,["tokensInfo"],l)}return e}function Eb(n){const e={},o=c(n,["values"]);o!=null&&f(e,["values"],o);const s=c(n,["statistics"]);return s!=null&&f(e,["statistics"],bb(s)),e}function bb(n){const e={},o=c(n,["truncated"]);o!=null&&f(e,["truncated"],o);const s=c(n,["token_count"]);return s!=null&&f(e,["tokenCount"],s),e}function Sl(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>UA(u))),f(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function Ab(n){const e={},o=c(n,["controlType"]);o!=null&&f(e,["controlType"],o);const s=c(n,["enableControlImageComputation"]);return s!=null&&f(e,["computeControl"],s),e}function Rb(n){const e={};if(c(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Nb(n,e){const o={},s=c(n,["systemInstruction"]);e!==void 0&&s!=null&&f(e,["systemInstruction"],gt(s));const l=c(n,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>py(h))),f(e,["tools"],d)}const u=c(n,["generationConfig"]);return e!==void 0&&u!=null&&f(e,["generationConfig"],_A(u)),o}function Mb(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],we(n,s));const l=c(e,["contents"]);if(l!=null){let d=Zt(l);Array.isArray(d)&&(d=d.map(h=>Sl(h))),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&Rb(u),o}function Ib(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],we(n,s));const l=c(e,["contents"]);if(l!=null){let d=Zt(l);Array.isArray(d)&&(d=d.map(h=>h)),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&Nb(u,o),o}function Db(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["totalTokens"]);s!=null&&f(e,["totalTokens"],s);const l=c(n,["cachedContentTokenCount"]);return l!=null&&f(e,["cachedContentTokenCount"],l),e}function kb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["totalTokens"]);return s!=null&&f(e,["totalTokens"],s),e}function wb(n,e){const o={},s=c(e,["model"]);return s!=null&&f(o,["_url","name"],we(n,s)),o}function Ub(n,e){const o={},s=c(e,["model"]);return s!=null&&f(o,["_url","name"],we(n,s)),o}function Lb(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function Pb(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function Ob(n,e){const o={},s=c(n,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const l=c(n,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);const u=c(n,["numberOfImages"]);e!==void 0&&u!=null&&f(e,["parameters","sampleCount"],u);const d=c(n,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const h=c(n,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const y=c(n,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const m=c(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const _=c(n,["includeSafetyAttributes"]);e!==void 0&&_!=null&&f(e,["parameters","includeSafetyAttributes"],_);const T=c(n,["includeRaiReason"]);e!==void 0&&T!=null&&f(e,["parameters","includeRaiReason"],T);const E=c(n,["language"]);e!==void 0&&E!=null&&f(e,["parameters","language"],E);const M=c(n,["outputMimeType"]);e!==void 0&&M!=null&&f(e,["parameters","outputOptions","mimeType"],M);const L=c(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&f(e,["parameters","outputOptions","compressionQuality"],L);const w=c(n,["addWatermark"]);e!==void 0&&w!=null&&f(e,["parameters","addWatermark"],w);const H=c(n,["labels"]);e!==void 0&&H!=null&&f(e,["labels"],H);const j=c(n,["editMode"]);e!==void 0&&j!=null&&f(e,["parameters","editMode"],j);const J=c(n,["baseSteps"]);return e!==void 0&&J!=null&&f(e,["parameters","editConfig","baseSteps"],J),o}function Gb(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],we(n,s));const l=c(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const u=c(e,["referenceImages"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>qA(y))),f(o,["instances[0]","referenceImages"],h)}const d=c(e,["config"]);return d!=null&&Ob(d,o),o}function zb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>Tl(u))),f(e,["generatedImages"],l)}return e}function qb(n,e){const o={},s=c(n,["taskType"]);e!==void 0&&s!=null&&f(e,["requests[]","taskType"],s);const l=c(n,["title"]);e!==void 0&&l!=null&&f(e,["requests[]","title"],l);const u=c(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&f(e,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Hb(n,e){const o={},s=c(n,["taskType"]);e!==void 0&&s!=null&&f(e,["instances[]","task_type"],s);const l=c(n,["title"]);e!==void 0&&l!=null&&f(e,["instances[]","title"],l);const u=c(n,["outputDimensionality"]);e!==void 0&&u!=null&&f(e,["parameters","outputDimensionality"],u);const d=c(n,["mimeType"]);e!==void 0&&d!=null&&f(e,["instances[]","mimeType"],d);const h=c(n,["autoTruncate"]);return e!==void 0&&h!=null&&f(e,["parameters","autoTruncate"],h),o}function Vb(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],we(n,s));const l=c(e,["contents"]);if(l!=null){let h=Oc(n,l);Array.isArray(h)&&(h=h.map(y=>y)),f(o,["requests[]","content"],h)}const u=c(e,["config"]);u!=null&&qb(u,o);const d=c(e,["model"]);return d!==void 0&&f(o,["requests[]","model"],we(n,d)),o}function Bb(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],we(n,s));const l=c(e,["contents"]);if(l!=null){let d=Oc(n,l);Array.isArray(d)&&(d=d.map(h=>h)),f(o,["instances[]","content"],d)}const u=c(e,["config"]);return u!=null&&Hb(u,o),o}function Fb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["embeddings"],u)}const l=c(n,["metadata"]);return l!=null&&f(e,["metadata"],l),e}function Jb(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["predictions[]","embeddings"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Eb(d))),f(e,["embeddings"],u)}const l=c(n,["metadata"]);return l!=null&&f(e,["metadata"],l),e}function Yb(n){const e={},o=c(n,["endpoint"]);o!=null&&f(e,["name"],o);const s=c(n,["deployedModelId"]);return s!=null&&f(e,["deployedModelId"],s),e}function $b(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Qb(n){const e={},o=c(n,["id"]);o!=null&&f(e,["id"],o);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Kb(n){const e={},o=c(n,["mode"]);o!=null&&f(e,["mode"],o);const s=c(n,["allowedFunctionNames"]);if(s!=null&&f(e,["allowedFunctionNames"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Xb(n){const e={};if(c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(n,["description"]);o!=null&&f(e,["description"],o);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const l=c(n,["parameters"]);l!=null&&f(e,["parameters"],l);const u=c(n,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(n,["response"]);d!=null&&f(e,["response"],d);const h=c(n,["responseJsonSchema"]);return h!=null&&f(e,["responseJsonSchema"],h),e}function Zb(n,e,o){const s={},l=c(e,["systemInstruction"]);o!==void 0&&l!=null&&f(o,["systemInstruction"],Sl(gt(l)));const u=c(e,["temperature"]);u!=null&&f(s,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(s,["topP"],d);const h=c(e,["topK"]);h!=null&&f(s,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const _=c(e,["responseLogprobs"]);_!=null&&f(s,["responseLogprobs"],_);const T=c(e,["logprobs"]);T!=null&&f(s,["logprobs"],T);const E=c(e,["presencePenalty"]);E!=null&&f(s,["presencePenalty"],E);const M=c(e,["frequencyPenalty"]);M!=null&&f(s,["frequencyPenalty"],M);const L=c(e,["seed"]);L!=null&&f(s,["seed"],L);const w=c(e,["responseMimeType"]);w!=null&&f(s,["responseMimeType"],w);const H=c(e,["responseSchema"]);H!=null&&f(s,["responseSchema"],Gc(H));const j=c(e,["responseJsonSchema"]);if(j!=null&&f(s,["responseJsonSchema"],j),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=c(e,["safetySettings"]);if(o!==void 0&&J!=null){let _e=J;Array.isArray(_e)&&(_e=_e.map(Ie=>HA(Ie))),f(o,["safetySettings"],_e)}const W=c(e,["tools"]);if(o!==void 0&&W!=null){let _e=bo(W);Array.isArray(_e)&&(_e=_e.map(Ie=>QA(Eo(Ie)))),f(o,["tools"],_e)}const re=c(e,["toolConfig"]);if(o!==void 0&&re!=null&&f(o,["toolConfig"],$A(re)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const le=c(e,["cachedContent"]);o!==void 0&&le!=null&&f(o,["cachedContent"],In(n,le));const $=c(e,["responseModalities"]);$!=null&&f(s,["responseModalities"],$);const ge=c(e,["mediaResolution"]);ge!=null&&f(s,["mediaResolution"],ge);const ne=c(e,["speechConfig"]);if(ne!=null&&f(s,["speechConfig"],zc(ne)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=c(e,["thinkingConfig"]);ie!=null&&f(s,["thinkingConfig"],ie);const de=c(e,["imageConfig"]);de!=null&&f(s,["imageConfig"],EA(de));const Ce=c(e,["enableEnhancedCivicAnswers"]);return Ce!=null&&f(s,["enableEnhancedCivicAnswers"],Ce),s}function Wb(n,e,o){const s={},l=c(e,["systemInstruction"]);o!==void 0&&l!=null&&f(o,["systemInstruction"],gt(l));const u=c(e,["temperature"]);u!=null&&f(s,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(s,["topP"],d);const h=c(e,["topK"]);h!=null&&f(s,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const m=c(e,["maxOutputTokens"]);m!=null&&f(s,["maxOutputTokens"],m);const v=c(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const _=c(e,["responseLogprobs"]);_!=null&&f(s,["responseLogprobs"],_);const T=c(e,["logprobs"]);T!=null&&f(s,["logprobs"],T);const E=c(e,["presencePenalty"]);E!=null&&f(s,["presencePenalty"],E);const M=c(e,["frequencyPenalty"]);M!=null&&f(s,["frequencyPenalty"],M);const L=c(e,["seed"]);L!=null&&f(s,["seed"],L);const w=c(e,["responseMimeType"]);w!=null&&f(s,["responseMimeType"],w);const H=c(e,["responseSchema"]);H!=null&&f(s,["responseSchema"],Gc(H));const j=c(e,["responseJsonSchema"]);j!=null&&f(s,["responseJsonSchema"],j);const J=c(e,["routingConfig"]);J!=null&&f(s,["routingConfig"],J);const W=c(e,["modelSelectionConfig"]);W!=null&&f(s,["modelConfig"],W);const re=c(e,["safetySettings"]);if(o!==void 0&&re!=null){let P=re;Array.isArray(P)&&(P=P.map(D=>D)),f(o,["safetySettings"],P)}const le=c(e,["tools"]);if(o!==void 0&&le!=null){let P=bo(le);Array.isArray(P)&&(P=P.map(D=>py(Eo(D)))),f(o,["tools"],P)}const $=c(e,["toolConfig"]);o!==void 0&&$!=null&&f(o,["toolConfig"],$);const ge=c(e,["labels"]);o!==void 0&&ge!=null&&f(o,["labels"],ge);const ne=c(e,["cachedContent"]);o!==void 0&&ne!=null&&f(o,["cachedContent"],In(n,ne));const ie=c(e,["responseModalities"]);ie!=null&&f(s,["responseModalities"],ie);const de=c(e,["mediaResolution"]);de!=null&&f(s,["mediaResolution"],de);const Ce=c(e,["speechConfig"]);Ce!=null&&f(s,["speechConfig"],zc(Ce));const _e=c(e,["audioTimestamp"]);_e!=null&&f(s,["audioTimestamp"],_e);const Ie=c(e,["thinkingConfig"]);Ie!=null&&f(s,["thinkingConfig"],Ie);const $e=c(e,["imageConfig"]);if($e!=null&&f(s,["imageConfig"],bA($e)),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}function Lg(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],we(n,s));const l=c(e,["contents"]);if(l!=null){let d=Zt(l);Array.isArray(d)&&(d=d.map(h=>Sl(h))),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&f(o,["generationConfig"],Zb(n,u,o)),o}function Pg(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],we(n,s));const l=c(e,["contents"]);if(l!=null){let d=Zt(l);Array.isArray(d)&&(d=d.map(h=>h)),f(o,["contents"],d)}const u=c(e,["config"]);return u!=null&&f(o,["generationConfig"],Wb(n,u,o)),o}function Og(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(m=>Sb(m))),f(e,["candidates"],y)}const l=c(n,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const u=c(n,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(n,["responseId"]);d!=null&&f(e,["responseId"],d);const h=c(n,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function Gg(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(v=>v)),f(e,["candidates"],m)}const l=c(n,["createTime"]);l!=null&&f(e,["createTime"],l);const u=c(n,["modelVersion"]);u!=null&&f(e,["modelVersion"],u);const d=c(n,["promptFeedback"]);d!=null&&f(e,["promptFeedback"],d);const h=c(n,["responseId"]);h!=null&&f(e,["responseId"],h);const y=c(n,["usageMetadata"]);return y!=null&&f(e,["usageMetadata"],y),e}function jb(n,e){const o={};if(c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=c(n,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const l=c(n,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);const u=c(n,["guidanceScale"]);if(e!==void 0&&u!=null&&f(e,["parameters","guidanceScale"],u),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=c(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&f(e,["parameters","safetySetting"],d);const h=c(n,["personGeneration"]);e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h);const y=c(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&f(e,["parameters","includeSafetyAttributes"],y);const m=c(n,["includeRaiReason"]);e!==void 0&&m!=null&&f(e,["parameters","includeRaiReason"],m);const v=c(n,["language"]);e!==void 0&&v!=null&&f(e,["parameters","language"],v);const _=c(n,["outputMimeType"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","mimeType"],_);const T=c(n,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&f(e,["parameters","outputOptions","compressionQuality"],T),c(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=c(n,["imageSize"]);if(e!==void 0&&E!=null&&f(e,["parameters","sampleImageSize"],E),c(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function eA(n,e){const o={},s=c(n,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const l=c(n,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);const u=c(n,["numberOfImages"]);e!==void 0&&u!=null&&f(e,["parameters","sampleCount"],u);const d=c(n,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const h=c(n,["guidanceScale"]);e!==void 0&&h!=null&&f(e,["parameters","guidanceScale"],h);const y=c(n,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const m=c(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const _=c(n,["includeSafetyAttributes"]);e!==void 0&&_!=null&&f(e,["parameters","includeSafetyAttributes"],_);const T=c(n,["includeRaiReason"]);e!==void 0&&T!=null&&f(e,["parameters","includeRaiReason"],T);const E=c(n,["language"]);e!==void 0&&E!=null&&f(e,["parameters","language"],E);const M=c(n,["outputMimeType"]);e!==void 0&&M!=null&&f(e,["parameters","outputOptions","mimeType"],M);const L=c(n,["outputCompressionQuality"]);e!==void 0&&L!=null&&f(e,["parameters","outputOptions","compressionQuality"],L);const w=c(n,["addWatermark"]);e!==void 0&&w!=null&&f(e,["parameters","addWatermark"],w);const H=c(n,["labels"]);e!==void 0&&H!=null&&f(e,["labels"],H);const j=c(n,["imageSize"]);e!==void 0&&j!=null&&f(e,["parameters","sampleImageSize"],j);const J=c(n,["enhancePrompt"]);return e!==void 0&&J!=null&&f(e,["parameters","enhancePrompt"],J),o}function tA(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],we(n,s));const l=c(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const u=c(e,["config"]);return u!=null&&jb(u,o),o}function nA(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],we(n,s));const l=c(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const u=c(e,["config"]);return u!=null&&eA(u,o),o}function iA(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>mA(d))),f(e,["generatedImages"],u)}const l=c(n,["positivePromptSafetyAttributes"]);return l!=null&&f(e,["positivePromptSafetyAttributes"],fy(l)),e}function oA(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Tl(d))),f(e,["generatedImages"],u)}const l=c(n,["positivePromptSafetyAttributes"]);return l!=null&&f(e,["positivePromptSafetyAttributes"],dy(l)),e}function sA(n,e){const o={},s=c(n,["numberOfVideos"]);if(e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s),c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=c(n,["durationSeconds"]);if(e!==void 0&&l!=null&&f(e,["parameters","durationSeconds"],l),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(n,["aspectRatio"]);e!==void 0&&u!=null&&f(e,["parameters","aspectRatio"],u);const d=c(n,["resolution"]);e!==void 0&&d!=null&&f(e,["parameters","resolution"],d);const h=c(n,["personGeneration"]);if(e!==void 0&&h!=null&&f(e,["parameters","personGeneration"],h),c(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=c(n,["negativePrompt"]);e!==void 0&&y!=null&&f(e,["parameters","negativePrompt"],y);const m=c(n,["enhancePrompt"]);if(e!==void 0&&m!=null&&f(e,["parameters","enhancePrompt"],m),c(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=c(n,["lastFrame"]);e!==void 0&&v!=null&&f(e,["instances[0]","lastFrame"],Cl(v));const _=c(n,["referenceImages"]);if(e!==void 0&&_!=null){let T=_;Array.isArray(T)&&(T=T.map(E=>l1(E))),f(e,["instances[0]","referenceImages"],T)}if(c(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function rA(n,e){const o={},s=c(n,["numberOfVideos"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const l=c(n,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const u=c(n,["fps"]);e!==void 0&&u!=null&&f(e,["parameters","fps"],u);const d=c(n,["durationSeconds"]);e!==void 0&&d!=null&&f(e,["parameters","durationSeconds"],d);const h=c(n,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const y=c(n,["aspectRatio"]);e!==void 0&&y!=null&&f(e,["parameters","aspectRatio"],y);const m=c(n,["resolution"]);e!==void 0&&m!=null&&f(e,["parameters","resolution"],m);const v=c(n,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const _=c(n,["pubsubTopic"]);e!==void 0&&_!=null&&f(e,["parameters","pubsubTopic"],_);const T=c(n,["negativePrompt"]);e!==void 0&&T!=null&&f(e,["parameters","negativePrompt"],T);const E=c(n,["enhancePrompt"]);e!==void 0&&E!=null&&f(e,["parameters","enhancePrompt"],E);const M=c(n,["generateAudio"]);e!==void 0&&M!=null&&f(e,["parameters","generateAudio"],M);const L=c(n,["lastFrame"]);e!==void 0&&L!=null&&f(e,["instances[0]","lastFrame"],sn(L));const w=c(n,["referenceImages"]);if(e!==void 0&&w!=null){let J=w;Array.isArray(J)&&(J=J.map(W=>a1(W))),f(e,["instances[0]","referenceImages"],J)}const H=c(n,["mask"]);e!==void 0&&H!=null&&f(e,["instances[0]","mask"],r1(H));const j=c(n,["compressionQuality"]);return e!==void 0&&j!=null&&f(e,["parameters","compressionQuality"],j),o}function lA(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],fA(d)),e}function aA(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],dA(d)),e}function uA(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],we(n,s));const l=c(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const u=c(e,["image"]);u!=null&&f(o,["instances[0]","image"],Cl(u));const d=c(e,["video"]);d!=null&&f(o,["instances[0]","video"],hy(d));const h=c(e,["source"]);h!=null&&pA(h,o);const y=c(e,["config"]);return y!=null&&sA(y,o),o}function cA(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],we(n,s));const l=c(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const u=c(e,["image"]);u!=null&&f(o,["instances[0]","image"],sn(u));const d=c(e,["video"]);d!=null&&f(o,["instances[0]","video"],my(d));const h=c(e,["source"]);h!=null&&hA(h,o);const y=c(e,["config"]);return y!=null&&rA(y,o),o}function fA(n){const e={},o=c(n,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>yA(d))),f(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function dA(n){const e={},o=c(n,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>vA(d))),f(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function pA(n,e){const o={},s=c(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const l=c(n,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],Cl(l));const u=c(n,["video"]);return e!==void 0&&u!=null&&f(e,["instances[0]","video"],hy(u)),o}function hA(n,e){const o={},s=c(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const l=c(n,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],sn(l));const u=c(n,["video"]);return e!==void 0&&u!=null&&f(e,["instances[0]","video"],my(u)),o}function mA(n){const e={},o=c(n,["_self"]);o!=null&&f(e,["image"],AA(o));const s=c(n,["raiFilteredReason"]);s!=null&&f(e,["raiFilteredReason"],s);const l=c(n,["_self"]);return l!=null&&f(e,["safetyAttributes"],fy(l)),e}function Tl(n){const e={},o=c(n,["_self"]);o!=null&&f(e,["image"],cy(o));const s=c(n,["raiFilteredReason"]);s!=null&&f(e,["raiFilteredReason"],s);const l=c(n,["_self"]);l!=null&&f(e,["safetyAttributes"],dy(l));const u=c(n,["prompt"]);return u!=null&&f(e,["enhancedPrompt"],u),e}function gA(n){const e={},o=c(n,["_self"]);o!=null&&f(e,["mask"],cy(o));const s=c(n,["labels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),f(e,["labels"],l)}return e}function yA(n){const e={},o=c(n,["video"]);return o!=null&&f(e,["video"],o1(o)),e}function vA(n){const e={},o=c(n,["_self"]);return o!=null&&f(e,["video"],s1(o)),e}function _A(n){const e={},o=c(n,["modelSelectionConfig"]);o!=null&&f(e,["modelConfig"],o);const s=c(n,["responseJsonSchema"]);s!=null&&f(e,["responseJsonSchema"],s);const l=c(n,["audioTimestamp"]);l!=null&&f(e,["audioTimestamp"],l);const u=c(n,["candidateCount"]);u!=null&&f(e,["candidateCount"],u);const d=c(n,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const h=c(n,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const y=c(n,["logprobs"]);y!=null&&f(e,["logprobs"],y);const m=c(n,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const v=c(n,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const _=c(n,["presencePenalty"]);_!=null&&f(e,["presencePenalty"],_);const T=c(n,["responseLogprobs"]);T!=null&&f(e,["responseLogprobs"],T);const E=c(n,["responseMimeType"]);E!=null&&f(e,["responseMimeType"],E);const M=c(n,["responseModalities"]);M!=null&&f(e,["responseModalities"],M);const L=c(n,["responseSchema"]);L!=null&&f(e,["responseSchema"],L);const w=c(n,["routingConfig"]);w!=null&&f(e,["routingConfig"],w);const H=c(n,["seed"]);H!=null&&f(e,["seed"],H);const j=c(n,["speechConfig"]);j!=null&&f(e,["speechConfig"],j);const J=c(n,["stopSequences"]);J!=null&&f(e,["stopSequences"],J);const W=c(n,["temperature"]);W!=null&&f(e,["temperature"],W);const re=c(n,["thinkingConfig"]);re!=null&&f(e,["thinkingConfig"],re);const le=c(n,["topK"]);le!=null&&f(e,["topK"],le);const $=c(n,["topP"]);if($!=null&&f(e,["topP"],$),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function SA(n,e){const o={},s=c(e,["model"]);return s!=null&&f(o,["_url","name"],we(n,s)),o}function TA(n,e){const o={},s=c(e,["model"]);return s!=null&&f(o,["_url","name"],we(n,s)),o}function CA(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function xA(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function EA(n){const e={},o=c(n,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const s=c(n,["imageSize"]);if(s!=null&&f(e,["imageSize"],s),c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function bA(n){const e={},o=c(n,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const s=c(n,["imageSize"]);s!=null&&f(e,["imageSize"],s);const l=c(n,["outputMimeType"]);l!=null&&f(e,["imageOutputOptions","mimeType"],l);const u=c(n,["outputCompressionQuality"]);return u!=null&&f(e,["imageOutputOptions","compressionQuality"],u),e}function AA(n){const e={},o=c(n,["bytesBase64Encoded"]);o!=null&&f(e,["imageBytes"],si(o));const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function cy(n){const e={},o=c(n,["gcsUri"]);o!=null&&f(e,["gcsUri"],o);const s=c(n,["bytesBase64Encoded"]);s!=null&&f(e,["imageBytes"],si(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function Cl(n){const e={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=c(n,["imageBytes"]);o!=null&&f(e,["bytesBase64Encoded"],si(o));const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function sn(n){const e={},o=c(n,["gcsUri"]);o!=null&&f(e,["gcsUri"],o);const s=c(n,["imageBytes"]);s!=null&&f(e,["bytesBase64Encoded"],si(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function RA(n,e,o){const s={},l=c(e,["pageSize"]);o!==void 0&&l!=null&&f(o,["_query","pageSize"],l);const u=c(e,["pageToken"]);o!==void 0&&u!=null&&f(o,["_query","pageToken"],u);const d=c(e,["filter"]);o!==void 0&&d!=null&&f(o,["_query","filter"],d);const h=c(e,["queryBase"]);return o!==void 0&&h!=null&&f(o,["_url","models_url"],iy(n,h)),s}function NA(n,e,o){const s={},l=c(e,["pageSize"]);o!==void 0&&l!=null&&f(o,["_query","pageSize"],l);const u=c(e,["pageToken"]);o!==void 0&&u!=null&&f(o,["_query","pageToken"],u);const d=c(e,["filter"]);o!==void 0&&d!=null&&f(o,["_query","filter"],d);const h=c(e,["queryBase"]);return o!==void 0&&h!=null&&f(o,["_url","models_url"],iy(n,h)),s}function MA(n,e){const o={},s=c(e,["config"]);return s!=null&&RA(n,s,o),o}function IA(n,e){const o={},s=c(e,["config"]);return s!=null&&NA(n,s,o),o}function DA(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["_self"]);if(l!=null){let u=oy(l);Array.isArray(u)&&(u=u.map(d=>mc(d))),f(e,["models"],u)}return e}function kA(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["_self"]);if(l!=null){let u=oy(l);Array.isArray(u)&&(u=u.map(d=>gc(d))),f(e,["models"],u)}return e}function wA(n){const e={},o=c(n,["maskMode"]);o!=null&&f(e,["maskMode"],o);const s=c(n,["segmentationClasses"]);s!=null&&f(e,["maskClasses"],s);const l=c(n,["maskDilation"]);return l!=null&&f(e,["dilation"],l),e}function mc(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["displayName"]);s!=null&&f(e,["displayName"],s);const l=c(n,["description"]);l!=null&&f(e,["description"],l);const u=c(n,["version"]);u!=null&&f(e,["version"],u);const d=c(n,["_self"]);d!=null&&f(e,["tunedModelInfo"],KA(d));const h=c(n,["inputTokenLimit"]);h!=null&&f(e,["inputTokenLimit"],h);const y=c(n,["outputTokenLimit"]);y!=null&&f(e,["outputTokenLimit"],y);const m=c(n,["supportedGenerationMethods"]);m!=null&&f(e,["supportedActions"],m);const v=c(n,["temperature"]);v!=null&&f(e,["temperature"],v);const _=c(n,["maxTemperature"]);_!=null&&f(e,["maxTemperature"],_);const T=c(n,["topP"]);T!=null&&f(e,["topP"],T);const E=c(n,["topK"]);E!=null&&f(e,["topK"],E);const M=c(n,["thinking"]);return M!=null&&f(e,["thinking"],M),e}function gc(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["displayName"]);s!=null&&f(e,["displayName"],s);const l=c(n,["description"]);l!=null&&f(e,["description"],l);const u=c(n,["versionId"]);u!=null&&f(e,["version"],u);const d=c(n,["deployedModels"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(T=>Yb(T))),f(e,["endpoints"],_)}const h=c(n,["labels"]);h!=null&&f(e,["labels"],h);const y=c(n,["_self"]);y!=null&&f(e,["tunedModelInfo"],XA(y));const m=c(n,["defaultCheckpointId"]);m!=null&&f(e,["defaultCheckpointId"],m);const v=c(n,["checkpoints"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(T=>T)),f(e,["checkpoints"],_)}return e}function UA(n){const e={},o=c(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],$b(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],Qb(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],_b(y));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const T=c(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function LA(n){const e={},o=c(n,["productImage"]);return o!=null&&f(e,["image"],sn(o)),e}function PA(n,e){const o={},s=c(n,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const l=c(n,["baseSteps"]);e!==void 0&&l!=null&&f(e,["parameters","baseSteps"],l);const u=c(n,["outputGcsUri"]);e!==void 0&&u!=null&&f(e,["parameters","storageUri"],u);const d=c(n,["seed"]);e!==void 0&&d!=null&&f(e,["parameters","seed"],d);const h=c(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&f(e,["parameters","safetySetting"],h);const y=c(n,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const m=c(n,["addWatermark"]);e!==void 0&&m!=null&&f(e,["parameters","addWatermark"],m);const v=c(n,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);const _=c(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","compressionQuality"],_);const T=c(n,["enhancePrompt"]);e!==void 0&&T!=null&&f(e,["parameters","enhancePrompt"],T);const E=c(n,["labels"]);return e!==void 0&&E!=null&&f(e,["labels"],E),o}function OA(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],we(n,s));const l=c(e,["source"]);l!=null&&zA(l,o);const u=c(e,["config"]);return u!=null&&PA(u,o),o}function GA(n){const e={},o=c(n,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>Tl(l))),f(e,["generatedImages"],s)}return e}function zA(n,e){const o={},s=c(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const l=c(n,["personImage"]);e!==void 0&&l!=null&&f(e,["instances[0]","personImage","image"],sn(l));const u=c(n,["productImages"]);if(e!==void 0&&u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>LA(h))),f(e,["instances[0]","productImages"],d)}return o}function qA(n){const e={},o=c(n,["referenceImage"]);o!=null&&f(e,["referenceImage"],sn(o));const s=c(n,["referenceId"]);s!=null&&f(e,["referenceId"],s);const l=c(n,["referenceType"]);l!=null&&f(e,["referenceType"],l);const u=c(n,["maskImageConfig"]);u!=null&&f(e,["maskImageConfig"],wA(u));const d=c(n,["controlImageConfig"]);d!=null&&f(e,["controlImageConfig"],Ab(d));const h=c(n,["styleImageConfig"]);h!=null&&f(e,["styleImageConfig"],h);const y=c(n,["subjectImageConfig"]);return y!=null&&f(e,["subjectImageConfig"],y),e}function fy(n){const e={},o=c(n,["safetyAttributes","categories"]);o!=null&&f(e,["categories"],o);const s=c(n,["safetyAttributes","scores"]);s!=null&&f(e,["scores"],s);const l=c(n,["contentType"]);return l!=null&&f(e,["contentType"],l),e}function dy(n){const e={},o=c(n,["safetyAttributes","categories"]);o!=null&&f(e,["categories"],o);const s=c(n,["safetyAttributes","scores"]);s!=null&&f(e,["scores"],s);const l=c(n,["contentType"]);return l!=null&&f(e,["contentType"],l),e}function HA(n){const e={},o=c(n,["category"]);if(o!=null&&f(e,["category"],o),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(n,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function VA(n){const e={},o=c(n,["image"]);return o!=null&&f(e,["image"],sn(o)),e}function BA(n,e){const o={},s=c(n,["mode"]);e!==void 0&&s!=null&&f(e,["parameters","mode"],s);const l=c(n,["maxPredictions"]);e!==void 0&&l!=null&&f(e,["parameters","maxPredictions"],l);const u=c(n,["confidenceThreshold"]);e!==void 0&&u!=null&&f(e,["parameters","confidenceThreshold"],u);const d=c(n,["maskDilation"]);e!==void 0&&d!=null&&f(e,["parameters","maskDilation"],d);const h=c(n,["binaryColorThreshold"]);e!==void 0&&h!=null&&f(e,["parameters","binaryColorThreshold"],h);const y=c(n,["labels"]);return e!==void 0&&y!=null&&f(e,["labels"],y),o}function FA(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],we(n,s));const l=c(e,["source"]);l!=null&&YA(l,o);const u=c(e,["config"]);return u!=null&&BA(u,o),o}function JA(n){const e={},o=c(n,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>gA(l))),f(e,["generatedMasks"],s)}return e}function YA(n,e){const o={},s=c(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const l=c(n,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],sn(l));const u=c(n,["scribbleImage"]);return e!==void 0&&u!=null&&f(e,["instances[0]","scribble"],VA(u)),o}function $A(n){const e={},o=c(n,["functionCallingConfig"]);o!=null&&f(e,["functionCallingConfig"],Kb(o));const s=c(n,["retrievalConfig"]);return s!=null&&f(e,["retrievalConfig"],s),e}function QA(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const l=c(n,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(n,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(n,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],CA(h));const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],xA(y));const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function py(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(T=>Xb(T))),f(e,["functionDeclarations"],_)}const s=c(n,["retrieval"]);s!=null&&f(e,["retrieval"],s);const l=c(n,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],l);const u=c(n,["computerUse"]);if(u!=null&&f(e,["computerUse"],u),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=c(n,["codeExecution"]);d!=null&&f(e,["codeExecution"],d);const h=c(n,["enterpriseWebSearch"]);h!=null&&f(e,["enterpriseWebSearch"],h);const y=c(n,["googleMaps"]);y!=null&&f(e,["googleMaps"],y);const m=c(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],m);const v=c(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function KA(n){const e={},o=c(n,["baseModel"]);o!=null&&f(e,["baseModel"],o);const s=c(n,["createTime"]);s!=null&&f(e,["createTime"],s);const l=c(n,["updateTime"]);return l!=null&&f(e,["updateTime"],l),e}function XA(n){const e={},o=c(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&f(e,["baseModel"],o);const s=c(n,["createTime"]);s!=null&&f(e,["createTime"],s);const l=c(n,["updateTime"]);return l!=null&&f(e,["updateTime"],l),e}function ZA(n,e){const o={},s=c(n,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const l=c(n,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const u=c(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&f(e,["defaultCheckpointId"],u),o}function WA(n,e){const o={},s=c(n,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const l=c(n,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const u=c(n,["defaultCheckpointId"]);return e!==void 0&&u!=null&&f(e,["defaultCheckpointId"],u),o}function jA(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","name"],we(n,s));const l=c(e,["config"]);return l!=null&&ZA(l,o),o}function e1(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],we(n,s));const l=c(e,["config"]);return l!=null&&WA(l,o),o}function t1(n,e){const o={},s=c(n,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const l=c(n,["safetyFilterLevel"]);e!==void 0&&l!=null&&f(e,["parameters","safetySetting"],l);const u=c(n,["personGeneration"]);e!==void 0&&u!=null&&f(e,["parameters","personGeneration"],u);const d=c(n,["includeRaiReason"]);e!==void 0&&d!=null&&f(e,["parameters","includeRaiReason"],d);const h=c(n,["outputMimeType"]);e!==void 0&&h!=null&&f(e,["parameters","outputOptions","mimeType"],h);const y=c(n,["outputCompressionQuality"]);e!==void 0&&y!=null&&f(e,["parameters","outputOptions","compressionQuality"],y);const m=c(n,["enhanceInputImage"]);e!==void 0&&m!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],m);const v=c(n,["imagePreservationFactor"]);e!==void 0&&v!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const _=c(n,["labels"]);e!==void 0&&_!=null&&f(e,["labels"],_);const T=c(n,["numberOfImages"]);e!==void 0&&T!=null&&f(e,["parameters","sampleCount"],T);const E=c(n,["mode"]);return e!==void 0&&E!=null&&f(e,["parameters","mode"],E),o}function n1(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["_url","model"],we(n,s));const l=c(e,["image"]);l!=null&&f(o,["instances[0]","image"],sn(l));const u=c(e,["upscaleFactor"]);u!=null&&f(o,["parameters","upscaleConfig","upscaleFactor"],u);const d=c(e,["config"]);return d!=null&&t1(d,o),o}function i1(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>Tl(u))),f(e,["generatedImages"],l)}return e}function o1(n){const e={},o=c(n,["uri"]);o!=null&&f(e,["uri"],o);const s=c(n,["encodedVideo"]);s!=null&&f(e,["videoBytes"],si(s));const l=c(n,["encoding"]);return l!=null&&f(e,["mimeType"],l),e}function s1(n){const e={},o=c(n,["gcsUri"]);o!=null&&f(e,["uri"],o);const s=c(n,["bytesBase64Encoded"]);s!=null&&f(e,["videoBytes"],si(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}function r1(n){const e={},o=c(n,["image"]);o!=null&&f(e,["_self"],sn(o));const s=c(n,["maskMode"]);return s!=null&&f(e,["maskMode"],s),e}function l1(n){const e={},o=c(n,["image"]);o!=null&&f(e,["image"],Cl(o));const s=c(n,["referenceType"]);return s!=null&&f(e,["referenceType"],s),e}function a1(n){const e={},o=c(n,["image"]);o!=null&&f(e,["image"],sn(o));const s=c(n,["referenceType"]);return s!=null&&f(e,["referenceType"],s),e}function hy(n){const e={},o=c(n,["uri"]);o!=null&&f(e,["uri"],o);const s=c(n,["videoBytes"]);s!=null&&f(e,["encodedVideo"],si(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["encoding"],l),e}function my(n){const e={},o=c(n,["uri"]);o!=null&&f(e,["gcsUri"],o);const s=c(n,["videoBytes"]);s!=null&&f(e,["bytesBase64Encoded"],si(s));const l=c(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u1(n,e){const o={},s=c(n,["displayName"]);return e!==void 0&&s!=null&&f(e,["displayName"],s),o}function c1(n){const e={},o=c(n,["config"]);return o!=null&&u1(o,e),e}function f1(n,e){const o={},s=c(n,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),o}function d1(n){const e={},o=c(n,["name"]);o!=null&&f(e,["_url","name"],o);const s=c(n,["config"]);return s!=null&&f1(s,e),e}function p1(n){const e={},o=c(n,["name"]);return o!=null&&f(e,["_url","name"],o),e}function h1(n,e){const o={},s=c(n,["customMetadata"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["customMetadata"],u)}const l=c(n,["chunkingConfig"]);return e!==void 0&&l!=null&&f(e,["chunkingConfig"],l),o}function m1(n){const e={},o=c(n,["name"]);o!=null&&f(e,["name"],o);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],y1(d)),e}function g1(n){const e={},o=c(n,["fileSearchStoreName"]);o!=null&&f(e,["_url","file_search_store_name"],o);const s=c(n,["fileName"]);s!=null&&f(e,["fileName"],s);const l=c(n,["config"]);return l!=null&&h1(l,e),e}function y1(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["parent"]);s!=null&&f(e,["parent"],s);const l=c(n,["documentName"]);return l!=null&&f(e,["documentName"],l),e}function v1(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function _1(n){const e={},o=c(n,["config"]);return o!=null&&v1(o,e),e}function S1(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["fileSearchStores"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["fileSearchStores"],u)}return e}function gy(n,e){const o={},s=c(n,["mimeType"]);e!==void 0&&s!=null&&f(e,["mimeType"],s);const l=c(n,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const u=c(n,["customMetadata"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(y=>y)),f(e,["customMetadata"],h)}const d=c(n,["chunkingConfig"]);return e!==void 0&&d!=null&&f(e,["chunkingConfig"],d),o}function T1(n){const e={},o=c(n,["fileSearchStoreName"]);o!=null&&f(e,["_url","file_search_store_name"],o);const s=c(n,["config"]);return s!=null&&gy(s,e),e}function C1(n){const e={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const x1="Content-Type",E1="X-Server-Timeout",b1="User-Agent",yc="x-goog-api-client",A1="1.34.0",R1=`google-genai-sdk/${A1}`,N1="v1beta1",M1="v1beta";class I1{constructor(e){var o,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:N1,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:M1,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,s){const l=[this.getRequestUrlInternal(o)];return s&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,o,s);if(e.queryParams)for(const[d,h]of Object.entries(e.queryParams))l.searchParams.append(d,String(h));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,o,l.toString(),e.abortSignal),this.unaryApiCall(l,u,e.httpMethod)}patchHttpOptions(e,o){const s=JSON.parse(JSON.stringify(e));for(const[l,u]of Object.entries(o))typeof u=="object"?s[l]=Object.assign(Object.assign({},s[l]),u):u!==void 0&&(s[l]=u);return s}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,o,s);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,o,l.toString(),e.abortSignal),this.streamApiCall(l,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,s,l){if(o&&o.timeout||l){const u=new AbortController,d=u.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const h=setTimeout(()=>u.abort(),o.timeout);h&&typeof h.unref=="function"&&h.unref()}l&&l.addEventListener("abort",()=>{u.abort()}),e.signal=d}return o&&o.extraBody!==null&&D1(e,o.extraBody),e.headers=await this.getHeadersInternal(o,s),e}async unaryApiCall(e,o,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:s})).then(async l=>(await zg(l),new dc(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,o,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:s})).then(async l=>(await zg(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){return nn(this,arguments,function*(){var s;const l=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),u=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let d="";const h="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield ye(l.read());if(m){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=u.decode(v,{stream:!0});try{const M=JSON.parse(_);if("error"in M){const L=JSON.parse(JSON.stringify(M.error)),w=L.status,H=L.code,j=`got status: ${w}. ${JSON.stringify(M)}`;if(H>=400&&H<600)throw new _l({message:j,status:H})}}catch(M){if(M.name==="ApiError")throw M}d+=_;let T=-1,E=0;for(;;){T=-1,E=0;for(const w of y){const H=d.indexOf(w);H!==-1&&(T===-1||H<T)&&(T=H,E=w.length)}if(T===-1)break;const M=d.substring(0,T);d=d.substring(T+E);const L=M.trim();if(L.startsWith(h)){const w=L.substring(h.length).trim();try{const H=new Response(w,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ye(new dc(H))}catch(H){throw new Error(`exception parsing stream chunk ${w}. ${H}`)}}}}}finally{l.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},o=R1+" "+this.clientOptions.userAgentExtra;return e[b1]=o,e[yc]=o,e[x1]="application/json",e}async getHeadersInternal(e,o){const s=new Headers;if(e&&e.headers){for(const[l,u]of Object.entries(e.headers))s.append(l,u);e.timeout&&e.timeout>0&&s.append(E1,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(e){var o;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(e,o){var s;const l={};o!=null&&(l.mimeType=o.mimeType,l.name=o.name,l.displayName=o.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const u=this.clientOptions.uploader,d=await u.stat(e);l.sizeBytes=String(d.size);const h=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=h;const y={file:l},m=this.getFileName(e),v=te("upload/v1beta/files",y._url),_=await this.fetchUploadUrl(v,l.sizeBytes,l.mimeType,m,y,o==null?void 0:o.httpOptions);return u.upload(e,_,this)}async uploadFileToFileSearchStore(e,o,s){var l;const u=this.clientOptions.uploader,d=await u.stat(o),h=String(d.size),y=(l=s==null?void 0:s.mimeType)!==null&&l!==void 0?l:d.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(o),_={};s!=null&&gy(s,_);const T=await this.fetchUploadUrl(m,h,y,v,_,s==null?void 0:s.httpOptions);return u.uploadToFileSearchStore(o,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o,s,l,u,d){var h;let y={};d?y=d:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},l?{"X-Goog-Upload-File-Name":l}:{})};const m=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=m==null?void 0:m.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function zg(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let s;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await n.json():s={error:{message:await n.text(),code:n.status,status:n.statusText}};const l=JSON.stringify(s);throw o>=400&&o<600?new _l({message:l,status:o}):new Error(l)}}function D1(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const u=JSON.parse(n.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))o=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(u,d){const h=Object.assign({},u);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y)){const m=d[y],v=h[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?h[y]=s(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),h[y]=m)}return h}const l=s(o,e);n.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const k1="mcp_used/unknown";let w1=!1;function yy(n){for(const e of n)if(U1(e)||typeof e=="object"&&"inputSchema"in e)return!0;return w1}function vy(n){var e;const o=(e=n[yc])!==null&&e!==void 0?e:"";n[yc]=(o+` ${k1}`).trimStart()}function U1(n){return n!==null&&typeof n=="object"&&n instanceof Hc}function L1(n){return nn(this,arguments,function*(o,s=100){let l,u=0;for(;u<s;){const d=yield ye(o.listTools({cursor:l}));for(const h of d.tools)yield yield ye(h),u++;if(!d.nextCursor)break;l=d.nextCursor}})}class Hc{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new Hc(e,o)}async initialize(){var e,o,s,l;if(this.mcpTools.length>0)return;const u={},d=[];for(const v of this.mcpClients)try{for(var h=!0,y=(o=void 0,on(L1(v))),m;m=await y.next(),e=m.done,!e;h=!0){l=m.value,h=!1;const _=l;d.push(_);const T=_.name;if(u[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);u[T]=v}}catch(_){o={error:_}}finally{try{!h&&!e&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}this.mcpTools=d,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),px(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[s.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const d=await l.callTool({name:s.name,arguments:s.args},void 0,u);o.push({functionResponse:{name:s.name,response:d.isError?{error:d}:d}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function P1(n,e,o){const s=new sx;let l;o.data instanceof Blob?l=JSON.parse(await o.data.text()):l=JSON.parse(o.data),Object.assign(s,l),e(s)}class O1{constructor(e,o,s){this.apiClient=e,this.auth=o,this.webSocketFactory=s}async connect(e){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),d=q1(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const v=new Promise(J=>{m=J}),_=e.callbacks,T=function(){m({})},E=this.apiClient,M={onopen:T,onmessage:J=>{P1(E,_.onmessage,J)},onerror:(o=_==null?void 0:_.onerror)!==null&&o!==void 0?o:function(J){},onclose:(s=_==null?void 0:_.onclose)!==null&&s!==void 0?s:function(J){}},L=this.webSocketFactory.create(y,z1(d),M);L.connect(),await v;const j={setup:{model:we(this.apiClient,e.model)}};return L.send(JSON.stringify(j)),new G1(L,this.apiClient)}}class G1{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=cb(e);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=ub(e);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const o={playbackControl:e};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(_o.PLAY)}pause(){this.sendPlaybackControl(_o.PAUSE)}stop(){this.sendPlaybackControl(_o.STOP)}resetContext(){this.sendPlaybackControl(_o.RESET_CONTEXT)}close(){this.conn.close()}}function z1(n){const e={};return n.forEach((o,s)=>{e[s]=o}),e}function q1(n){const e=new Headers;for(const[o,s]of Object.entries(n))e.append(o,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H1="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function V1(n,e,o){const s=new ox;let l;o.data instanceof Blob?l=await o.data.text():o.data instanceof ArrayBuffer?l=new TextDecoder().decode(o.data):l=o.data;const u=JSON.parse(l);if(n.isVertexAI()){const d=pb(u);Object.assign(s,d)}else Object.assign(s,u);e(s)}class B1{constructor(e,o,s){this.apiClient=e,this.auth=o,this.webSocketFactory=s,this.music=new O1(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,s,l,u,d,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&yy(e.config.tools)&&vy(_);const T=$1(_);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,v);else{const ne=this.apiClient.getApiKey();let ie="BidiGenerateContent",de="key";ne!=null&&ne.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ie="BidiGenerateContentConstrained",de="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ie}?${de}=${ne}`}let E=()=>{};const M=new Promise(ne=>{E=ne}),L=e.callbacks,w=function(){var ne;(ne=L==null?void 0:L.onopen)===null||ne===void 0||ne.call(L),E({})},H=this.apiClient,j={onopen:w,onmessage:ne=>{V1(H,L.onmessage,ne)},onerror:(o=L==null?void 0:L.onerror)!==null&&o!==void 0?o:function(ne){},onclose:(s=L==null?void 0:L.onclose)!==null&&s!==void 0?s:function(ne){}},J=this.webSocketFactory.create(v,Y1(T),j);J.connect(),await M;let W=we(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&W.startsWith("publishers/")){const ne=this.apiClient.getProject(),ie=this.apiClient.getLocation();W=`projects/${ne}/locations/${ie}/`+W}let re={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[fl.AUDIO]}:e.config.responseModalities=[fl.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const le=(h=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],$=[];for(const ne of le)if(this.isCallableTool(ne)){const ie=ne;$.push(await ie.tool())}else $.push(ne);$.length>0&&(e.config.tools=$);const ge={model:W,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?re=ab(this.apiClient,ge):re=lb(this.apiClient,ge),delete re.config,J.send(JSON.stringify(re)),new J1(J,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const F1={turnComplete:!0};class J1{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=Zt(o.turns),e.isVertexAI()||(s=s.map(l=>Sl(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(H1)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},F1),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:db(e)}:o={realtimeInput:fb(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function Y1(n){const e={};return n.forEach((o,s)=>{e[s]=o}),e}function $1(n){const e=new Headers;for(const[o,s]of Object.entries(n))e.append(o,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qg=10;function Hg(n){var e,o,s;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const d of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(xo(d)){l=!0;break}if(!l)return!0;const u=(s=n==null?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function xo(n){return"callTool"in n&&typeof n.callTool=="function"}function Q1(n){var e,o,s;return(s=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(l=>xo(l)))!==null&&s!==void 0?s:!1}function Vg(n){var e;const o=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((s,l)=>{if(xo(s))return;const u=s;u.functionDeclarations&&u.functionDeclarations.length>0&&o.push(l)}),o}function Bg(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K1 extends Mn{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var s,l,u,d,h;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!Q1(o)||Hg(o.config))return await this.generateContentInternal(y);const m=Vg(o);if(m.length>0){const L=m.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${L}.`)}let v,_;const T=Zt(y.contents),E=(u=(l=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&u!==void 0?u:qg;let M=0;for(;M<E&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const L=v.candidates[0].content,w=[];for(const H of(h=(d=o.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(xo(H)){const J=await H.callTool(v.functionCalls);w.push(...J)}M++,_={role:"user",parts:w},y.contents=Zt(y.contents),y.contents.push(L),y.contents.push(_),Bg(y.config)&&(T.push(L),T.push(_))}return Bg(y.config)&&(v.automaticFunctionCallingHistory=T),v},this.generateContentStream=async o=>{var s,l,u,d,h;if(this.maybeMoveToResponseJsonSchem(o),Hg(o.config)){const _=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(_)}const y=Vg(o);if(y.length>0){const _=y.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(u=(l=(s=o==null?void 0:o.config)===null||s===void 0?void 0:s.toolConfig)===null||l===void 0?void 0:l.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(h=(d=o==null?void 0:o.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var l;let u;const d=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((l=y==null?void 0:y.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:d.push(y);let h;return u?h={generatedImages:d,positivePromptSafetyAttributes:u,sdkHttpResponse:s.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:s.sdkHttpResponse},h}),this.list=async o=>{var s;const d={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((s=d.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new ki(Nn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const l={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(l)},this.generateVideos=async o=>{var s,l,u,d,h,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((l=o.video)===null||l===void 0)&&l.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((d=(u=o.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.uri&&(!((y=(h=o.source)===null||h===void 0?void 0:h.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,s,l;const u=(o=e.config)===null||o===void 0?void 0:o.tools;if(!u)return e;const d=await Promise.all(u.map(async y=>xo(y)?await y.tool():y)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(h.config.tools=d,e.config&&e.config.tools&&yy(e.config.tools)){const y=(l=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&l!==void 0?l:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),vy(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var o,s,l;const u=new Map;for(const d of(s=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(xo(d)){const h=d,y=await h.tool();for(const m of(l=y.functionDeclarations)!==null&&l!==void 0?l:[]){if(!m.name)throw new Error("Function declaration name is required.");if(u.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);u.set(m.name,h)}}return u}async processAfcStream(e){var o,s,l;const u=(l=(s=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&l!==void 0?l:qg;let d=!1,h=0;const y=await this.initAfcToolsMap(e);return(function(m,v,_){return nn(this,arguments,function*(){for(var T,E,M,L,w,H;h<u;){d&&(h++,d=!1);const re=yield ye(m.processParamsMaybeAddMcpUsage(_)),le=yield ye(m.generateContentStreamInternal(re)),$=[],ge=[];try{for(var j=!0,J=(E=void 0,on(le)),W;W=yield ye(J.next()),T=W.done,!T;j=!0){L=W.value,j=!1;const ne=L;if(yield yield ye(ne),ne.candidates&&(!((w=ne.candidates[0])===null||w===void 0)&&w.content)){ge.push(ne.candidates[0].content);for(const ie of(H=ne.candidates[0].content.parts)!==null&&H!==void 0?H:[])if(h<u&&ie.functionCall){if(!ie.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ie.functionCall.name)){const de=yield ye(v.get(ie.functionCall.name).callTool([ie.functionCall]));$.push(...de)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ie.functionCall.name}`)}}}}catch(ne){E={error:ne}}finally{try{!j&&!T&&(M=J.return)&&(yield ye(M.call(J)))}finally{if(E)throw E.error}}if($.length>0){d=!0;const ne=new xs;ne.candidates=[{content:{role:"user",parts:$}}],yield yield ye(ne);const ie=[];ie.push(...ge),ie.push({role:"user",parts:$});const de=Zt(_.contents).concat(ie);_.contents=de}else break}})})(this,y,e)}async generateContentInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Pg(this.apiClient,e);return h=te("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=Gg(v),T=new xs;return Object.assign(T,_),T})}else{const m=Lg(this.apiClient,e);return h=te("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=Og(v),T=new xs;return Object.assign(T,_),T})}}async generateContentStreamInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Pg(this.apiClient,e);return h=te("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),d.then(function(_){return nn(this,arguments,function*(){var T,E,M,L;try{for(var w=!0,H=on(_),j;j=yield ye(H.next()),T=j.done,!T;w=!0){L=j.value,w=!1;const J=L,W=Gg(yield ye(J.json()));W.sdkHttpResponse={headers:J.headers};const re=new xs;Object.assign(re,W),yield yield ye(re)}}catch(J){E={error:J}}finally{try{!w&&!T&&(M=H.return)&&(yield ye(M.call(H)))}finally{if(E)throw E.error}}})})}else{const m=Lg(this.apiClient,e);return h=te("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),d.then(function(_){return nn(this,arguments,function*(){var T,E,M,L;try{for(var w=!0,H=on(_),j;j=yield ye(H.next()),T=j.done,!T;w=!0){L=j.value,w=!1;const J=L,W=Og(yield ye(J.json()));W.sdkHttpResponse={headers:J.headers};const re=new xs;Object.assign(re,W),yield yield ye(re)}}catch(J){E={error:J}}finally{try{!w&&!T&&(M=H.return)&&(yield ye(M.call(H)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Bb(this.apiClient,e);return h=te("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=Jb(v),T=new vg;return Object.assign(T,_),T})}else{const m=Vb(this.apiClient,e);return h=te("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=Fb(v),T=new vg;return Object.assign(T,_),T})}}async generateImagesInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=nA(this.apiClient,e);return h=te("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=oA(v),T=new _g;return Object.assign(T,_),T})}else{const m=tA(this.apiClient,e);return h=te("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=iA(v),T=new _g;return Object.assign(T,_),T})}}async editImageInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const h=Gb(this.apiClient,e);return u=te("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=zb(y),v=new $C;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const h=n1(this.apiClient,e);return u=te("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=i1(y),v=new QC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const h=OA(this.apiClient,e);return u=te("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=GA(y),v=new KC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const h=FA(this.apiClient,e);return u=te("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=JA(y),v=new XC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=TA(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>gc(v))}else{const m=SA(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>mc(v))}}async listInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=IA(this.apiClient,e);return h=te("{models_url}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=kA(v),T=new Sg;return Object.assign(T,_),T})}else{const m=MA(this.apiClient,e);return h=te("{models_url}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=DA(v),T=new Sg;return Object.assign(T,_),T})}}async update(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=e1(this.apiClient,e);return h=te("{model}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>gc(v))}else{const m=jA(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>mc(v))}}async delete(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Ub(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=Pb(v),T=new Tg;return Object.assign(T,_),T})}else{const m=wb(this.apiClient,e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=Lb(v),T=new Tg;return Object.assign(T,_),T})}}async countTokens(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Ib(this.apiClient,e);return h=te("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=kb(v),T=new Cg;return Object.assign(T,_),T})}else{const m=Mb(this.apiClient,e);return h=te("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=Db(v),T=new Cg;return Object.assign(T,_),T})}}async computeTokens(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const h=Cb(this.apiClient,e);return u=te("{model}:computeTokens",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>{const m=xb(y),v=new ZC;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=cA(this.apiClient,e);return h=te("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>{const _=aA(v),T=new dl;return Object.assign(T,_),T})}else{const m=uA(this.apiClient,e);return h=te("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>{const _=lA(v),T=new dl;return Object.assign(T,_),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X1 extends Mn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,s=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=o.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:l,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async get(e){const o=e.operation,s=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=o.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:l,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async getVideosOperationInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=HC(e);return h=te("{operationName}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d}else{const m=qC(e);return h=te("{operationName}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const h=wC(e);return u=te("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Z1(n){const e={},o=c(n,["data"]);if(o!=null&&f(e,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function W1(n){const e={},o=c(n,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>lR(u))),f(e,["parts"],l)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function j1(n,e,o){const s={},l=c(e,["expireTime"]);o!==void 0&&l!=null&&f(o,["expireTime"],l);const u=c(e,["newSessionExpireTime"]);o!==void 0&&u!=null&&f(o,["newSessionExpireTime"],u);const d=c(e,["uses"]);o!==void 0&&d!=null&&f(o,["uses"],d);const h=c(e,["liveConnectConstraints"]);o!==void 0&&h!=null&&f(o,["bidiGenerateContentSetup"],rR(n,h));const y=c(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&f(o,["fieldMask"],y),s}function eR(n,e){const o={},s=c(e,["config"]);return s!=null&&f(o,["config"],j1(n,s,o)),o}function tR(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function nR(n){const e={},o=c(n,["id"]);o!=null&&f(e,["id"],o);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function iR(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function oR(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function sR(n,e){const o={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const l=c(n,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const u=c(n,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const v=c(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],qc(_));const T=c(n,["thinkingConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","thinkingConfig"],T);const E=c(n,["enableAffectiveDialog"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],E);const M=c(n,["systemInstruction"]);e!==void 0&&M!=null&&f(e,["setup","systemInstruction"],W1(gt(M)));const L=c(n,["tools"]);if(e!==void 0&&L!=null){let le=bo(L);Array.isArray(le)&&(le=le.map($=>uR(Eo($)))),f(e,["setup","tools"],le)}const w=c(n,["sessionResumption"]);e!==void 0&&w!=null&&f(e,["setup","sessionResumption"],aR(w));const H=c(n,["inputAudioTranscription"]);e!==void 0&&H!=null&&f(e,["setup","inputAudioTranscription"],H);const j=c(n,["outputAudioTranscription"]);e!==void 0&&j!=null&&f(e,["setup","outputAudioTranscription"],j);const J=c(n,["realtimeInputConfig"]);e!==void 0&&J!=null&&f(e,["setup","realtimeInputConfig"],J);const W=c(n,["contextWindowCompression"]);e!==void 0&&W!=null&&f(e,["setup","contextWindowCompression"],W);const re=c(n,["proactivity"]);if(e!==void 0&&re!=null&&f(e,["setup","proactivity"],re),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function rR(n,e){const o={},s=c(e,["model"]);s!=null&&f(o,["setup","model"],we(n,s));const l=c(e,["config"]);return l!=null&&f(o,["config"],sR(l,o)),o}function lR(n){const e={},o=c(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],tR(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],nR(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],Z1(y));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const T=c(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function aR(n){const e={},o=c(n,["handle"]);if(o!=null&&f(e,["handle"],o),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function uR(n){const e={},o=c(n,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),f(e,["functionDeclarations"],v)}if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["googleSearchRetrieval"]);s!=null&&f(e,["googleSearchRetrieval"],s);const l=c(n,["computerUse"]);l!=null&&f(e,["computerUse"],l);const u=c(n,["fileSearch"]);u!=null&&f(e,["fileSearch"],u);const d=c(n,["codeExecution"]);if(d!=null&&f(e,["codeExecution"],d),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],iR(h));const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],oR(y));const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cR(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const s=n[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const l=Object.keys(s).map(u=>`${o}.${u}`);e.push(...l)}else e.push(o)}return e.join(",")}function fR(n,e){let o=null;const s=n.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const u=s.setup;typeof u=="object"&&u!==null?(n.bidiGenerateContentSetup=u,o=u):delete n.bidiGenerateContentSetup}else s!==void 0&&delete n.bidiGenerateContentSetup;const l=n.fieldMask;if(o){const u=cR(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?n.fieldMask=u:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];l.length>0&&(h=l.map(m=>d.includes(m)?`generationConfig.${m}`:m));const y=[];u&&y.push(u),h.length>0&&y.push(...h),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?n.fieldMask=l.join(","):delete n.fieldMask;return n}class dR extends Mn{constructor(e){super(),this.apiClient=e}async create(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=eR(this.apiClient,e);u=te("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const y=fR(h,e.config);return l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),l.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pR(n,e){const o={},s=c(n,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),o}function hR(n){const e={},o=c(n,["name"]);o!=null&&f(e,["_url","name"],o);const s=c(n,["config"]);return s!=null&&pR(s,e),e}function mR(n){const e={},o=c(n,["name"]);return o!=null&&f(e,["_url","name"],o),e}function gR(n,e){const o={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),o}function yR(n){const e={},o=c(n,["parent"]);o!=null&&f(e,["_url","parent"],o);const s=c(n,["config"]);return s!=null&&gR(s,e),e}function vR(n){const e={},o=c(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const l=c(n,["documents"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _R extends Mn{constructor(e){super(),this.apiClient=e,this.list=async o=>new ki(Nn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=mR(e);return u=te("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var o,s;let l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=hR(e);l=te("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=yR(e);return u=te("{parent}/documents",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=vR(y),v=new WC;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SR extends Mn{constructor(e,o=new _R(e)){super(),this.apiClient=e,this.documents=o,this.list=async(s={})=>new ki(Nn.PAGED_ITEM_FILE_SEARCH_STORES,l=>this.listInternal(l),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=c1(e);return u=te("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async get(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=p1(e);return u=te("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var o,s;let l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=d1(e);l=te("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=_1(e);return u=te("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=S1(y),v=new jC;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=T1(e);return u=te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=C1(y),v=new ex;return Object.assign(v,m),v})}}async importFile(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=g1(e);return u=te("{file_search_store_name}:importFile",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),l.then(y=>{const m=m1(y),v=new Lc;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _y=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return _y=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),o=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^o()&15>>+s/4).toString(16))};const TR=()=>_y();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vc(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const _c=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wt extends Error{}class Ct extends Wt{constructor(e,o,s,l){super(`${Ct.makeMessage(e,o,s)}`),this.status=e,this.headers=l,this.error=o}static makeMessage(e,o,s){const l=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):s;return e&&l?`${e} ${l}`:e?`${e} status code (no body)`:l||"(no status code or body)"}static generate(e,o,s,l){if(!e||!l)return new xl({message:s,cause:_c(o)});const u=o;return e===400?new Ty(e,u,s,l):e===401?new Cy(e,u,s,l):e===403?new xy(e,u,s,l):e===404?new Ey(e,u,s,l):e===409?new by(e,u,s,l):e===422?new Ay(e,u,s,l):e===429?new Ry(e,u,s,l):e>=500?new Ny(e,u,s,l):new Ct(e,u,s,l)}}class Sc extends Ct{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class xl extends Ct{constructor({message:e,cause:o}){super(void 0,void 0,e||"Connection error.",void 0),o&&(this.cause=o)}}class Sy extends xl{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Ty extends Ct{}class Cy extends Ct{}class xy extends Ct{}class Ey extends Ct{}class by extends Ct{}class Ay extends Ct{}class Ry extends Ct{}class Ny extends Ct{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CR=/^[a-z][a-z0-9+.-]*:/i,xR=n=>CR.test(n);let Tc=n=>(Tc=Array.isArray,Tc(n));const ER=Tc;let bR=ER;const Fg=bR;function AR(n){if(!n)return!0;for(const e in n)return!1;return!0}function RR(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const NR=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Wt(`${n} must be an integer`);if(e<0)throw new Wt(`${n} must be a positive integer`);return e},MR=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IR=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DR(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const kR=()=>{var n,e,o,s,l;const u=DR();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":Yg(Deno.build.os),"X-Stainless-Arch":Jg(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":Yg((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Jg((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(l=globalThis.process.version)!==null&&l!==void 0?l:"unknown"};const d=wR();return d?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${d.browser}`,"X-Stainless-Runtime-Version":d.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function wR(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:o}of n){const s=o.exec(navigator.userAgent);if(s){const l=s[1]||0,u=s[2]||0,d=s[3]||0;return{browser:e,version:`${l}.${u}.${d}`}}}return null}const Jg=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",Yg=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let Kr;const UR=()=>Kr??(Kr=kR());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LR(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function My(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function PR(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return My({start(){},async pull(o){const{done:s,value:l}=await e.next();s?o.close():o.enqueue(l)},async cancel(){var o;await((o=e.return)===null||o===void 0?void 0:o.call(e))}})}function Iy(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const o=await e.read();return o!=null&&o.done&&e.releaseLock(),o}catch(o){throw e.releaseLock(),o}},async return(){const o=e.cancel();return e.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function OR(n){var e,o;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((o=(e=n[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(e));return}const s=n.getReader(),l=s.cancel();s.releaseLock(),await l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GR=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dy=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,o=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Zu(n,e,o){return Dy(),new File(n,e??"unknown_file",o)}function zR(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const qR=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ky=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",HR=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&ky(n),VR=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function BR(n,e,o){if(Dy(),n=await n,HR(n))return n instanceof File?n:Zu([await n.arrayBuffer()],n.name);if(VR(n)){const l=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),Zu(await Cc(l),e,o)}const s=await Cc(n);if(e||(e=zR(n)),!(o!=null&&o.type)){const l=s.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof l=="string"&&(o=Object.assign(Object.assign({},o),{type:l}))}return Zu(s,e,o)}async function Cc(n){var e,o,s,l,u;let d=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)d.push(n);else if(ky(n))d.push(n instanceof Blob?n:await n.arrayBuffer());else if(qR(n))try{for(var h=!0,y=on(n),m;m=await y.next(),e=m.done,!e;h=!0){l=m.value,h=!1;const v=l;d.push(...await Cc(v))}}catch(v){o={error:v}}finally{try{!h&&!e&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}else{const v=(u=n==null?void 0:n.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof n}${v?`; constructor: ${v}`:""}${FR(n)}`)}return d}function FR(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wy{constructor(e){this._client=e}}wy._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uy(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const $g=Object.freeze(Object.create(null)),JR=(n=Uy)=>(function(o,...s){if(o.length===1)return o[0];let l=!1;const u=[],d=o.reduce((v,_,T)=>{var E,M,L;/[?#]/.test(_)&&(l=!0);const w=s[T];let H=(l?encodeURIComponent:n)(""+w);return T!==s.length&&(w==null||typeof w=="object"&&w.toString===((L=Object.getPrototypeOf((M=Object.getPrototypeOf((E=w.hasOwnProperty)!==null&&E!==void 0?E:$g))!==null&&M!==void 0?M:$g))===null||L===void 0?void 0:L.toString))&&(H=w+"",u.push({start:v.length+_.length,length:H.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),v+_+(T===s.length?"":H)},""),h=d.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=y.exec(h))!==null;)u.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(u.sort((v,_)=>v.start-_.start),u.length>0){let v=0;const _=u.reduce((T,E)=>{const M=" ".repeat(E.start-v),L="^".repeat(E.length);return v=E.start+E.length,T+M+L},"");throw new Wt(`Path parameters result in path with invalid segments:
${u.map(T=>T.error).join(`
`)}
${d}
${_}`)}return d}),Xr=JR(Uy);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ly extends wy{create(e,o){var s;const{api_version:l=this._client.apiVersion}=e,u=hl(e,["api_version"]);if("model"in u&&"agent_config"in u)throw new Wt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new Wt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Xr`/${l}/interactions`,Object.assign(Object.assign({body:u},o),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,o={},s){const{api_version:l=this._client.apiVersion}=o??{};return this._client.delete(Xr`/${l}/interactions/${e}`,s)}cancel(e,o={},s){const{api_version:l=this._client.apiVersion}=o??{};return this._client.post(Xr`/${l}/interactions/${e}/cancel`,s)}get(e,o={},s){var l;const u=o??{},{api_version:d=this._client.apiVersion}=u,h=hl(u,["api_version"]);return this._client.get(Xr`/${d}/interactions/${e}`,Object.assign(Object.assign({query:h},s),{stream:(l=o==null?void 0:o.stream)!==null&&l!==void 0?l:!1}))}}Ly._key=Object.freeze(["interactions"]);class Py extends Ly{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YR(n){let e=0;for(const l of n)e+=l.length;const o=new Uint8Array(e);let s=0;for(const l of n)o.set(l,s),s+=l.length;return o}let Zr;function Vc(n){let e;return(Zr??(e=new globalThis.TextEncoder,Zr=e.encode.bind(e)))(n)}let Wr;function Qg(n){let e;return(Wr??(e=new globalThis.TextDecoder,Wr=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class El{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const o=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Vc(e):e;this.buffer=YR([this.buffer,o]);const s=[];let l;for(;(l=$R(this.buffer,this.carriageReturnIndex))!=null;){if(l.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=l.index;continue}if(this.carriageReturnIndex!=null&&(l.index!==this.carriageReturnIndex+1||l.carriage)){s.push(Qg(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?l.preceding-1:l.preceding,d=Qg(this.buffer.subarray(0,u));s.push(d),this.buffer=this.buffer.subarray(l.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}El.NEWLINE_CHARS=new Set([`
`,"\r"]);El.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function $R(n,e){for(let l=e??0;l<n.length;l++){if(n[l]===10)return{preceding:l,index:l+1,carriage:!1};if(n[l]===13)return{preceding:l,index:l+1,carriage:!0}}return null}function QR(n){for(let s=0;s<n.length-1;s++){if(n[s]===10&&n[s+1]===10||n[s]===13&&n[s+1]===13)return s+2;if(n[s]===13&&n[s+1]===10&&s+3<n.length&&n[s+2]===13&&n[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ml={off:0,error:200,warn:300,info:400,debug:500},Kg=(n,e,o)=>{if(n){if(RR(ml,n))return n;_t(o).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(ml))}`)}};function Rs(){}function jr(n,e,o){return!e||ml[n]>ml[o]?Rs:e[n].bind(e)}const KR={error:Rs,warn:Rs,info:Rs,debug:Rs};let Xg=new WeakMap;function _t(n){var e;const o=n.logger,s=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!o)return KR;const l=Xg.get(o);if(l&&l[0]===s)return l[1];const u={error:jr("error",o,s),warn:jr("warn",o,s),info:jr("info",o,s),debug:jr("debug",o,s)};return Xg.set(o,[s,u]),u}const Ai=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,o])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class So{constructor(e,o,s){this.iterator=e,this.controller=o,this.client=s}static fromSSEResponse(e,o,s){let l=!1;const u=s?_t(s):console;function d(){return nn(this,arguments,function*(){var y,m,v,_;if(l)throw new Wt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let T=!1;try{try{for(var E=!0,M=on(XR(e,o)),L;L=yield ye(M.next()),y=L.done,!y;E=!0){_=L.value,E=!1;const w=_;if(!T)if(w.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield ye(JSON.parse(w.data))}catch(H){throw u.error("Could not parse message into JSON:",w.data),u.error("From chunk:",w.raw),H}}}catch(w){m={error:w}}finally{try{!E&&!y&&(v=M.return)&&(yield ye(v.call(M)))}finally{if(m)throw m.error}}T=!0}catch(w){if(vc(w))return yield ye(void 0);throw w}finally{T||o.abort()}})}return new So(d,o,s)}static fromReadableStream(e,o,s){let l=!1;function u(){return nn(this,arguments,function*(){var y,m,v,_;const T=new El,E=Iy(e);try{for(var M=!0,L=on(E),w;w=yield ye(L.next()),y=w.done,!y;M=!0){_=w.value,M=!1;const H=_;for(const j of T.decode(H))yield yield ye(j)}}catch(H){m={error:H}}finally{try{!M&&!y&&(v=L.return)&&(yield ye(v.call(L)))}finally{if(m)throw m.error}}for(const H of T.flush())yield yield ye(H)})}function d(){return nn(this,arguments,function*(){var y,m,v,_;if(l)throw new Wt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let T=!1;try{try{for(var E=!0,M=on(u()),L;L=yield ye(M.next()),y=L.done,!y;E=!0){_=L.value,E=!1;const w=_;T||w&&(yield yield ye(JSON.parse(w)))}}catch(w){m={error:w}}finally{try{!E&&!y&&(v=M.return)&&(yield ye(v.call(M)))}finally{if(m)throw m.error}}T=!0}catch(w){if(vc(w))return yield ye(void 0);throw w}finally{T||o.abort()}})}return new So(d,o,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],o=[],s=this.iterator(),l=u=>({next:()=>{if(u.length===0){const d=s.next();e.push(d),o.push(d)}return u.shift()}});return[new So(()=>l(e),this.controller,this.client),new So(()=>l(o),this.controller,this.client)]}toReadableStream(){const e=this;let o;return My({async start(){o=e[Symbol.asyncIterator]()},async pull(s){try{const{value:l,done:u}=await o.next();if(u)return s.close();const d=Vc(JSON.stringify(l)+`
`);s.enqueue(d)}catch(l){s.error(l)}},async cancel(){var s;await((s=o.return)===null||s===void 0?void 0:s.call(o))}})}}function XR(n,e){return nn(this,arguments,function*(){var s,l,u,d;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Wt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Wt("Attempted to iterate over a response with no body");const h=new WR,y=new El,m=Iy(n.body);try{for(var v=!0,_=on(ZR(m)),T;T=yield ye(_.next()),s=T.done,!s;v=!0){d=T.value,v=!1;const E=d;for(const M of y.decode(E)){const L=h.decode(M);L&&(yield yield ye(L))}}}catch(E){l={error:E}}finally{try{!v&&!s&&(u=_.return)&&(yield ye(u.call(_)))}finally{if(l)throw l.error}}for(const E of y.flush()){const M=h.decode(E);M&&(yield yield ye(M))}})}function ZR(n){return nn(this,arguments,function*(){var o,s,l,u;let d=new Uint8Array;try{for(var h=!0,y=on(n),m;m=yield ye(y.next()),o=m.done,!o;h=!0){u=m.value,h=!1;const v=u;if(v==null)continue;const _=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Vc(v):v;let T=new Uint8Array(d.length+_.length);T.set(d),T.set(_,d.length),d=T;let E;for(;(E=QR(d))!==-1;)yield yield ye(d.slice(0,E)),d=d.slice(E)}}catch(v){s={error:v}}finally{try{!h&&!o&&(l=y.return)&&(yield ye(l.call(y)))}finally{if(s)throw s.error}}d.length>0&&(yield yield ye(d))})}class WR{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[o,s,l]=jR(e,":");return l.startsWith(" ")&&(l=l.substring(1)),o==="event"?this.event=l:o==="data"&&this.data.push(l),null}}function jR(n,e){const o=n.indexOf(e);return o!==-1?[n.substring(0,o),e,n.substring(o+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function eN(n,e){const{response:o,requestLogID:s,retryOfRequestLogID:l,startTime:u}=e,d=await(async()=>{var h;if(e.options.stream)return _t(n).debug("response",o.status,o.url,o.headers,o.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(o,e.controller,n):So.fromSSEResponse(o,e.controller,n);if(o.status===204)return null;if(e.options.__binaryResponse)return o;const y=o.headers.get("content-type"),m=(h=y==null?void 0:y.split(";")[0])===null||h===void 0?void 0:h.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await o.json():await o.text()})();return _t(n).debug(`[${s}] response parsed`,Ai({retryOfRequestLogID:l,url:o.url,status:o.status,body:d,durationMs:Date.now()-u})),d}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bc extends Promise{constructor(e,o,s=eN){super(l=>{l(null)}),this.responsePromise=o,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new Bc(this.client,this.responsePromise,async(o,s)=>e(await this.parseResponse(o,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,o){return this.parse().then(e,o)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Oy=Symbol("brand.privateNullableHeaders");function*tN(n){if(!n)return;if(Oy in n){const{values:s,nulls:l}=n;yield*s.entries();for(const u of l)yield[u,null];return}let e=!1,o;n instanceof Headers?o=n.entries():Fg(n)?o=n:(e=!0,o=Object.entries(n??{}));for(let s of o){const l=s[0];if(typeof l!="string")throw new TypeError("expected header name to be a string");const u=Fg(s[1])?s[1]:[s[1]];let d=!1;for(const h of u)h!==void 0&&(e&&!d&&(d=!0,yield[l,null]),yield[l,h])}}const Es=n=>{const e=new Headers,o=new Set;for(const s of n){const l=new Set;for(const[u,d]of tN(s)){const h=u.toLowerCase();l.has(h)||(e.delete(u),l.add(h)),d===null?(e.delete(u),o.add(h)):(e.append(u,d),o.delete(h))}}return{[Oy]:!0,values:e,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wu=n=>{var e,o,s,l,u,d;if(typeof globalThis.process<"u")return(s=(o=(e=RC)===null||e===void 0?void 0:e[n])===null||o===void 0?void 0:o.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(d=(u=(l=globalThis.Deno.env)===null||l===void 0?void 0:l.get)===null||u===void 0?void 0:u.call(l,n))===null||d===void 0?void 0:d.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gy;class bl{constructor(e){var o,s,l,u,d,h,y,{baseURL:m=Wu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=Wu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:_="v1beta"}=e,T=hl(e,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:v,apiVersion:_},T),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(s=E.timeout)!==null&&s!==void 0?s:bl.DEFAULT_TIMEOUT,this.logger=(l=E.logger)!==null&&l!==void 0?l:console;const M="warn";this.logLevel=M,this.logLevel=(d=(u=Kg(E.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:Kg(Wu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&d!==void 0?d:M,this.fetchOptions=E.fetchOptions,this.maxRetries=(h=E.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(y=E.fetch)!==null&&y!==void 0?y:LR(),this.encoder=GR,this._options=E,this.apiKey=v,this.apiVersion=_,this.clientAdapter=E.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:o}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const o=Es([e.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return Es([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Es([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([o,s])=>typeof s<"u").map(([o,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(o)}=`;throw new Wt(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${vo}`}defaultIdempotencyKey(){return`stainless-node-retry-${TR()}`}makeStatusError(e,o,s,l){return Ct.generate(e,o,s,l)}buildURL(e,o,s){const l=!this.baseURLOverridden()&&s||this.baseURL,u=xR(e)?new URL(e):new URL(l+(l.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),d=this.defaultQuery();return AR(d)||(o=Object.assign(Object.assign({},d),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(u.search=this.stringifyQuery(o)),u.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const o=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(e,{url:o,options:s}){}get(e,o){return this.methodRequest("get",e,o)}post(e,o){return this.methodRequest("post",e,o)}patch(e,o){return this.methodRequest("patch",e,o)}put(e,o){return this.methodRequest("put",e,o)}delete(e,o){return this.methodRequest("delete",e,o)}methodRequest(e,o,s){return this.request(Promise.resolve(s).then(l=>Object.assign({method:e,path:o},l)))}request(e,o=null){return new Bc(this,this.makeRequest(e,o,void 0))}async makeRequest(e,o,s){var l,u,d;const h=await e,y=(l=h.maxRetries)!==null&&l!==void 0?l:this.maxRetries;o==null&&(o=y),await this.prepareOptions(h);const{req:m,url:v,timeout:_}=await this.buildRequest(h,{retryCount:y-o});await this.prepareRequest(m,{url:v,options:h});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=s===void 0?"":`, retryOf: ${s}`,M=Date.now();if(_t(this).debug(`[${T}] sending request`,Ai({retryOfRequestLogID:s,method:h.method,url:v,options:h,headers:m.headers})),!((u=h.signal)===null||u===void 0)&&u.aborted)throw new Sc;const L=new AbortController,w=await this.fetchWithTimeout(v,m,_,L).catch(_c),H=Date.now();if(w instanceof globalThis.Error){const J=`retrying, ${o} attempts remaining`;if(!((d=h.signal)===null||d===void 0)&&d.aborted)throw new Sc;const W=vc(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(o)return _t(this).info(`[${T}] connection ${W?"timed out":"failed"} - ${J}`),_t(this).debug(`[${T}] connection ${W?"timed out":"failed"} (${J})`,Ai({retryOfRequestLogID:s,url:v,durationMs:H-M,message:w.message})),this.retryRequest(h,o,s??T);throw _t(this).info(`[${T}] connection ${W?"timed out":"failed"} - error; no more retries left`),_t(this).debug(`[${T}] connection ${W?"timed out":"failed"} (error; no more retries left)`,Ai({retryOfRequestLogID:s,url:v,durationMs:H-M,message:w.message})),W?new Sy:new xl({cause:w})}const j=`[${T}${E}] ${m.method} ${v} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${H-M}ms`;if(!w.ok){const J=await this.shouldRetry(w);if(o&&J){const ne=`retrying, ${o} attempts remaining`;return await OR(w.body),_t(this).info(`${j} - ${ne}`),_t(this).debug(`[${T}] response error (${ne})`,Ai({retryOfRequestLogID:s,url:w.url,status:w.status,headers:w.headers,durationMs:H-M})),this.retryRequest(h,o,s??T,w.headers)}const W=J?"error; no more retries left":"error; not retryable";_t(this).info(`${j} - ${W}`);const re=await w.text().catch(ne=>_c(ne).message),le=MR(re),$=le?void 0:re;throw _t(this).debug(`[${T}] response error (${W})`,Ai({retryOfRequestLogID:s,url:w.url,status:w.status,headers:w.headers,message:$,durationMs:Date.now()-M})),this.makeStatusError(w.status,le,$,w.headers)}return _t(this).info(j),_t(this).debug(`[${T}] response start`,Ai({retryOfRequestLogID:s,url:w.url,status:w.status,headers:w.headers,durationMs:H-M})),{response:w,options:h,controller:L,requestLogID:T,retryOfRequestLogID:s,startTime:M}}async fetchWithTimeout(e,o,s,l){const u=o||{},{signal:d,method:h}=u,y=hl(u,["signal","method"]);d&&d.addEventListener("abort",()=>l.abort());const m=setTimeout(()=>l.abort(),s),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,_=Object.assign(Object.assign(Object.assign({signal:l.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);h&&(_.method=h.toUpperCase());try{return await this.fetch.call(void 0,e,_)}finally{clearTimeout(m)}}async shouldRetry(e){const o=e.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,o,s,l){var u;let d;const h=l==null?void 0:l.get("retry-after-ms");if(h){const m=parseFloat(h);Number.isNaN(m)||(d=m)}const y=l==null?void 0:l.get("retry-after");if(y&&!d){const m=parseFloat(y);Number.isNaN(m)?d=Date.parse(y)-Date.now():d=m*1e3}if(!(d&&0<=d&&d<60*1e3)){const m=(u=e.maxRetries)!==null&&u!==void 0?u:this.maxRetries;d=this.calculateDefaultRetryTimeoutMillis(o,m)}return await IR(d),this.makeRequest(e,o-1,s)}calculateDefaultRetryTimeoutMillis(e,o){const u=o-e,d=Math.min(.5*Math.pow(2,u),8),h=1-Math.random()*.25;return d*h*1e3}async buildRequest(e,{retryCount:o=0}={}){var s,l,u;const d=Object.assign({},e),{method:h,path:y,query:m,defaultBaseURL:v}=d,_=this.buildURL(y,m,v);"timeout"in d&&NR("timeout",d.timeout),d.timeout=(s=d.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:T,body:E}=this.buildBody({options:d}),M=await this.buildHeaders({options:e,method:h,bodyHeaders:T,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:M},d.signal&&{signal:d.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(l=this.fetchOptions)!==null&&l!==void 0?l:{}),(u=d.fetchOptions)!==null&&u!==void 0?u:{}),url:_,timeout:d.timeout}}async buildHeaders({options:e,method:o,bodyHeaders:s,retryCount:l}){let u={};this.idempotencyHeader&&o!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const d=await this.authHeaders(e);let h=Es([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(l)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),UR()),this._options.defaultHeaders,s,e.headers,d]);return this.validateHeaders(h),h.values}buildBody({options:{body:e,headers:o}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=Es([o]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:PR(e)}:this.encoder({body:e,headers:s})}}bl.DEFAULT_TIMEOUT=6e4;class st extends bl{constructor(){super(...arguments),this.interactions=new Py(this)}}Gy=st;st.GeminiNextGenAPIClient=Gy;st.GeminiNextGenAPIClientError=Wt;st.APIError=Ct;st.APIConnectionError=xl;st.APIConnectionTimeoutError=Sy;st.APIUserAbortError=Sc;st.NotFoundError=Ey;st.ConflictError=by;st.RateLimitError=Ry;st.BadRequestError=Ty;st.AuthenticationError=Cy;st.InternalServerError=Ny;st.PermissionDeniedError=xy;st.UnprocessableEntityError=Ay;st.toFile=BR;st.Interactions=Py;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nN(n,e){const o={},s=c(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function iN(n,e){const o={},s=c(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function oN(n,e){const o={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(o,["sdkHttpResponse"],s),o}function sN(n,e){const o={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(o,["sdkHttpResponse"],s),o}function rN(n,e,o){const s={};if(c(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=c(n,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&f(e,["displayName"],l),c(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(n,["epochCount"]);e!==void 0&&u!=null&&f(e,["tuningTask","hyperparameters","epochCount"],u);const d=c(n,["learningRateMultiplier"]);if(d!=null&&f(s,["tuningTask","hyperparameters","learningRateMultiplier"],d),c(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=c(n,["batchSize"]);e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","batchSize"],h);const y=c(n,["learningRate"]);if(e!==void 0&&y!=null&&f(e,["tuningTask","hyperparameters","learningRate"],y),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function lN(n,e,o){const s={};let l=c(o,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const E=c(n,["validationDataset"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec"],Zg(E))}else if(l==="PREFERENCE_TUNING"){const E=c(n,["validationDataset"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec"],Zg(E))}const u=c(n,["tunedModelDisplayName"]);e!==void 0&&u!=null&&f(e,["tunedModelDisplayName"],u);const d=c(n,["description"]);e!==void 0&&d!=null&&f(e,["description"],d);let h=c(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const E=c(n,["epochCount"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(h==="PREFERENCE_TUNING"){const E=c(n,["epochCount"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let y=c(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const E=c(n,["learningRateMultiplier"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(y==="PREFERENCE_TUNING"){const E=c(n,["learningRateMultiplier"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let m=c(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const E=c(n,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(m==="PREFERENCE_TUNING"){const E=c(n,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let v=c(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const E=c(n,["adapterSize"]);e!==void 0&&E!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(v==="PREFERENCE_TUNING"){const E=c(n,["adapterSize"]);e!==void 0&&E!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(c(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=c(n,["labels"]);e!==void 0&&_!=null&&f(e,["labels"],_);const T=c(n,["beta"]);return e!==void 0&&T!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],T),s}function aN(n,e){const o={},s=c(n,["baseModel"]);s!=null&&f(o,["baseModel"],s);const l=c(n,["preTunedModel"]);l!=null&&f(o,["preTunedModel"],l);const u=c(n,["trainingDataset"]);u!=null&&_N(u);const d=c(n,["config"]);return d!=null&&rN(d,o),o}function uN(n,e){const o={},s=c(n,["baseModel"]);s!=null&&f(o,["baseModel"],s);const l=c(n,["preTunedModel"]);l!=null&&f(o,["preTunedModel"],l);const u=c(n,["trainingDataset"]);u!=null&&SN(u,o,e);const d=c(n,["config"]);return d!=null&&lN(d,o,e),o}function cN(n,e){const o={},s=c(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function fN(n,e){const o={},s=c(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function dN(n,e,o){const s={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(n,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),s}function pN(n,e,o){const s={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(n,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),s}function hN(n,e){const o={},s=c(n,["config"]);return s!=null&&dN(s,o),o}function mN(n,e){const o={},s=c(n,["config"]);return s!=null&&pN(s,o),o}function gN(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&f(o,["nextPageToken"],l);const u=c(n,["tunedModels"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>zy(h))),f(o,["tuningJobs"],d)}return o}function yN(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=c(n,["nextPageToken"]);l!=null&&f(o,["nextPageToken"],l);const u=c(n,["tuningJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(h=>xc(h))),f(o,["tuningJobs"],d)}return o}function vN(n,e){const o={},s=c(n,["name"]);s!=null&&f(o,["model"],s);const l=c(n,["name"]);return l!=null&&f(o,["endpoint"],l),o}function _N(n,e){const o={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=c(n,["examples"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),f(o,["examples","examples"],l)}return o}function SN(n,e,o){const s={};let l=c(o,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const d=c(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(l==="PREFERENCE_TUNING"){const d=c(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}let u=c(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const d=c(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(u==="PREFERENCE_TUNING"){const d=c(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}if(c(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function zy(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=c(n,["name"]);l!=null&&f(o,["name"],l);const u=c(n,["state"]);u!=null&&f(o,["state"],ty(u));const d=c(n,["createTime"]);d!=null&&f(o,["createTime"],d);const h=c(n,["tuningTask","startTime"]);h!=null&&f(o,["startTime"],h);const y=c(n,["tuningTask","completeTime"]);y!=null&&f(o,["endTime"],y);const m=c(n,["updateTime"]);m!=null&&f(o,["updateTime"],m);const v=c(n,["description"]);v!=null&&f(o,["description"],v);const _=c(n,["baseModel"]);_!=null&&f(o,["baseModel"],_);const T=c(n,["_self"]);return T!=null&&f(o,["tunedModel"],vN(T)),o}function xc(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=c(n,["name"]);l!=null&&f(o,["name"],l);const u=c(n,["state"]);u!=null&&f(o,["state"],ty(u));const d=c(n,["createTime"]);d!=null&&f(o,["createTime"],d);const h=c(n,["startTime"]);h!=null&&f(o,["startTime"],h);const y=c(n,["endTime"]);y!=null&&f(o,["endTime"],y);const m=c(n,["updateTime"]);m!=null&&f(o,["updateTime"],m);const v=c(n,["error"]);v!=null&&f(o,["error"],v);const _=c(n,["description"]);_!=null&&f(o,["description"],_);const T=c(n,["baseModel"]);T!=null&&f(o,["baseModel"],T);const E=c(n,["tunedModel"]);E!=null&&f(o,["tunedModel"],E);const M=c(n,["preTunedModel"]);M!=null&&f(o,["preTunedModel"],M);const L=c(n,["supervisedTuningSpec"]);L!=null&&f(o,["supervisedTuningSpec"],L);const w=c(n,["preferenceOptimizationSpec"]);w!=null&&f(o,["preferenceOptimizationSpec"],w);const H=c(n,["tuningDataStats"]);H!=null&&f(o,["tuningDataStats"],H);const j=c(n,["encryptionSpec"]);j!=null&&f(o,["encryptionSpec"],j);const J=c(n,["partnerModelTuningSpec"]);J!=null&&f(o,["partnerModelTuningSpec"],J);const W=c(n,["customBaseModel"]);W!=null&&f(o,["customBaseModel"],W);const re=c(n,["experiment"]);re!=null&&f(o,["experiment"],re);const le=c(n,["labels"]);le!=null&&f(o,["labels"],le);const $=c(n,["outputUri"]);$!=null&&f(o,["outputUri"],$);const ge=c(n,["pipelineJob"]);ge!=null&&f(o,["pipelineJob"],ge);const ne=c(n,["serviceAccount"]);ne!=null&&f(o,["serviceAccount"],ne);const ie=c(n,["tunedModelDisplayName"]);ie!=null&&f(o,["tunedModelDisplayName"],ie);const de=c(n,["veoTuningSpec"]);return de!=null&&f(o,["veoTuningSpec"],de),o}function TN(n,e){const o={},s=c(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const l=c(n,["name"]);l!=null&&f(o,["name"],l);const u=c(n,["metadata"]);u!=null&&f(o,["metadata"],u);const d=c(n,["done"]);d!=null&&f(o,["done"],d);const h=c(n,["error"]);return h!=null&&f(o,["error"],h),o}function Zg(n,e){const o={},s=c(n,["gcsUri"]);s!=null&&f(o,["validationDatasetUri"],s);const l=c(n,["vertexDatasetResource"]);return l!=null&&f(o,["validationDatasetUri"],l),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CN extends Mn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new ki(Nn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const l={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(l.checkpointId=o.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},o),{preTunedModel:l});return u.baseModel=void 0,await this.tuneInternal(u)}else{const l=Object.assign({},o);return await this.tuneInternal(l)}else{const l=Object.assign({},o),u=await this.tuneMldevInternal(l);let d="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?d=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(d=u.name.split("/operations/")[0]),{name:d,state:fc.JOB_STATE_QUEUED}}}}async getInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=fN(e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>xc(v))}else{const m=cN(e);return h=te("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>zy(v))}}async listInternal(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=mN(e);return h=te("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=yN(v),T=new xg;return Object.assign(T,_),T})}else{const m=hN(e);return h=te("tunedModels",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=gN(v),T=new xg;return Object.assign(T,_),T})}}async cancel(e){var o,s,l,u;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=iN(e);return h=te("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=sN(v),T=new Eg;return Object.assign(T,_),T})}else{const m=nN(e);return h=te("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const _=oN(v),T=new Eg;return Object.assign(T,_),T})}}async tuneInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const h=uN(e,e);return u=te("tuningJobs",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>xc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,s;let l,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=aN(e);return u=te("tunedModels",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),l.then(y=>TN(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xN{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const EN=1024*1024*8,bN=3,AN=1e3,RN=2,gl="x-goog-upload-status";async function NN(n,e,o){var s;const l=await qy(n,e,o),u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[gl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function MN(n,e,o){var s;const l=await qy(n,e,o),u=await(l==null?void 0:l.json());if(((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[gl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=K0(u),h=new Pc;return Object.assign(h,d),h}async function qy(n,e,o){var s,l;let u=0,d=0,h=new dc(new Response),y="upload";for(u=n.size;d<u;){const m=Math.min(EN,u-d),v=n.slice(d,d+m);d+m>=u&&(y+=", finalize");let _=0,T=AN;for(;_<bN&&(h=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(d),"Content-Length":String(m)}}}),!(!((s=h==null?void 0:h.headers)===null||s===void 0)&&s[gl]));)_++,await DN(T),T=T*RN;if(d+=m,((l=h==null?void 0:h.headers)===null||l===void 0?void 0:l[gl])!=="active")break;if(u<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function IN(n){return{size:n.size,type:n.type}}function DN(n){return new Promise(e=>setTimeout(e,n))}class kN{async upload(e,o,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await NN(e,o,s)}async uploadToFileSearchStore(e,o,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await MN(e,o,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await IN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wN{create(e,o,s){return new UN(e,o,s)}}class UN{constructor(e,o,s){this.url=e,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wg="x-goog-api-key";class LN{constructor(e){this.apiKey=e}async addAuthHeaders(e,o){if(e.get(Wg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Wg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PN="gl-node/";class ON{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new st({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=o.interactions,this._interactions}constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const s=DC(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const l=new LN(this.apiKey);this.apiClient=new I1({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:PN+"web",uploader:new kN,downloader:new xN}),this.models=new K1(this.apiClient),this.live=new B1(this.apiClient,l,new wN),this.batches=new rE(this.apiClient),this.chats=new HE(this.models,this.apiClient),this.caches=new GE(this.apiClient),this.files=new ZE(this.apiClient),this.operations=new X1(this.apiClient),this.authTokens=new dR(this.apiClient),this.tunings=new CN(this.apiClient),this.fileSearchStores=new SR(this.apiClient)}}const GN=({onSave:n,onCancel:e,initialQuiz:o})=>{const[s,l]=se.useState((o==null?void 0:o.title)||""),[u,d]=se.useState((o==null?void 0:o.description)||""),[h,y]=se.useState((o==null?void 0:o.coverImageUrl)||""),[m,v]=se.useState((o==null?void 0:o.questions)||[{id:Date.now(),type:"MC",text:"",timeLimit:20,correctOptionId:"opt1",options:[{id:"opt1",color:"red",text:""},{id:"opt2",color:"blue",text:""},{id:"opt3",color:"green",text:""},{id:"opt4",color:"yellow",text:""}]}]),[_,T]=se.useState(null),[E,M]=se.useState(!1),[L,w]=se.useState(!1),[H,j]=se.useState(!1),[J,W]=se.useState(""),[re,le]=se.useState(5),[$,ge]=se.useState("gemini"),[ne,ie]=se.useState(""),[de,Ce]=se.useState(!1),_e=()=>{v([...m,{id:Date.now(),type:"MC",text:"",timeLimit:20,correctOptionId:"opt1",options:[{id:"opt1",color:"red",text:""},{id:"opt2",color:"blue",text:""},{id:"opt3",color:"green",text:""},{id:"opt4",color:"yellow",text:""}]}])},Ie=O=>{m.length!==1&&v(m.filter(Z=>Z.id!==O))},$e=(O,Z)=>{v(m.map(K=>{if(K.id!==O)return K;const Y={...K,type:Z};switch(Z){case"MC":case"POLL":return{...Y,options:[{id:"opt1",color:"red",text:""},{id:"opt2",color:"blue",text:""},{id:"opt3",color:"green",text:""},{id:"opt4",color:"yellow",text:""}],correctOptionId:"opt1"};case"TRUE_FALSE":return{...Y,options:[{id:"true",color:"blue",text:"True"},{id:"false",color:"red",text:"False"}],correctOptionId:"true"};case"OPEN_ENDED":return{...Y,correctAnswer:"",options:void 0};case"WORD_CLOUD":return{...Y,options:void 0};case"SLIDER":return{...Y,min:0,max:100,step:1,correctValue:50,options:void 0};default:return Y}}))},P=(O,Z,K)=>{v(m.map(Y=>Y.id===O?{...Y,[Z]:K}:Y))},D=(O,Z,K)=>{v(m.map(Y=>Y.id===O&&Y.options?{...Y,options:Y.options.map(F=>F.id===Z?{...F,text:K}:F)}:Y))},X=(O,Z)=>{v(m.map(K=>K.id===O?{...K,correctOptionId:Z}:K))},oe=async()=>{if(!J.trim()){T("Please enter a topic.");return}if($!=="gemini"&&!ne.trim()){T("API Key is required for the selected provider.");return}Ce(!0),T(null);try{let O=[];if($==="gemini"){const Y=await new ON({apiKey:void 0}).models.generateContent({model:"gemini-3-flash-preview",contents:`Generate ${re} quiz questions about "${J}". 
                Mix types between Multiple Choice (MC), TRUE_FALSE, and OPEN_ENDED. 
                For MC, provide 4 options. 
                For TRUE_FALSE, the answer must be 'True' or 'False'.
                For OPEN_ENDED, provide a short text answer.`,config:{responseMimeType:"application/json",responseSchema:{type:St.ARRAY,items:{type:St.OBJECT,properties:{text:{type:St.STRING},type:{type:St.STRING,enum:["MC","TRUE_FALSE","OPEN_ENDED"]},options:{type:St.ARRAY,items:{type:St.STRING}},correctAnswer:{type:St.STRING}},required:["text","type","correctAnswer"]}}}});O=JSON.parse(Y.text)}else if($==="openai"){const K=`Generate ${re} quiz questions about "${J}". 
            Return a JSON object with a key "questions" containing an array. 
            Each question object must have:
            - text: string
            - type: "MC" | "TRUE_FALSE" | "OPEN_ENDED"
            - options: string[] (4 options for MC)
            - correctAnswer: string
            For TRUE_FALSE, options are implied.`,F=await(await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ne}`},body:JSON.stringify({model:"gpt-3.5-turbo-0125",messages:[{role:"system",content:"You are a quiz generation assistant. You only output valid JSON."},{role:"user",content:K}],response_format:{type:"json_object"}})})).json();if(F.error)throw new Error(F.error.message);const ae=JSON.parse(F.choices[0].message.content);O=ae.questions||ae}else if($==="claude"){const K=`Generate ${re} quiz questions about "${J}". 
            Return ONLY a JSON array. Do not include any other text.
            Structure:
            [
              {
                "text": "Question?",
                "type": "MC" (or TRUE_FALSE or OPEN_ENDED),
                "options": ["A", "B", "C", "D"],
                "correctAnswer": "A"
              }
            ]`,Y=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"x-api-key":ne,"anthropic-version":"2023-06-01","content-type":"application/json"},body:JSON.stringify({model:"claude-3-haiku-20240307",max_tokens:1500,messages:[{role:"user",content:K}]})});if(!Y.ok)throw new Error("Anthropic API request failed. Note: Claude API often blocks browser requests (CORS).");const ae=(await Y.json()).content[0].text,Ee=ae.substring(ae.indexOf("["),ae.lastIndexOf("]")+1);O=JSON.parse(Ee)}if(!Array.isArray(O))throw new Error("Invalid format received from AI");const Z=O.map((K,Y)=>{let F="MC";const ae=String(K.type).toUpperCase();ae.includes("TRUE")||ae.includes("FALSE")||ae==="TF"?F="TRUE_FALSE":ae.includes("OPEN")||ae==="text"?F="OPEN_ENDED":ae.includes("POLL")&&(F="POLL");const Ee={id:Date.now()+Y,text:K.text,type:F,timeLimit:20};if(Ee.type==="MC"){const lt=[...K.options&&Array.isArray(K.options)?K.options:["A","B","C","D"],"Option","Option","Option"].slice(0,4);Ee.options=[{id:"opt1",color:"red",text:String(lt[0]||"")},{id:"opt2",color:"blue",text:String(lt[1]||"")},{id:"opt3",color:"green",text:String(lt[2]||"")},{id:"opt4",color:"yellow",text:String(lt[3]||"")}];const at=lt.findIndex(He=>He===K.correctAnswer),Qe=["opt1","opt2","opt3","opt4"];Ee.correctOptionId=at!==-1?Qe[at]:"opt1"}else if(Ee.type==="TRUE_FALSE"){Ee.options=[{id:"true",color:"blue",text:"True"},{id:"false",color:"red",text:"False"}];const rt=String(K.correctAnswer).toLowerCase().includes("true");Ee.correctOptionId=rt?"true":"false"}else Ee.type==="OPEN_ENDED"&&(Ee.correctAnswer=K.correctAnswer||"");return Ee});m.length===1&&m[0].text===""?v(Z):v([...m,...Z]),j(!1),W(""),s||l(`${J} Quiz`)}catch(O){console.error(O),T(O.message||"Failed to generate questions.")}finally{Ce(!1)}},me=()=>{const O=["Type","Question Text","Time Limit","Correct Answer/Value","Option 1 / Min","Option 2 / Max","Option 3","Option 4"],Z=[["MC","Which planet is the Red Planet?","20","Mars","Mars","Venus","Jupiter","Saturn"],["TRUE_FALSE","The earth is flat.","15","False","","","",""],["OPEN_ENDED","Who wrote Romeo and Juliet?","30","Shakespeare","","","",""],["SLIDER","Days in a leap year?","20","366","300","400","",""],["POLL","Favorite Color?","20","","Red","Blue","Green","Yellow"],["WORD_CLOUD","Describe space in one word","30","","","","",""]],K=[O.join(","),...Z.map(Ee=>Ee.map(rt=>rt.includes(",")||rt.includes('"')?`"${rt.replace(/"/g,'""')}"`:rt).join(","))].join(`
`),Y=new Blob([K],{type:"text/csv;charset=utf-8;"}),F=URL.createObjectURL(Y),ae=document.createElement("a");ae.href=F,ae.setAttribute("download","quizwiz_sample.csv"),document.body.appendChild(ae),ae.click(),document.body.removeChild(ae)},A=O=>{const Z=[];let K="",Y=!1;for(let F=0;F<O.length;F++){const ae=O[F];ae==='"'?Y&&O[F+1]==='"'?(K+='"',F++):Y=!Y:ae===","&&!Y?(Z.push(K.trim()),K=""):K+=ae}return Z.push(K.trim()),Z},z=O=>{var Y;const Z=(Y=O.target.files)==null?void 0:Y[0];if(!Z)return;const K=new FileReader;K.onload=F=>{var ae;Q((ae=F.target)==null?void 0:ae.result)},K.readAsText(Z),O.target.value=""},Q=O=>{try{const Z=O.split(/\r?\n/).filter(F=>F.trim().length>0),K=[],Y=Z[0].toLowerCase().includes("type")?1:0;for(let F=Y;F<Z.length;F++){const ae=A(Z[F]);if(ae.length<2)continue;const Ee=ae[0].toUpperCase(),rt=ae[1],lt=parseInt(ae[2])||20,at=ae[3];let Qe="MC";Ee.includes("MC")||Ee.includes("MULTIPLE")?Qe="MC":Ee.includes("TRUE")||Ee.includes("TF")?Qe="TRUE_FALSE":Ee.includes("OPEN")?Qe="OPEN_ENDED":Ee.includes("POLL")?Qe="POLL":Ee.includes("CLOUD")?Qe="WORD_CLOUD":Ee.includes("SLIDER")&&(Qe="SLIDER");const He={id:Date.now()+F,type:Qe,text:rt,timeLimit:lt};if(Qe==="MC"||Qe==="POLL"){if(He.options=[{id:"opt1",color:"red",text:ae[4]||""},{id:"opt2",color:"blue",text:ae[5]||""},{id:"opt3",color:"green",text:ae[6]||""},{id:"opt4",color:"yellow",text:ae[7]||""}],Qe==="MC"){const ri=He.options.find(Ds=>Ds.text.toLowerCase()===at.toLowerCase());He.correctOptionId=ri?ri.id:"opt1"}}else Qe==="TRUE_FALSE"?(He.options=[{id:"true",color:"blue",text:"True"},{id:"false",color:"red",text:"False"}],He.correctOptionId=at.toLowerCase().includes("true")?"true":"false"):Qe==="OPEN_ENDED"?He.correctAnswer=at:Qe==="SLIDER"&&(He.correctValue=Number(at)||50,He.min=Number(ae[4])||0,He.max=Number(ae[5])||100,He.step=1);K.push(He)}K.length>0?(v([...m,...K]),setTimeout(()=>window.scrollTo(0,document.body.scrollHeight),100)):T("Could not parse any questions. Check format.")}catch(Z){console.error(Z),T("Failed to process CSV file.")}},ee=async()=>{var Y,F;if(!s.trim()){T("Please enter a quiz title.");return}for(let ae=0;ae<m.length;ae++){const Ee=m[ae];if(!Ee.text.trim()){T(`Question ${ae+1} is missing text.`);return}if((Ee.type==="MC"||Ee.type==="POLL")&&((Y=Ee.options)!=null&&Y.some(rt=>!rt.text.trim()))){T(`Question ${ae+1} has empty options.`);return}if(Ee.type==="OPEN_ENDED"&&!((F=Ee.correctAnswer)!=null&&F.trim())){T(`Question ${ae+1} needs a correct answer.`);return}}M(!0);const O=localStorage.getItem("quizwiz_quizzes");let Z=O?JSON.parse(O):[],K;o?(K={...o,title:s.trim(),description:u,coverImageUrl:h,questions:m},Z=Z.map(ae=>ae.id===o.id?K:ae)):(K={id:"quiz-"+Date.now().toString(36)+Math.random().toString(36).substr(2,5),title:s.trim(),description:u,coverImageUrl:h,questions:m,createdAt:Date.now()},Z.push(K)),localStorage.setItem("quizwiz_quizzes",JSON.stringify(Z)),await Q0(K),M(!1),n()};return C.jsxs("div",{className:"min-h-screen bg-indigo-50 dark:bg-slate-900 pb-20 transition-colors",children:[C.jsx("div",{className:"sticky top-0 z-20 bg-white/90 dark:bg-slate-900/90 backdrop-blur border-b border-slate-200 dark:border-slate-800 p-4 shadow-sm",children:C.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[C.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:o?"Edit Quiz":"Create New Quiz"}),C.jsxs("div",{className:"flex gap-3",children:[C.jsx("button",{onClick:e,className:"px-4 py-2 text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors",children:"Cancel"}),C.jsxs("button",{onClick:ee,disabled:E,className:"flex items-center gap-2 px-6 py-2 bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 text-white font-bold rounded-lg shadow-lg shadow-indigo-500/20 active:scale-95 transition-all",children:[E?C.jsx(al,{className:"w-4 h-4 animate-spin"}):C.jsx(ST,{className:"w-4 h-4"})," ",E?"Saving...":"Save Quiz"]})]})]})}),C.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[C.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-200 dark:border-slate-700 animate-pop",children:[C.jsxs("h2",{className:"text-xl font-bold mb-6 text-slate-900 dark:text-white flex items-center gap-2",children:[C.jsx(ET,{className:"w-5 h-5 text-indigo-500"})," Basic Information"]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[C.jsxs("div",{className:"md:col-span-2 space-y-6",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Quiz Title"}),C.jsx("input",{type:"text",value:s,onChange:O=>l(O.target.value),placeholder:"Enter a catchy title...",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 focus:border-indigo-500 rounded-xl px-4 py-3 text-lg font-bold text-slate-900 dark:text-white outline-none transition-colors placeholder-slate-400"})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Description (Optional)"}),C.jsx("textarea",{value:u,onChange:O=>d(O.target.value),placeholder:"Provide a short description for your quiz to increase visibility.",rows:4,maxLength:500,className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 focus:border-indigo-500 rounded-xl px-4 py-3 text-slate-700 dark:text-slate-300 outline-none transition-colors placeholder-slate-400 resize-none"}),C.jsxs("div",{className:"text-right text-xs text-slate-400",children:[u.length,"/500"]})]})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Cover Image"}),C.jsx("div",{className:"aspect-video bg-slate-100 dark:bg-slate-900 rounded-xl border-2 border-dashed border-slate-300 dark:border-slate-700 flex flex-col items-center justify-center overflow-hidden relative group",children:h&&!L?C.jsxs(C.Fragment,{children:[C.jsx("img",{src:uc(h),className:"w-full h-full object-cover",alt:"Cover",onError:()=>w(!0),onLoad:()=>w(!1)}),C.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:C.jsx("button",{onClick:()=>{y(""),w(!1)},className:"text-white bg-red-500 p-2 rounded-full hover:bg-red-600 transition-colors",children:C.jsx(ju,{className:"w-5 h-5"})})})]}):h&&L?C.jsxs("div",{className:"text-center p-4",children:[C.jsx(tm,{className:"w-10 h-10 mx-auto text-red-400 mb-2"}),C.jsx("p",{className:"text-xs text-red-500 font-semibold",children:"Failed to load image"}),C.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"Check if link is public"}),C.jsx("button",{onClick:()=>{y(""),w(!1)},className:"mt-2 text-xs text-red-500 underline",children:"Remove"})]}):C.jsxs("div",{className:"text-center p-4",children:[C.jsx(nm,{className:"w-10 h-10 mx-auto text-slate-400 mb-2"}),C.jsx("p",{className:"text-xs text-slate-500",children:"Preview Area"})]})}),C.jsx("input",{type:"text",value:h,onChange:O=>{y(O.target.value),w(!1)},placeholder:"Paste image URL here...",className:"w-full text-sm bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 text-slate-700 dark:text-slate-300 outline-none focus:border-indigo-500 transition-colors"}),C.jsx("p",{className:"text-xs text-slate-400 mt-1",children:' For Google Drive: Right-click  Share  "Anyone with the link"  Copy link'})]})]}),C.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200 dark:border-slate-700 flex flex-wrap gap-4 items-center",children:[C.jsx("span",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 mr-auto",children:"Actions:"}),C.jsxs("button",{onClick:()=>j(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white rounded-lg transition-colors text-sm font-bold shadow-md hover:shadow-lg hover:-translate-y-0.5",children:[C.jsx(bs,{className:"w-4 h-4"})," Magic Generate"]}),C.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-lg cursor-pointer transition-colors text-slate-600 dark:text-slate-300 text-sm font-semibold",children:[C.jsx(wT,{className:"w-4 h-4"})," Import CSV",C.jsx("input",{type:"file",accept:".csv",onChange:z,className:"hidden"})]}),C.jsxs("button",{onClick:me,className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-lg transition-colors text-slate-600 dark:text-slate-300 text-sm font-semibold",children:[C.jsx(eT,{className:"w-4 h-4"})," Sample CSV"]})]})]}),C.jsx("div",{className:"space-y-8",children:m.map((O,Z)=>{var K,Y;return C.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl p-6 relative group animate-pop shadow-sm",children:[C.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-4 gap-4",children:[C.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[C.jsxs("h3",{className:"text-indigo-600 dark:text-indigo-400 font-bold text-lg",children:["Q",Z+1]}),C.jsx("div",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-900 px-3 py-1 rounded-lg border border-slate-200 dark:border-slate-700",children:C.jsxs("select",{value:O.type,onChange:F=>$e(O.id,F.target.value),className:"bg-transparent text-slate-700 dark:text-white text-sm outline-none cursor-pointer font-semibold",children:[C.jsx("option",{value:"MC",children:"Multiple Choice"}),C.jsx("option",{value:"TRUE_FALSE",children:"True / False"}),C.jsx("option",{value:"POLL",children:"Poll (No Score)"}),C.jsx("option",{value:"OPEN_ENDED",children:"Open Ended"}),C.jsx("option",{value:"WORD_CLOUD",children:"Word Cloud"}),C.jsx("option",{value:"SLIDER",children:"Slider"})]})}),C.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-900 px-3 py-1 rounded-lg border border-slate-200 dark:border-slate-700",children:[C.jsx(JS,{className:"w-4 h-4 text-slate-400"}),C.jsxs("select",{value:O.timeLimit||20,onChange:F=>P(O.id,"timeLimit",Number(F.target.value)),className:"bg-transparent text-slate-700 dark:text-white text-sm outline-none cursor-pointer",children:[C.jsx("option",{value:10,children:"10s"}),C.jsx("option",{value:20,children:"20s"}),C.jsx("option",{value:30,children:"30s"}),C.jsx("option",{value:60,children:"60s"})]})]})]}),m.length>1&&C.jsx("button",{onClick:()=>Ie(O.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-lg transition-colors self-end md:self-auto",children:C.jsx(ju,{className:"w-5 h-5"})})]}),C.jsxs("div",{className:"space-y-4 mb-6",children:[C.jsx("input",{type:"text",value:O.text,onChange:F=>P(O.id,"text",F.target.value),placeholder:"Type your question here...",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 focus:border-indigo-500 rounded-lg px-4 py-3 text-lg text-slate-900 dark:text-white outline-none transition-colors"}),C.jsxs("div",{className:"flex gap-4",children:[C.jsx("div",{className:"flex-1",children:C.jsxs("div",{className:"relative",children:[C.jsx("input",{type:"text",value:O.mediaUrl||"",onChange:F=>P(O.id,"mediaUrl",F.target.value),placeholder:"Paste Image URL or YouTube Link (Optional)",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 focus:border-indigo-500 rounded-lg pl-10 pr-4 py-2 text-sm text-slate-900 dark:text-white outline-none"}),C.jsx("div",{className:"absolute left-3 top-2.5 text-slate-400",children:O.mediaUrl&&(O.mediaUrl.includes("youtube")||O.mediaUrl.includes("youtu.be"))?C.jsx(om,{className:"w-4 h-4"}):C.jsx(nm,{className:"w-4 h-4"})})]})}),C.jsx("div",{className:"w-32",children:C.jsxs("select",{value:O.mediaType||"image",onChange:F=>P(O.id,"mediaType",F.target.value),className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-900 dark:text-white outline-none cursor-pointer",children:[C.jsx("option",{value:"image",children:"Image"}),C.jsx("option",{value:"youtube",children:"YouTube"})]})})]}),O.mediaUrl&&C.jsx("div",{className:"mt-2 rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700 bg-slate-100 dark:bg-slate-900 max-h-48 w-full flex justify-center",children:O.mediaType==="youtube"||O.mediaUrl.includes("youtube")||O.mediaUrl.includes("youtu.be")?C.jsxs("div",{className:"text-slate-500 flex items-center gap-2 p-4 text-sm",children:[C.jsx(om,{className:"w-5 h-5 text-red-500"})," Video will be embedded"]}):C.jsx("img",{src:uc(O.mediaUrl),alt:"Preview",className:"h-full object-contain",onError:F=>F.currentTarget.style.display="none"})})]}),C.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/30 rounded-xl p-4 border border-slate-200 dark:border-slate-700/50",children:[(O.type==="MC"||O.type==="POLL")&&C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(K=O.options)==null?void 0:K.map(F=>C.jsxs("div",{className:"flex items-center gap-3 bg-white dark:bg-slate-900/80 p-3 rounded-lg border border-slate-200 dark:border-slate-700/50 shadow-sm",children:[C.jsxs("div",{className:`relative shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${O.type==="MC"?"cursor-pointer":""}`,onClick:()=>O.type==="MC"&&X(O.id,F.id),children:[C.jsx("div",{className:`absolute inset-0 rounded-full opacity-20 ${F.color==="red"?"bg-red-500":F.color==="blue"?"bg-blue-500":F.color==="green"?"bg-emerald-500":"bg-yellow-400"}`}),O.type==="MC"&&C.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${O.correctOptionId===F.id?"border-indigo-500 bg-indigo-500 dark:border-white dark:bg-white":"border-slate-300 dark:border-white/50 bg-transparent"}`}),O.type==="POLL"&&C.jsx(LS,{className:"w-4 h-4 text-slate-400"})]}),C.jsx("input",{type:"text",value:F.text,onChange:ae=>D(O.id,F.id,ae.target.value),placeholder:`Option ${F.color.charAt(0).toUpperCase()+F.color.slice(1)}`,className:`w-full bg-transparent border-b-2 border-transparent focus:border-${F.color==="green"?"emerald":F.color}-500 px-2 py-1 text-slate-900 dark:text-white outline-none transition-colors placeholder-slate-400`})]},F.id))}),O.type==="TRUE_FALSE"&&C.jsx("div",{className:"flex gap-4",children:(Y=O.options)==null?void 0:Y.map(F=>C.jsx("button",{onClick:()=>X(O.id,F.id),className:`flex-1 py-4 rounded-xl border-2 font-bold text-lg transition-all ${O.correctOptionId===F.id?F.id==="true"?"bg-blue-100 border-blue-500 text-blue-600 dark:bg-blue-500/20 dark:text-blue-400":"bg-red-100 border-red-500 text-red-600 dark:bg-red-500/20 dark:text-red-400":"border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-500 bg-white dark:bg-slate-900"}`,children:F.text},F.id))}),O.type==="OPEN_ENDED"&&C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Correct Answer (Exact Match)"}),C.jsx("input",{type:"text",value:O.correctAnswer||"",onChange:F=>P(O.id,"correctAnswer",F.target.value),placeholder:"e.g. Paris",className:"w-full bg-white dark:bg-slate-900 border border-emerald-500/50 rounded-lg px-4 py-3 text-emerald-600 dark:text-emerald-400 font-bold outline-none"})]}),O.type==="SLIDER"&&C.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Min"}),C.jsx("input",{type:"number",value:O.min??0,onChange:F=>P(O.id,"min",Number(F.target.value)),className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 text-slate-900 dark:text-white outline-none"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Max"}),C.jsx("input",{type:"number",value:O.max??100,onChange:F=>P(O.id,"max",Number(F.target.value)),className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 text-slate-900 dark:text-white outline-none"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"text-xs font-bold text-emerald-500 uppercase",children:"Correct Value"}),C.jsx("input",{type:"number",value:O.correctValue??50,onChange:F=>P(O.id,"correctValue",Number(F.target.value)),className:"w-full bg-white dark:bg-slate-900 border border-emerald-500 rounded-lg px-3 py-2 text-emerald-600 dark:text-emerald-400 font-bold outline-none"})]})]}),O.type==="WORD_CLOUD"&&C.jsx("div",{className:"flex items-center justify-center p-8 border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-xl",children:C.jsxs("p",{className:"text-slate-500 flex items-center gap-2",children:[C.jsx(fT,{className:"w-5 h-5"})," Players will type a short answer. No scoring."]})})]}),O.type!=="POLL"&&O.type!=="WORD_CLOUD"&&C.jsx("p",{className:"mt-3 text-xs text-slate-500 text-center",children:O.type==="MC"||O.type==="TRUE_FALSE"?"Select the correct option bubble.":"Ensure the correct answer is set."})]},O.id)})}),C.jsxs("button",{onClick:_e,className:"w-full py-4 border-2 border-dashed border-slate-300 dark:border-slate-700 hover:border-indigo-500 dark:hover:border-indigo-500 hover:bg-slate-50 dark:hover:bg-slate-800/50 text-slate-500 dark:text-slate-400 hover:text-indigo-600 dark:hover:text-white rounded-xl transition-all flex items-center justify-center gap-2 font-semibold",children:[C.jsx(s0,{className:"w-5 h-5"})," Add Question"]})]}),H&&C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-pop",children:C.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-6 border border-slate-200 dark:border-slate-700",children:[C.jsxs("div",{className:"flex justify-between items-center mb-6",children:[C.jsxs("h2",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-500 to-indigo-600 flex items-center gap-2",children:[C.jsx(bs,{className:"w-6 h-6 text-purple-500 fill-current"})," Magic Generate"]}),C.jsx("button",{onClick:()=>!de&&j(!1),className:"text-slate-500 hover:text-red-500",children:C.jsx(ec,{className:"w-6 h-6"})})]}),C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-slate-500 dark:text-slate-400 mb-2 uppercase",children:"AI Model"}),C.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[C.jsxs("button",{onClick:()=>ge("gemini"),className:`p-2 rounded-xl border flex flex-col items-center gap-1 transition-all ${$==="gemini"?"border-indigo-500 bg-indigo-50 dark:bg-indigo-500/20 text-indigo-600 dark:text-indigo-300":"border-slate-200 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-500"}`,children:[C.jsx(bs,{className:"w-5 h-5"}),C.jsx("span",{className:"text-xs font-bold",children:"Gemini"})]}),C.jsxs("button",{onClick:()=>ge("openai"),className:`p-2 rounded-xl border flex flex-col items-center gap-1 transition-all ${$==="openai"?"border-green-500 bg-green-50 dark:bg-green-500/20 text-green-600 dark:text-green-300":"border-slate-200 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-500"}`,children:[C.jsx(DS,{className:"w-5 h-5"}),C.jsx("span",{className:"text-xs font-bold",children:"OpenAI"})]}),C.jsxs("button",{onClick:()=>ge("claude"),className:`p-2 rounded-xl border flex flex-col items-center gap-1 transition-all ${$==="claude"?"border-purple-500 bg-purple-50 dark:bg-purple-500/20 text-purple-600 dark:text-purple-300":"border-slate-200 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-500"}`,children:[C.jsx(wS,{className:"w-5 h-5"}),C.jsx("span",{className:"text-xs font-bold",children:"Claude"})]})]})]}),$!=="gemini"&&C.jsxs("div",{className:"animate-pop",children:[C.jsxs("label",{className:"block text-sm font-bold text-slate-500 dark:text-slate-400 mb-2 uppercase flex items-center gap-2",children:[C.jsx(iT,{className:"w-3 h-3"})," API Key ",C.jsx("span",{className:"text-xs font-normal normal-case text-slate-400",children:"(Stored locally only)"})]}),C.jsx("input",{type:"password",value:ne,onChange:O=>ie(O.target.value),placeholder:`Enter your ${$==="openai"?"OpenAI":"Anthropic"} API Key`,className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl px-4 py-3 outline-none focus:border-indigo-500 text-slate-900 dark:text-white"}),$==="claude"&&C.jsx("p",{className:"text-[10px] text-amber-500 mt-1",children:"Note: Anthropic API may require a proxy due to strict browser CORS policies."})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-slate-500 dark:text-slate-400 mb-2 uppercase",children:"Topic"}),C.jsx("input",{type:"text",value:J,onChange:O=>W(O.target.value),placeholder:"e.g., 1980s Pop Music, Quantum Physics",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-600 rounded-xl px-4 py-3 outline-none focus:border-indigo-500 text-slate-900 dark:text-white",autoFocus:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-slate-500 dark:text-slate-400 mb-2 uppercase",children:"Number of Questions"}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("input",{type:"range",min:"1",max:"10",value:re,onChange:O=>le(Number(O.target.value)),className:"flex-1 accent-indigo-500"}),C.jsx("span",{className:"font-mono text-xl font-bold text-indigo-500",children:re})]})]}),C.jsx("button",{onClick:oe,disabled:de||!J.trim()||$!=="gemini"&&!ne.trim(),className:"w-full py-4 mt-4 bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-all active:scale-95",children:de?C.jsxs(C.Fragment,{children:[C.jsx(al,{className:"w-5 h-5 animate-spin"})," Generating..."]}):C.jsxs(C.Fragment,{children:[C.jsx(bs,{className:"w-5 h-5"})," Generate Quiz"]})})]})]})}),_&&C.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 flex items-center gap-2 px-6 py-3 bg-red-500 text-white rounded-full shadow-2xl animate-pop z-50",children:[C.jsx(tm,{className:"w-5 h-5"})," ",C.jsx("span",{children:_})," ",C.jsx("button",{onClick:()=>T(null),className:"ml-2 hover:bg-white/20 rounded-full p-1",children:C.jsx(ec,{className:"w-4 h-4"})})]})]})},zN=()=>{const[n,e]=se.useState(()=>new URLSearchParams(window.location.search).has("join")?"PLAYER_JOIN":"LANDING"),[o,s]=se.useState(null),[l,u]=se.useState(null),[d,h]=se.useState(()=>typeof window<"u"?localStorage.getItem("theme")==="dark"||!localStorage.getItem("theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches:!0);se.useEffect(()=>{d?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[d]);const y=()=>h(!d),m=()=>{switch(n){case"PLAYER_JOIN":return C.jsx(EC,{onBack:()=>{const v=new URL(window.location.href);v.searchParams.delete("join"),window.history.replaceState({},"",v),e("LANDING")}});case"HOST_AUTH":return C.jsx(bC,{onSuccess:()=>e("HOST_DASHBOARD"),onBack:()=>e("LANDING")});case"HOST_DASHBOARD":return C.jsx(AC,{onPlay:v=>{s(v),e("HOST_LOBBY")},onCreate:()=>{u(null),e("HOST_CREATE")},onEdit:v=>{u(v),e("HOST_CREATE")},onBack:()=>e("LANDING")});case"HOST_CREATE":return C.jsx(GN,{initialQuiz:l,onSave:()=>{u(null),e("HOST_DASHBOARD")},onCancel:()=>{u(null),e("HOST_DASHBOARD")}});case"HOST_LOBBY":return o?C.jsx(xC,{quiz:o,onBack:()=>e("HOST_DASHBOARD")}):C.jsx("div",{children:"Error: No quiz selected"});case"LANDING":default:return C.jsx(FT,{onHost:()=>e("HOST_AUTH"),onJoin:()=>e("PLAYER_JOIN")})}};return C.jsxs("div",{className:"min-h-screen text-slate-900 dark:text-white selection:bg-indigo-500 selection:text-white transition-colors duration-300",children:[C.jsx("button",{onClick:y,className:"fixed top-4 right-4 z-50 p-3 rounded-full bg-white/80 dark:bg-slate-800/80 backdrop-blur shadow-lg border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-all active:scale-95",title:"Toggle Theme",children:d?C.jsx(MT,{className:"w-5 h-5"}):C.jsx(pT,{className:"w-5 h-5"})}),m()]})},Hy=document.getElementById("root");if(!Hy)throw new Error("Could not find root element to mount to");const qN=CS.createRoot(Hy);qN.render(C.jsx(zN,{}));
